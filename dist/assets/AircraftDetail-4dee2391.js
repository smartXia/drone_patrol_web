import{_ as _s,L as Ts,M as js,r as S,m as Ge,x as xs,N as As,b as B,o as _,c as h,f as t,w as s,e,g as r,t as l,u as d,s as j,O as Zs,P as Is,Q as Ps,C as Js,R as Rs,F as fs,h as ys,S as Es,U as qs,V as es,W as Bs,G as A,v as Os,X as Vs,i as Xt,Y as Ks,Z as ps,$ as Ss,a0 as Ns,a1 as he,a2 as rs,B as ds,a3 as Hs,a4 as Dt,I as us,a5 as ns,a6 as Us,a7 as Ds,a8 as ms,a9 as ae,aa as Ws,ab as Ys,ac as Xs,ad as ea,q as Qs,ae as ta,af as sa,ag as aa,ah as oa,ai as la,H as na,aj as ia}from"./index-1c04b5bf.js";import{g as Fs,w as ra,C as Cs,A as gs}from"./amap-ee4ac7b4.js";import{C as da}from"./CameraLiveStream-f5890940.js";const ua={class:"airport-info-tab"},pa={key:0,class:"waiting-container"},ca={style:{"margin-top":"10px"}},va={style:{"margin-top":"15px"}},ga={style:{"margin-top":"15px",padding:"10px",background:"var(--el-color-info-light-9)","border-radius":"4px","font-size":"12px"}},ma={key:0},fa={class:"data-container"},ya={style:{"margin-bottom":"15px",color:"var(--el-text-color-primary)","border-left":"4px solid var(--el-color-primary)","padding-left":"10px"}},_a={key:0,style:{"font-size":"12px",color:"var(--el-color-success)","margin-left":"10px"}},xa={style:{"margin-bottom":"15px"}},ba={style:{color:"var(--el-text-color-primary)","font-weight":"500"}},ha={style:{"font-size":"10px",color:"#999","margin-top":"2px"}},wa={class:"card-header"},za={key:0,style:{"margin-left":"4px"}},$a={class:"info-content"},ka={class:"info-item"},Sa={class:"value"},Ta={class:"info-item"},Ma={class:"value"},Da={class:"info-item"},Ca={class:"value"},Oa={class:"info-item"},Pa={class:"value"},Na={class:"info-item"},Ha={class:"info-item"},Ra={class:"info-item"},ja={class:"info-item"},Aa={class:"info-item"},La={class:"value"},Va={class:"info-item"},Ua={class:"info-item"},Fa={class:"info-item"},Ia={class:"value"},Ja={class:"info-item"},Ea={class:"value"},qa={class:"card-header"},Ba={key:0,style:{"margin-left":"4px"}},Qa={key:1,style:{"margin-left":"4px","font-size":"10px"}},Ga={class:"info-content"},Za={key:0,style:{background:"var(--el-color-warning-light-9)",padding:"5px","border-radius":"4px","margin-bottom":"8px","font-size":"12px",color:"var(--el-color-warning)"}},Ka={class:"info-item"},Wa={class:"value"},Ya={class:"info-item"},Xa={class:"value",title:"Ê†ºÂºè: {domain-type-subtype}"},eo={class:"info-item"},to={class:"info-item"},so={class:"info-item"},ao={class:"value"},oo={class:"info-item"},lo={class:"value"},no={class:"info-item"},io={class:"value"},ro={class:"info-item"},uo={class:"value"},po={class:"info-item"},co={class:"value"},vo={class:"info-item"},go={class:"info-item"},mo={class:"value"},fo={class:"card-header"},yo={key:0,style:{"margin-left":"4px"}},_o={class:"info-content"},xo={class:"info-item"},bo={class:"value"},ho={class:"info-item"},wo={class:"value"},zo={class:"info-item"},$o={class:"value"},ko={class:"info-item"},So={class:"value"},To={class:"info-item"},Mo={class:"value"},Do={class:"info-item"},Co={class:"info-item"},Oo={class:"value"},Po={class:"info-item"},No={class:"value"},Ho={class:"info-item"},Ro={class:"info-item"},jo={class:"info-item"},Ao={class:"value"},Lo={class:"info-item"},Vo={key:0,class:"info-item"},Uo={class:"value"},Fo={class:"info-item"},Io={class:"card-header"},Jo={key:0,style:{"margin-left":"4px"}},Eo={class:"info-content"},qo={class:"info-item"},Bo={class:"info-item"},Qo={class:"info-item"},Go={class:"value"},Zo={class:"info-item"},Ko={class:"value"},Wo={class:"info-item"},Yo={class:"value"},Xo={class:"info-item"},el={class:"value"},tl={class:"info-item"},sl={class:"value"},al={class:"info-item"},ol={class:"value"},ll={class:"info-item"},nl={class:"value"},il={class:"info-item"},rl={class:"info-item"},dl={class:"value"},ul={class:"info-item"},pl={class:"value"},cl={class:"info-item"},vl={class:"value"},gl={class:"card-header"},ml={class:"info-content"},fl={class:"info-item",style:{background:"var(--el-color-warning-light-9)",padding:"5px","border-radius":"4px","margin-bottom":"8px","font-size":"12px"}},yl={style:{"margin-top":"2px"}},_l={key:0,class:"info-item"},xl={class:"value"},bl={key:1,class:"info-item"},hl={class:"value"},wl={key:2,class:"info-item"},zl={style:{"margin-top":"5px"}},$l={style:{"font-weight":"bold",color:"var(--el-color-primary)"}},kl={style:{"margin-top":"2px"}},Sl={style:{color:"var(--el-color-success)"}},Tl={style:{"margin-left":"10px",color:"var(--el-color-warning)"}},Ml={key:0,style:{"margin-top":"5px"}},Dl={style:{"font-weight":"bold"}},Cl={style:{"font-size":"11px",color:"var(--el-color-text-regular)"}},Ol={key:0,style:{"margin-top":"3px"}},Pl={key:0,style:{color:"var(--el-color-primary)"}},Nl={key:3,class:"info-item"},Hl={style:{"margin-top":"5px"}},Rl={key:4,style:{"text-align":"center",padding:"20px",color:"var(--el-color-text-secondary)"}},jl={class:"card-header"},Al={class:"info-content"},Ll={class:"info-item"},Vl={class:"info-item"},Ul={class:"info-item"},Fl={class:"value",style:{"font-size":"10px"}},Il={class:"info-item"},Jl={class:"value",style:{"font-size":"10px"}},El={class:"info-item"},ql={class:"card-header"},Bl={class:"info-content"},Ql={class:"info-item"},Gl={class:"value"},Zl={class:"info-item"},Kl={class:"value"},Wl={class:"info-item"},Yl={class:"value"},Xl={class:"info-item"},en={class:"value"},tn={class:"info-item"},sn={class:"value"},an={class:"info-item"},on={class:"value"},ln={class:"card-header"},nn={class:"info-content"},rn={class:"info-item"},dn={class:"value"},un={class:"info-item"},pn={class:"value"},cn={class:"info-item"},vn={class:"info-item"},gn={class:"info-item"},mn={class:"value"},fn={class:"info-item"},yn={class:"value"},_n={class:"info-item"},xn={class:"value"},bn={class:"info-item"},hn={class:"value"},wn={style:{position:"fixed",top:"50%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},zn={style:{position:"fixed",top:"60%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},$n={class:"info-content"},kn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Sn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Tn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Mn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Dn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Cn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},On={style:{padding:"10px"}},Pn={style:{"margin-bottom":"15px"}},Nn={style:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"}},Hn={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},Rn={key:0,style:{"margin-left":"4px"}},jn={key:1,style:{color:"var(--el-color-warning)"}},An={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},Ln={key:0,style:{"margin-left":"4px"}},Vn={key:1,style:{color:"var(--el-color-warning)"}},Un={key:2,style:{"font-size":"10px",color:"#666","margin-top":"2px"}},Fn={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},In={key:0,style:{"margin-left":"4px"}},Jn={key:1,style:{color:"var(--el-color-warning)"}},En={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},qn={key:0,style:{"margin-left":"4px"}},Bn={key:1,style:{color:"var(--el-color-warning)"}},Qn={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},Gn={key:0,style:{"margin-left":"4px"}},Zn={key:1,style:{color:"var(--el-color-warning)"}},Kn={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},Wn={key:0,style:{"margin-left":"4px"}},Yn={key:1,style:{color:"var(--el-color-warning)"}},Xn={key:0,style:{background:"var(--el-color-success-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},ei={key:1,style:{background:"var(--el-color-info-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},ti={key:2,style:{background:"var(--el-color-warning-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},si={key:3,style:{background:"var(--el-color-danger-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},ai={key:4,style:{background:"var(--el-color-success-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},oi={key:5,style:{background:"var(--el-color-primary-light-9)",padding:"10px","border-radius":"4px"}},li={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},ni={key:1,class:"waiting-data",style:{margin:"20px 0",padding:"20px","text-align":"center",background:"var(--el-color-warning-light-9)","border-radius":"8px"}},ii={__name:"AirportInfoTab",props:{deviceSn:String,airportSn:String},emits:["dataReceived","subscriptionStatus"],setup(L,{emit:Ct}){const z=L,Se=Ct,k=Ts(),ce=js(),n=S(null),f=S(!1),W=S("Êú™ËÆ¢ÈòÖ"),ve=S(!1),ye=S("disconnected"),De=S("disconnected"),oe=S(null),le=S(null),Me=S(!1),nt=S(null),lt=S(null),Ze=S(null),Fe=S(null),We=S(null),y=S(null),x=S(null),M=S(null),Q=S(null),Ie=Ge(()=>{var a;return`thing/product/${z.airportSn||((a=ce.currentDevice)==null?void 0:a.airport_sn)||z.deviceSn}/osd`}),it=Ge(()=>Ie.value),Ht=Ge(()=>Fe.value&&We.value&&Ze.value?`${Fe.value}-${We.value}-${Ze.value}`:Ze.value||"--"),Je=()=>{var p;return z.airportSn||((p=ce.currentDevice)==null?void 0:p.airport_sn)||z.deviceSn||"--"},Wt=p=>p?new Date(p).toLocaleString():"--",ts=(p,a)=>{p&&((p.job_number!==void 0||p.acc_time!==void 0||p.working_voltage!==void 0||p.working_current!==void 0||p.backup_battery!==void 0)&&(y.value={...a,data:p},console.log("üìä Êú∫Âú∫Âü∫Á°Ä‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:",p)),(p.wireless_link!==void 0||p.flighttask_prepare_capacity!==void 0||p.media_file_detail!==void 0)&&(x.value={...a,data:p},console.log("üì° Âõæ‰º†ÈìæË∑Ø‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:",p)),(p.temperature!==void 0||p.humidity!==void 0||p.latitude!==void 0||p.longitude!==void 0||p.network_state!==void 0||p.drone_in_dock!==void 0)&&(M.value={...a,data:p},console.log("üå°Ô∏è ÁéØÂ¢ÉÁä∂ÊÄÅ‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:",p)),(p.battery!==void 0||p.firmware_version!==void 0||p.maintain_status!==void 0||p.position_state!==void 0)&&(Q.value={...a,data:p},console.log("‚úàÔ∏è È£ûÊú∫‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:",p)))},H=p=>p?new Date(p).toLocaleTimeString():"--",v=p=>{if(!p)return"--";let a;if(typeof p=="string"?a=new Date(p).getTime():a=p,isNaN(a)||a<=0)return"Êó†ÊïàÊó∂Èó¥";const Y=Date.now(),V=Math.floor((Y-a)/1e3);return V<0?"Êú™Êù•Êó∂Èó¥":V>365*24*3600?"Âæà‰πÖ‰ª•Ââç":V<60?`${V}ÁßíÂâç`:V<3600?`${Math.floor(V/60)}ÂàÜÈíüÂâç`:V<86400?`${Math.floor(V/3600)}Â∞èÊó∂Ââç`:`${Math.floor(V/86400)}Â§©Ââç`},T=p=>{if(!p)return!0;let a;if(typeof p=="string"?a=new Date(p).getTime():a=p,isNaN(a)||a<=0)return!0;const Y=Date.now();return Math.floor((Y-a)/1e3)>300},ee=p=>{if(!p)return"--";const a=Math.floor(p/3600),Y=Math.floor(p%3600/60);return`${a}Â∞èÊó∂${Y}ÂàÜÈíü`},Ve=p=>{Me.value=!1,p()},ut=p=>!p||p===65535||p<0||p>5?"--":p,Ot=p=>({0:"success",1:"info",2:"info",3:"warning",4:"primary",5:"warning"})[p]||"info",pt=p=>({0:"Á©∫Èó≤‰∏≠",1:"Áé∞Âú∫Ë∞ÉËØï",2:"ËøúÁ®ãË∞ÉËØï",3:"Âõ∫‰ª∂ÂçáÁ∫ß‰∏≠",4:"‰Ωú‰∏ö‰∏≠",5:"ÂæÖÊ†áÂÆö"})[p]||"Êú™Áü•Áä∂ÊÄÅ",Ye=p=>({0:"danger",1:"success",2:"warning",3:"warning"})[p]||"info",g=p=>({0:"Ëà™ÂêëÂíåÁªèÁ∫¨Â∫¶ÈÉΩÊó†Êïà",1:"Ëà™ÂêëÂíåÁªèÁ∫¨Â∫¶ÈÉΩÊúâÊïà",2:"Ëà™ÂêëÊúâÊïàÔºåÁªèÁ∫¨Â∫¶Êó†Êïà",3:"ÁªèÁ∫¨Â∫¶ÊúâÊïàÔºåËà™ÂêëÊó†Êïà"})[p]||"Êú™Áü•Áä∂ÊÄÅ",b=p=>({0:"info",1:"primary",2:"warning",3:"success",4:"info",5:"info",6:"info",7:"primary",8:"warning",9:"success",10:"primary",11:"primary",12:"info",13:"success",14:"success",15:"info"})[p]||"info",w=p=>({0:"Á©∫Èó≤Ê®°Âºè",1:"Âà∂ÂÜ∑Ê®°Âºè",2:"Âà∂ÁÉ≠Ê®°Âºè",3:"Èô§ÊπøÊ®°Âºè",4:"Âà∂ÂÜ∑ÈÄÄÂá∫Ê®°Âºè",5:"Âà∂ÁÉ≠ÈÄÄÂá∫Ê®°Âºè",6:"Èô§ÊπøÈÄÄÂá∫Ê®°Âºè",7:"Âà∂ÂÜ∑ÂáÜÂ§áÊ®°Âºè",8:"Âà∂ÁÉ≠ÂáÜÂ§áÊ®°Âºè",9:"Èô§ÊπøÂáÜÂ§áÊ®°Âºè",10:"È£éÂÜ∑ÂáÜÂ§á‰∏≠",11:"È£éÂÜ∑‰∏≠",12:"È£éÂÜ∑ÈÄÄÂá∫‰∏≠",13:"Èô§ÈõæÂáÜÂ§á‰∏≠",14:"Èô§Èõæ‰∏≠",15:"Èô§ÈõæÈÄÄÂá∫‰∏≠"})[p]||"Êú™Áü•Áä∂ÊÄÅ",u=p=>({0:"Ëá™ÈÄÇÂ∫î",1:"ÊµÅÁïÖ",2:"Ê†áÊ∏Ö",3:"È´òÊ∏Ö",4:"Ë∂ÖÊ∏Ö"})[p]||"Êú™Áü•Ë¥®Èáè",o=p=>p===1?"success":"danger",O=p=>p===1?"Ëà±ÂÜÖ":"Ëà±Â§ñ",X=p=>({0:"info",1:"success",2:"warning",3:"danger"})[p]||"info",K=p=>({0:"ÂÖ≥Èó≠",1:"ÊâìÂºÄ",2:"ÂçäÂºÄ",3:"Ëà±ÁõñÁä∂ÊÄÅÂºÇÂ∏∏"})[p]||"Êú™Áü•Áä∂ÊÄÅ",$=p=>({0:"success",1:"info",2:"warning",3:"danger"})[p]||"info",P=p=>({0:"Êó†Èõ®",1:"Â∞èÈõ®",2:"‰∏≠Èõ®",3:"Â§ßÈõ®"})[p]||"Êú™Áü•",I=p=>({1:"success",2:"warning"})[p]||"info",G=p=>({1:"ËÆ°ÂàíÊ®°Âºè",2:"ÂæÖÂëΩÊ®°Âºè"})[p]||"Êú™Áü•Ê®°Âºè",rt=p=>p===0||p===1?"danger":p===2||p===3?"warning":p===4||p===5?"success":"info",Ke=p=>p===0?"Êó†‰ø°Âè∑":p===1?"Â∑Æ":p===2?"ËæÉÂ∑Æ":p===3?"‰∏ÄËà¨":p===4?"ËæÉÂ•Ω":p===5?"Â•Ω":"Êú™Áü•",we=async()=>{if(!k.isConnected){A.warning("MQTTÊú™ËøûÊé•ÔºåÊó†Ê≥ïËÆ¢ÈòÖÊú∫Âú∫OSDÊï∞ÊçÆ"),W.value="MQTTÊú™ËøûÊé•";return}ve.value=!0,W.value="ËÆ¢ÈòÖ‰∏≠...";try{await k.subscribeToTopics(Ie.value,1),De.value="connected",W.value="Â∑≤ËÆ¢ÈòÖ",A.success(`Â∑≤ËÆ¢ÈòÖÊú∫Âú∫OSD‰∏ªÈ¢ò: ${Ie.value}`),console.log("Êú∫Âú∫OSDËÆ¢ÈòÖÊàêÂäü:",Ie.value),Se("subscriptionStatus","success")}catch(p){W.value="ËÆ¢ÈòÖÂ§±Ë¥•",console.error("ËÆ¢ÈòÖÊú∫Âú∫OSD‰∏ªÈ¢òÂ§±Ë¥•:",p),A.error("ËÆ¢ÈòÖÊú∫Âú∫OSD‰∏ªÈ¢òÂ§±Ë¥•"),De.value="disconnected",Se("subscriptionStatus","error")}finally{ve.value=!1}},Xe=we,c=async()=>{if(!k.isConnected){A.warning("MQTTÊú™ËøûÊé•ÔºåÊó†Ê≥ïËÆ¢ÈòÖËÆæÂ§áÁä∂ÊÄÅÊï∞ÊçÆ");return}try{const p=Je(),a=`thing/product/${p}/state`;await k.subscribeToTopics(a,1),ye.value="connected",A.success(`Â∑≤ËÆ¢ÈòÖËÆæÂ§áÁä∂ÊÄÅ‰∏ªÈ¢ò: ${a}`),console.log("ËÆæÂ§áÁä∂ÊÄÅËÆ¢ÈòÖÊàêÂäü:",{stateTopic:a,airportSn:p,direction:"up",frequency:"Áä∂ÊÄÅÂèòÂåñÊó∂‰∏äÊä•"})}catch(p){console.error("ËÆ¢ÈòÖËÆæÂ§áÁä∂ÊÄÅ‰∏ªÈ¢òÂ§±Ë¥•:",p),A.error("ËÆ¢ÈòÖËÆæÂ§áÁä∂ÊÄÅ‰∏ªÈ¢òÂ§±Ë¥•"),ye.value="disconnected"}},i=()=>{var p,a;try{if(console.log("üîç Ê£ÄÊü•Êú∫Âú∫OSDÊ∂àÊÅØ:",{osdTopic:Ie.value,messageHistoryLength:k.messageHistory.length,hasReceivedData:f.value,currentTimestamp:(p=n.value)==null?void 0:p.timestamp,allTopics:k.messageHistory.map(V=>V.topic)}),!Ie.value){console.log("‚ùå Êú∫Âú∫OSD‰∏ªÈ¢ò‰∏∫Á©∫");return}const Y=k.messageHistory.filter(V=>V.topic===Ie.value);if(console.log("üì® ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØÊï∞Èáè:",Y.length),console.log("üì® ÂåπÈÖçÁöÑÊ∂àÊÅØ:",Y),Y.length>0){const V=Y[0];console.log("üì® ÊúÄÊñ∞Ê∂àÊÅØ:",V);const J=!n.value||V.timestamp>n.value.timestamp;if(console.log("üÜï ÊòØÂê¶‰∏∫Êñ∞Ê∂àÊÅØ:",J,{currentTimestamp:(a=n.value)==null?void 0:a.timestamp,newTimestamp:V.timestamp}),J){console.log("‚úÖ Â§ÑÁêÜÊñ∞ÁöÑÊú∫Âú∫OSDÊï∞ÊçÆ:",V);let C=null;try{C=JSON.parse(V.payload),console.log("üìã Ëß£ÊûêÂêéÁöÑOSDÊï∞ÊçÆ:",C)}catch(N){console.error("‚ùå Ëß£ÊûêOSDÊï∞ÊçÆÂ§±Ë¥•:",N);return}if(ts(C.data,V),n.value){const U={...n.value.data||{},...C.data};n.value={...V,data:U},console.log("üîÑ Â±ÄÈÉ®Êõ¥Êñ∞OSDÊï∞ÊçÆ:",{updatedFields:Object.keys(C.data||{}),mergedData:U})}else n.value=V;f.value=!0,W.value="Â∑≤Êé•Êî∂Êï∞ÊçÆ",Se("dataReceived",V),console.log("‚úÖ Êú∫Âú∫Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞ÔºåÊó∂Èó¥Êà≥ÊòæÁ§∫Âú®Ê†áÈ¢òÊóÅËæπ")}else console.log("‚è≠Ô∏è Ê∂àÊÅØÂ∑≤Â§ÑÁêÜËøáÔºåË∑≥Ëøá")}else console.log("üì≠ Ê≤°ÊúâÊâæÂà∞ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØ")}catch(Y){console.error("‚ùå Â§ÑÁêÜÊú∫Âú∫OSDÊ∂àÊÅØÂ§±Ë¥•:",Y)}},m=()=>{var p,a;try{const Y=`thing/product/${Je()}/state`;console.log("üîç Ê£ÄÊü•ËÆæÂ§áÁä∂ÊÄÅÊ∂àÊÅØ:",{stateTopic:Y,messageHistoryLength:k.messageHistory.length,stateDataStatus:ye.value,currentTimestamp:(p=oe.value)==null?void 0:p.timestamp}),console.log("üìã ÊâÄÊúâÊ∂àÊÅØ‰∏ªÈ¢ò:",k.messageHistory.map(J=>{var C;return{topic:J.topic,timestamp:J.timestamp,payload:((C=J.payload)==null?void 0:C.substring(0,100))+"..."}}));const V=k.messageHistory.filter(J=>J.topic===Y);if(console.log("üì® ÂåπÈÖçÁä∂ÊÄÅ‰∏ªÈ¢òÁöÑÊ∂àÊÅØÊï∞Èáè:",V.length),console.log("üì® ÂåπÈÖçÁöÑÁä∂ÊÄÅÊ∂àÊÅØ:",V),V.length===0){const J=k.messageHistory.filter(C=>C.topic.includes("state")||C.topic.includes("thing/product"));console.log("üîç Êü•ÊâæÂåÖÂê´stateÊàñthing/productÁöÑÊ∂àÊÅØ:",J)}if(V.length>0){const J=V[0];console.log("üì® ÊúÄÊñ∞Áä∂ÊÄÅÊ∂àÊÅØ:",J);const C=!oe.value||J.timestamp>oe.value.timestamp;if(console.log("üÜï ÊòØÂê¶‰∏∫Êñ∞Áä∂ÊÄÅÊ∂àÊÅØ:",C,{currentTimestamp:(a=oe.value)==null?void 0:a.timestamp,newTimestamp:J.timestamp}),C){console.log("‚úÖ Â§ÑÁêÜÊñ∞ÁöÑËÆæÂ§áÁä∂ÊÄÅÊï∞ÊçÆ:",J);let N=null;try{N=JSON.parse(J.payload),console.log("üìã Ëß£ÊûêÂêéÁöÑÁä∂ÊÄÅÊï∞ÊçÆ:",N)}catch(U){console.error("‚ùå Ëß£ÊûêÁä∂ÊÄÅÊï∞ÊçÆÂ§±Ë¥•:",U);return}if(oe.value){const Ue={...oe.value.data||{},...N.data};oe.value={...J,data:Ue},console.log("üîÑ Â±ÄÈÉ®Êõ¥Êñ∞Áä∂ÊÄÅÊï∞ÊçÆ:",{updatedFields:Object.keys(N.data||{}),mergedData:Ue})}else oe.value=J;if(ye.value="connected",N.data&&N.data.payload){const U=N.data.payload;le.value=U.gimbal_pitch||U.pitch,nt.value=U.gimbal_yaw||U.yaw,lt.value=U.gimbal_roll||U.roll,Ze.value=U.payload_index||U.index,Fe.value=U.type,We.value=U.subtype;const Ue=Fe.value&&We.value&&Ze.value?`${Fe.value}-${We.value}-${Ze.value}`:Ze.value;console.log("üì∑ DJI Dock3 Ë¥üËΩΩÂ±ûÊÄßÊï∞ÊçÆÊõ¥Êñ∞:",{gimbalPitch:le.value,gimbalYaw:nt.value,gimbalRoll:lt.value,payloadIndex:Ue,payloadType:Fe.value,payloadSubtype:We.value,rawPayload:U,timestamp:J.timestamp,topic:J.topic}),A.success(`Ë¥üËΩΩÂ±ûÊÄßÂ∑≤Êõ¥Êñ∞: ${Ue}`)}else console.log("‚ö†Ô∏è Áä∂ÊÄÅÊ∂àÊÅØ‰∏≠Ê≤°ÊúâË¥üËΩΩÂ±ûÊÄßÊï∞ÊçÆ"),console.log("üìã Ê∂àÊÅØÁªìÊûÑ:",{hasData:!!N.data,hasPayload:!!(N.data&&N.data.payload),messageKeys:Object.keys(J),dataKeys:N.data?Object.keys(N.data):[]})}else console.log("‚è≠Ô∏è Áä∂ÊÄÅÊ∂àÊÅØÂ∑≤Â§ÑÁêÜËøáÔºåË∑≥Ëøá")}else console.log("üì≠ Ê≤°ÊúâÊâæÂà∞ÂåπÈÖçÁä∂ÊÄÅ‰∏ªÈ¢òÁöÑÊ∂àÊÅØ")}catch(Y){console.error("‚ùå Â§ÑÁêÜËÆæÂ§áÁä∂ÊÄÅÊï∞ÊçÆÂ§±Ë¥•:",Y)}};let D=null;const R=()=>{D&&clearInterval(D),D=setInterval(()=>{i(),m()},2e3)},ge=()=>{D&&(clearInterval(D),D=null)},Te=()=>{console.log("üîç ÊâãÂä®Ê£ÄÊü•Áä∂ÊÄÅÊ∂àÊÅØ"),console.log("üìä ÂΩìÂâçÁä∂ÊÄÅ:",{mqttConnected:k.isConnected,messageHistoryLength:k.messageHistory.length,stateTopic:`thing/product/${Je()}/state`,stateDataStatus:ye.value}),console.log("üìã ÊâÄÊúâÊ∂àÊÅØ:",k.messageHistory);const p=`thing/product/${Je()}/state`,a=k.messageHistory.filter(Y=>Y.topic===p);if(console.log("üì® Áä∂ÊÄÅ‰∏ªÈ¢òÊ∂àÊÅØ:",a),a.length>0)A.success(`ÊâæÂà∞ ${a.length} Êù°Áä∂ÊÄÅÊ∂àÊÅØ`),m();else{A.warning("Êú™ÊâæÂà∞Áä∂ÊÄÅÊ∂àÊÅØ");const Y=k.messageHistory.map(V=>V.topic);console.log("üìã ÊâÄÊúâÊ∂àÊÅØ‰∏ªÈ¢ò:",Y)}},Le=()=>{if(console.log("üîÑ Âà∑Êñ∞Êú∫Âú∫ËÆ¢ÈòÖÁä∂ÊÄÅ"),console.log("üìä ÂΩìÂâçÁä∂ÊÄÅ:",{mqttConnected:k.isConnected,messageHistoryLength:k.messageHistory.length,airportOsdTopic:it.value,hasReceivedData:f.value}),k.isConnected)if(W.value="MQTTÂ∑≤ËøûÊé•ÔºåÁ≠âÂæÖÊï∞ÊçÆ...",console.log("‚úÖ MQTTÂ∑≤ËøûÊé•"),k.messageHistory.length>0){console.log("üì® Ê∂àÊÅØÂéÜÂè≤:",k.messageHistory);const p=k.messageHistory.filter(a=>a.topic===it.value);p.length>0?(console.log("üéØ ÊâæÂà∞ÂåπÈÖçÁöÑÊ∂àÊÅØ:",p),W.value=`ÊâæÂà∞ ${p.length} Êù°Ê∂àÊÅØÔºåÊ≠£Âú®Â§ÑÁêÜ...`,i()):(console.log("‚ùå Ê≤°ÊúâÊâæÂà∞ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØ"),W.value="MQTTÂ∑≤ËøûÊé•Ôºå‰ΩÜÊú™ÊâæÂà∞ÂåπÈÖçÁöÑÊ∂àÊÅØ")}else console.log("üì≠ Ê∂àÊÅØÂéÜÂè≤‰∏∫Á©∫"),W.value="MQTTÂ∑≤ËøûÊé•ÔºåÊ∂àÊÅØÂéÜÂè≤‰∏∫Á©∫";else W.value="MQTTÊú™ËøûÊé•",console.log("‚ùå MQTTÊú™ËøûÊé•")};return xs(()=>{console.log("Êú∫Âú∫‰ø°ÊÅØÁªÑ‰ª∂ÊåÇËΩΩÔºåÂºÄÂßãËÆ¢ÈòÖÊï∞ÊçÆ"),we(),c(),R()}),As(()=>{console.log("Êú∫Âú∫‰ø°ÊÅØÁªÑ‰ª∂Âç∏ËΩΩÔºåÂÅúÊ≠¢ÁõëÂê¨"),ge(),Ie.value&&k.unsubscribeTopics(Ie.value);const p=`thing/product/${Je()}/state`;k.unsubscribeTopics(p)}),(p,a)=>{const Y=B("el-button"),V=B("el-alert"),J=B("el-col"),C=B("el-icon"),N=B("el-tag"),U=B("el-card"),Ue=B("el-row"),Ee=B("el-tab-pane"),Pt=B("el-tabs"),Nt=B("el-drawer");return _(),h("div",ua,[f.value?j("",!0):(_(),h("div",pa,[t(V,{title:"Á≠âÂæÖÊé•Êî∂Êú∫Âú∫OSDÊï∞ÊçÆ",type:"info",closable:!1,"show-icon":""},{default:s(()=>{var F,Z;return[e("div",ca,[e("p",null,[a[2]||(a[2]=e("strong",null,"ËÆ¢ÈòÖÁä∂ÊÄÅ:",-1)),r(" "+l(W.value),1)]),e("p",null,[a[3]||(a[3]=e("strong",null,"ËÆ¢ÈòÖ‰∏ªÈ¢ò:",-1)),a[4]||(a[4]=r()),e("code",null,l(it.value||"thing/product/"+Je()+"/osd"),1)]),a[12]||(a[12]=e("p",null,[e("strong",null,"Á≠âÂæÖÊï∞ÊçÆ‰∏≠..."),r(" ËØ∑Á°Æ‰øùËÆæÂ§áÂ∑≤ËøûÊé•Âπ∂Ê≠£Âú®ÂèëÈÄÅOSDÊï∞ÊçÆ")],-1)),e("div",va,[t(Y,{type:"primary",size:"small",loading:ve.value,onClick:d(Xe)},{default:s(()=>[r(l(ve.value?"ËÆ¢ÈòÖ‰∏≠...":"ÊâãÂä®ËÆ¢ÈòÖ"),1)]),_:1},8,["loading","onClick"]),t(Y,{size:"small",onClick:Le,style:{"margin-left":"10px"}},{default:s(()=>[...a[5]||(a[5]=[r(" Âà∑Êñ∞Áä∂ÊÄÅ ",-1)])]),_:1}),t(Y,{size:"small",onClick:Te,type:"info",style:{"margin-left":"10px"}},{default:s(()=>[...a[6]||(a[6]=[r(" Ê£ÄÊü•Áä∂ÊÄÅÊ∂àÊÅØ ",-1)])]),_:1})]),e("div",ga,[a[11]||(a[11]=e("div",null,[e("strong",null,"Ë∞ÉËØï‰ø°ÊÅØ:")],-1)),e("div",null,"MQTTËøûÊé•: "+l(d(k).isConnected?"‚úÖ Â∑≤ËøûÊé•":"‚ùå Êú™ËøûÊé•"),1),e("div",null,"Ê∂àÊÅØÂéÜÂè≤Êï∞Èáè: "+l(d(k).messageHistory.length),1),e("div",null,[a[7]||(a[7]=r("Êú∫Âú∫OSD‰∏ªÈ¢ò: ",-1)),e("code",null,l(it.value),1)]),e("div",null,[a[8]||(a[8]=r("ËÆæÂ§áÁä∂ÊÄÅ‰∏ªÈ¢ò: ",-1)),e("code",null,"thing/product/"+l(Je())+"/state",1)]),e("div",null,[a[9]||(a[9]=r("Êú∫Âú∫Â∫èÂàóÂè∑: ",-1)),e("code",null,l(Je()),1)]),e("div",null,"Â∑≤Êé•Êî∂Êï∞ÊçÆ: "+l(f.value?"‚úÖ ÊòØ":"‚ùå Âê¶"),1),e("div",null,"Áä∂ÊÄÅÊï∞ÊçÆËøûÊé•: "+l(ye.value==="connected"?"‚úÖ Â∑≤ËøûÊé•":"‚ùå Êú™ËøûÊé•"),1),e("div",null,"Ë¥üËΩΩÂ±ûÊÄß: "+l(le.value!==null?"‚úÖ ÊúâÊï∞ÊçÆ":"‚ùå Êó†Êï∞ÊçÆ"),1),d(k).messageHistory.length>0?(_(),h("div",ma,[e("div",null,[a[10]||(a[10]=r("ÊúÄÊñ∞Ê∂àÊÅØ‰∏ªÈ¢ò: ",-1)),e("code",null,l((F=d(k).messageHistory[0])==null?void 0:F.topic),1)]),e("div",null,"ÊúÄÊñ∞Ê∂àÊÅØÊó∂Èó¥: "+l(new Date((Z=d(k).messageHistory[0])==null?void 0:Z.timestamp).toLocaleString()),1)])):j("",!0)])])]}),_:1})])),e("div",fa,[t(Ue,{gutter:8,class:"data-grid"},{default:s(()=>[t(J,{span:12},{default:s(()=>{var F;return[e("h3",ya,[a[13]||(a[13]=r(" üè¢ Êú∫Âú∫‰ø°ÊÅØ ",-1)),(F=n.value)!=null&&F.timestamp?(_(),h("span",_a," (Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞: "+l(H(n.value.timestamp))+") ",1)):j("",!0)])]}),_:1}),t(J,{span:12,style:{"text-align":"right"}},{default:s(()=>{var F,Z;return[e("div",xa,[a[14]||(a[14]=e("span",{style:{color:"var(--el-text-color-regular)","font-size":"14px"}},"Êú∫Âú∫Â∫èÂàóÂè∑: ",-1)),e("span",ba,l(Je()),1),e("div",ha," Ë∞ÉËØï: gateway="+l((F=n.value)==null?void 0:F.gateway)+", deviceSn="+l(L.deviceSn)+", currentDevice.airport_sn="+l((Z=d(ce).currentDevice)==null?void 0:Z.airport_sn),1)])]}),_:1}),t(J,{span:4},{default:s(()=>[t(U,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",wa,[t(C,null,{default:s(()=>[t(d(Zs))]),_:1}),a[15]||(a[15]=e("span",null,"ÁéØÂ¢ÉÁä∂ÊÄÅ",-1)),t(N,{size:"small",type:M.value?T(M.value.timestamp)?"warning":"success":"info"},{default:s(()=>[r(l(M.value?v(M.value.timestamp):"Á≠âÂæÖ")+" ",1),M.value&&T(M.value.timestamp)?(_(),h("span",za,"‚ö†Ô∏è")):j("",!0)]),_:1},8,["type"])])]),default:s(()=>{var F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He,pe,me,et,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,St,Tt,Mt,qe,Be,Qe,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt,ze,$e,ke;return[e("div",$a,[e("div",ka,[a[16]||(a[16]=e("span",{class:"label"},"Ëà±ÂÜÖÊ∏©Â∫¶:",-1)),e("span",Sa,l(((Z=(F=M.value)==null?void 0:F.data)==null?void 0:Z.temperature)||((se=(te=n.value)==null?void 0:te.data)==null?void 0:se.temperature)||"--")+"¬∞C",1)]),e("div",Ta,[a[17]||(a[17]=e("span",{class:"label"},"ÁéØÂ¢ÉÊ∏©Â∫¶:",-1)),e("span",Ma,l(((ie=(ne=M.value)==null?void 0:ne.data)==null?void 0:ie.environment_temperature)||((de=(re=n.value)==null?void 0:re.data)==null?void 0:de.environment_temperature)||"--")+"¬∞C",1)]),e("div",Da,[a[18]||(a[18]=e("span",{class:"label"},"ÊπøÂ∫¶:",-1)),e("span",Ca,l(((xe=(_e=M.value)==null?void 0:_e.data)==null?void 0:xe.humidity)||((E=(be=n.value)==null?void 0:be.data)==null?void 0:E.humidity)||"--")+"%",1)]),e("div",Oa,[a[19]||(a[19]=e("span",{class:"label"},"È£éÈÄü:",-1)),e("span",Pa,l(((ue=(q=M.value)==null?void 0:q.data)==null?void 0:ue.wind_speed)||((Oe=(Ce=n.value)==null?void 0:Ce.data)==null?void 0:Oe.wind_speed)||"--")+"m/s",1)]),e("div",Na,[a[20]||(a[20]=e("span",{class:"label"},"ÈôçÈõ®Èáè:",-1)),t(N,{type:$(((Ne=(Pe=M.value)==null?void 0:Pe.data)==null?void 0:Ne.rainfall)||((pe=(He=n.value)==null?void 0:He.data)==null?void 0:pe.rainfall)),size:"small"},{default:s(()=>{var fe,Re,je,Ae;return[r(l(P(((Re=(fe=M.value)==null?void 0:fe.data)==null?void 0:Re.rainfall)||((Ae=(je=n.value)==null?void 0:je.data)==null?void 0:Ae.rainfall))),1)]}),_:1},8,["type"])]),e("div",Ha,[a[21]||(a[21]=e("span",{class:"label"},"È£ûË°åÂô®Âú®Ëà±:",-1)),t(N,{type:o(((et=(me=M.value)==null?void 0:me.data)==null?void 0:et.drone_in_dock)||((vt=(ct=n.value)==null?void 0:ct.data)==null?void 0:vt.drone_in_dock)),size:"small"},{default:s(()=>{var fe,Re,je,Ae;return[r(l(O(((Re=(fe=M.value)==null?void 0:fe.data)==null?void 0:Re.drone_in_dock)||((Ae=(je=n.value)==null?void 0:je.data)==null?void 0:Ae.drone_in_dock))),1)]}),_:1},8,["type"])]),e("div",Ra,[a[22]||(a[22]=e("span",{class:"label"},"ÁΩëÁªúÁ±ªÂûã:",-1)),t(N,{type:(((ft=(mt=(gt=M.value)==null?void 0:gt.data)==null?void 0:mt.network_state)==null?void 0:ft.type)||((xt=(_t=(yt=n.value)==null?void 0:yt.data)==null?void 0:_t.network_state)==null?void 0:xt.type))===1?"success":"info",size:"small"},{default:s(()=>{var fe,Re,je,Ae,Gt,Zt;return[r(l((((je=(Re=(fe=M.value)==null?void 0:fe.data)==null?void 0:Re.network_state)==null?void 0:je.type)||((Zt=(Gt=(Ae=n.value)==null?void 0:Ae.data)==null?void 0:Gt.network_state)==null?void 0:Zt.type))===1?"4G":"‰ª•Â§™ÁΩë"),1)]}),_:1},8,["type"])]),e("div",ja,[a[23]||(a[23]=e("span",{class:"label"},"ÁΩëÁªúË¥®Èáè:",-1)),t(N,{type:rt(((wt=(ht=(bt=M.value)==null?void 0:bt.data)==null?void 0:ht.network_state)==null?void 0:wt.quality)||((kt=($t=(zt=n.value)==null?void 0:zt.data)==null?void 0:$t.network_state)==null?void 0:kt.quality)),size:"small"},{default:s(()=>{var fe,Re,je,Ae,Gt,Zt;return[r(l(Ke(((je=(Re=(fe=M.value)==null?void 0:fe.data)==null?void 0:Re.network_state)==null?void 0:je.quality)||((Zt=(Gt=(Ae=n.value)==null?void 0:Ae.data)==null?void 0:Gt.network_state)==null?void 0:Zt.quality))),1)]}),_:1},8,["type"])]),e("div",Aa,[a[24]||(a[24]=e("span",{class:"label"},"ÁΩëÁªúÈÄüÁéá:",-1)),e("span",La,l(((Mt=(Tt=(St=M.value)==null?void 0:St.data)==null?void 0:Tt.network_state)==null?void 0:Mt.rate)||((Qe=(Be=(qe=n.value)==null?void 0:qe.data)==null?void 0:Be.network_state)==null?void 0:Qe.rate)||"--")+" KB/s",1)]),e("div",Va,[a[25]||(a[25]=e("span",{class:"label"},"Ë°•ÂÖâÁÅØ:",-1)),t(N,{type:(((jt=(Rt=M.value)==null?void 0:Rt.data)==null?void 0:jt.supplement_light_state)||((Lt=(At=n.value)==null?void 0:At.data)==null?void 0:Lt.supplement_light_state))===1?"success":"info",size:"small"},{default:s(()=>{var fe,Re,je,Ae;return[r(l((((Re=(fe=M.value)==null?void 0:fe.data)==null?void 0:Re.supplement_light_state)||((Ae=(je=n.value)==null?void 0:je.data)==null?void 0:Ae.supplement_light_state))===1?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",Ua,[a[26]||(a[26]=e("span",{class:"label"},"Ëà±ÁõñÁä∂ÊÄÅ:",-1)),t(N,{type:X(((Ut=(Vt=M.value)==null?void 0:Vt.data)==null?void 0:Ut.cover_state)||((It=(Ft=n.value)==null?void 0:Ft.data)==null?void 0:It.cover_state)),size:"small"},{default:s(()=>{var fe,Re,je,Ae;return[r(l(K(((Re=(fe=M.value)==null?void 0:fe.data)==null?void 0:Re.cover_state)||((Ae=(je=n.value)==null?void 0:je.data)==null?void 0:Ae.cover_state))),1)]}),_:1},8,["type"])]),e("div",Fa,[a[27]||(a[27]=e("span",{class:"label"},"Á∫¨Â∫¶:",-1)),e("span",Ia,l(((Et=(Jt=M.value)==null?void 0:Jt.data)==null?void 0:Et.latitude)||((Bt=(qt=n.value)==null?void 0:qt.data)==null?void 0:Bt.latitude)||"--"),1)]),e("div",Ja,[a[28]||(a[28]=e("span",{class:"label"},"ÁªèÂ∫¶:",-1)),e("span",Ea,l(((ze=(Qt=M.value)==null?void 0:Qt.data)==null?void 0:ze.longitude)||((ke=($e=n.value)==null?void 0:$e.data)==null?void 0:ke.longitude)||"--"),1)])])]}),_:1})]),_:1}),t(J,{span:4},{default:s(()=>[t(U,{class:"info-card",shadow:"hover"},{header:s(()=>{var F,Z;return[e("div",qa,[t(C,null,{default:s(()=>[t(d(Is))]),_:1}),a[29]||(a[29]=e("span",null,"È£ûÊú∫‰ø°ÊÅØ",-1)),t(N,{size:"small",type:Q.value||n.value?T(((F=Q.value)==null?void 0:F.timestamp)||((Z=n.value)==null?void 0:Z.timestamp))?"warning":"success":"info"},{default:s(()=>{var te,se,ne,ie,re,de;return[r(l(Q.value||n.value?v(((te=Q.value)==null?void 0:te.timestamp)||((se=n.value)==null?void 0:se.timestamp)):"Á≠âÂæÖ")+" ",1),(Q.value||n.value)&&T(((ne=Q.value)==null?void 0:ne.timestamp)||((ie=n.value)==null?void 0:ie.timestamp))?(_(),h("span",Ba,"‚ö†Ô∏è")):j("",!0),(Q.value||n.value)&&T(((re=Q.value)==null?void 0:re.timestamp)||((de=n.value)==null?void 0:de.timestamp))?(_(),h("span",Qa,"(ÂéÜÂè≤Êï∞ÊçÆ)")):j("",!0)]}),_:1},8,["type"])])]}),default:s(()=>{var F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He,pe,me,et,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,St,Tt,Mt,qe,Be,Qe,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt,ze,$e,ke,fe,Re,je,Ae,Gt,Zt,cs,vs,tt,st,at,ot,ss,as,bs,hs,ws,zs,$s,ks;return[e("div",Ga,[(Q.value||n.value)&&T(((F=Q.value)==null?void 0:F.timestamp)||((Z=n.value)==null?void 0:Z.timestamp))?(_(),h("div",Za," üìã ÊòæÁ§∫ÂéÜÂè≤Êï∞ÊçÆÔºåÊúÄÂêéÊõ¥Êñ∞: "+l(H(((te=Q.value)==null?void 0:te.timestamp)||((se=n.value)==null?void 0:se.timestamp))),1)):j("",!0),e("div",Ka,[a[30]||(a[30]=e("span",{class:"label"},"È£ûÊú∫Â∫èÂàóÂè∑:",-1)),e("span",Wa,l(((re=(ie=(ne=Q.value)==null?void 0:ne.data)==null?void 0:ie.sub_device)==null?void 0:re.device_sn)||((xe=(_e=(de=n.value)==null?void 0:de.data)==null?void 0:_e.sub_device)==null?void 0:xe.device_sn)||"--"),1)]),e("div",Ya,[a[31]||(a[31]=e("span",{class:"label"},"È£ûÊú∫ÂûãÂè∑:",-1)),e("span",Xa,l(((q=(E=(be=Q.value)==null?void 0:be.data)==null?void 0:E.sub_device)==null?void 0:q.device_model_key)||((Oe=(Ce=(ue=n.value)==null?void 0:ue.data)==null?void 0:Ce.sub_device)==null?void 0:Oe.device_model_key)||"--"),1)]),e("div",eo,[a[32]||(a[32]=e("span",{class:"label"},"È£ûÊú∫ÂºÄÊú∫Áä∂ÊÄÅ:",-1)),t(N,{type:(((He=(Ne=(Pe=Q.value)==null?void 0:Pe.data)==null?void 0:Ne.sub_device)==null?void 0:He.device_online_status)||((et=(me=(pe=n.value)==null?void 0:pe.data)==null?void 0:me.sub_device)==null?void 0:et.device_online_status))===1?"success":"info",size:"small"},{default:s(()=>{var dt,Yt,os,Kt,is,ls;return[r(l((((os=(Yt=(dt=Q.value)==null?void 0:dt.data)==null?void 0:Yt.sub_device)==null?void 0:os.device_online_status)||((ls=(is=(Kt=n.value)==null?void 0:Kt.data)==null?void 0:is.sub_device)==null?void 0:ls.device_online_status))===1?"ÂºÄÊú∫":"ÂÖ≥Êú∫"),1)]}),_:1},8,["type"])]),e("div",to,[a[33]||(a[33]=e("span",{class:"label"},"È£ûÊú∫ÂØπÈ¢ëÁä∂ÊÄÅ:",-1)),t(N,{type:(((gt=(vt=(ct=Q.value)==null?void 0:ct.data)==null?void 0:vt.sub_device)==null?void 0:gt.device_paired)||((yt=(ft=(mt=n.value)==null?void 0:mt.data)==null?void 0:ft.sub_device)==null?void 0:yt.device_paired))===1?"success":"warning",size:"small"},{default:s(()=>{var dt,Yt,os,Kt,is,ls;return[r(l((((os=(Yt=(dt=Q.value)==null?void 0:dt.data)==null?void 0:Yt.sub_device)==null?void 0:os.device_paired)||((ls=(is=(Kt=n.value)==null?void 0:Kt.data)==null?void 0:is.sub_device)==null?void 0:ls.device_paired))===1?"Â∑≤ÂØπÈ¢ë":"Êú™ÂØπÈ¢ë"),1)]}),_:1},8,["type"])]),e("div",so,[a[34]||(a[34]=e("span",{class:"label"},"Âõ∫‰ª∂ÁâàÊú¨:",-1)),e("span",ao,l(((xt=(_t=Q.value)==null?void 0:_t.data)==null?void 0:xt.firmware_version)||((ht=(bt=n.value)==null?void 0:bt.data)==null?void 0:ht.firmware_version)||"--"),1)]),e("div",oo,[a[35]||(a[35]=e("span",{class:"label"},"ÁîµÊ±†ÁîµÈáè:",-1)),e("span",lo,l(((St=(kt=($t=(zt=(wt=Q.value)==null?void 0:wt.data)==null?void 0:zt.drone_battery_maintenance_info)==null?void 0:$t.batteries)==null?void 0:kt[0])==null?void 0:St.capacity_percent)||((Qe=(Be=(qe=(Mt=(Tt=n.value)==null?void 0:Tt.data)==null?void 0:Mt.drone_battery_maintenance_info)==null?void 0:qe.batteries)==null?void 0:Be[0])==null?void 0:Qe.capacity_percent)||"--")+"%",1)]),e("div",no,[a[36]||(a[36]=e("span",{class:"label"},"ÁîµÊ±†Êï∞Èáè:",-1)),e("span",io,l(((Lt=(At=(jt=(Rt=Q.value)==null?void 0:Rt.data)==null?void 0:jt.drone_battery_maintenance_info)==null?void 0:At.batteries)==null?void 0:Lt.length)||((It=(Ft=(Ut=(Vt=n.value)==null?void 0:Vt.data)==null?void 0:Ut.drone_battery_maintenance_info)==null?void 0:Ft.batteries)==null?void 0:It.length)||"--")+"‰∏™",1)]),e("div",ro,[a[37]||(a[37]=e("span",{class:"label"},"ÁîµÊ±†ÁîµÂéã:",-1)),e("span",uo,l(((Qt=(Bt=(qt=(Et=(Jt=Q.value)==null?void 0:Jt.data)==null?void 0:Et.drone_battery_maintenance_info)==null?void 0:qt.batteries)==null?void 0:Bt[0])==null?void 0:Qt.voltage)||((Re=(fe=(ke=($e=(ze=n.value)==null?void 0:ze.data)==null?void 0:$e.drone_battery_maintenance_info)==null?void 0:ke.batteries)==null?void 0:fe[0])==null?void 0:Re.voltage)||"--")+"mV",1)]),e("div",po,[a[38]||(a[38]=e("span",{class:"label"},"ÁîµÊ±†Ê∏©Â∫¶:",-1)),e("span",co,l(((cs=(Zt=(Gt=(Ae=(je=Q.value)==null?void 0:je.data)==null?void 0:Ae.drone_battery_maintenance_info)==null?void 0:Gt.batteries)==null?void 0:Zt[0])==null?void 0:cs.temperature)||((ot=(at=(st=(tt=(vs=n.value)==null?void 0:vs.data)==null?void 0:tt.drone_battery_maintenance_info)==null?void 0:st.batteries)==null?void 0:at[0])==null?void 0:ot.temperature)||"--")+"¬∞C",1)]),e("div",vo,[a[39]||(a[39]=e("span",{class:"label"},"ÁîµÊ±†Áª¥Êä§Áä∂ÊÄÅ:",-1)),t(N,{type:(((bs=(as=(ss=Q.value)==null?void 0:ss.data)==null?void 0:as.drone_battery_maintenance_info)==null?void 0:bs.maintenance_state)||((zs=(ws=(hs=n.value)==null?void 0:hs.data)==null?void 0:ws.drone_battery_maintenance_info)==null?void 0:zs.maintenance_state))===0?"success":"warning",size:"small"},{default:s(()=>{var dt,Yt,os,Kt,is,ls;return[r(l((((os=(Yt=(dt=Q.value)==null?void 0:dt.data)==null?void 0:Yt.drone_battery_maintenance_info)==null?void 0:os.maintenance_state)||((ls=(is=(Kt=n.value)==null?void 0:Kt.data)==null?void 0:is.drone_battery_maintenance_info)==null?void 0:ls.maintenance_state))===0?"Ê≠£Â∏∏":"ÈúÄË¶ÅÁª¥Êä§"),1)]}),_:1},8,["type"])]),e("div",go,[a[40]||(a[40]=e("span",{class:"label"},"Ëá™Êî∂ÊïõÂùêÊ†á:",-1)),e("span",mo,l((ks=($s=n.value)==null?void 0:$s.data)!=null&&ks.self_converge_coordinate?`${n.value.data.self_converge_coordinate.longitude.toFixed(6)}, ${n.value.data.self_converge_coordinate.latitude.toFixed(6)}`:"--"),1)])])]}),_:1})]),_:1}),t(J,{span:4},{default:s(()=>[t(U,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",fo,[t(C,null,{default:s(()=>[t(d(Ps))]),_:1}),a[41]||(a[41]=e("span",null,"Êú∫Âú∫Âü∫Á°Ä",-1)),t(N,{size:"small",type:y.value?T(y.value.timestamp)?"warning":"success":"info"},{default:s(()=>[r(l(y.value?v(y.value.timestamp):"Á≠âÂæÖ")+" ",1),y.value&&T(y.value.timestamp)?(_(),h("span",yo,"‚ö†Ô∏è")):j("",!0)]),_:1},8,["type"])])]),default:s(()=>{var F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He,pe,me,et,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,St,Tt,Mt,qe,Be,Qe,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt,ze,$e,ke,fe,Re,je,Ae,Gt,Zt,cs,vs;return[e("div",_o,[e("div",xo,[a[42]||(a[42]=e("span",{class:"label"},"Êú∫Âú∫Â∫èÂàóÂè∑:",-1)),e("span",bo,l(Je()),1)]),e("div",ho,[a[43]||(a[43]=e("span",{class:"label"},"Á¥ØËÆ°‰Ωú‰∏öÊ¨°Êï∞:",-1)),e("span",wo,l(((Z=(F=y.value)==null?void 0:F.data)==null?void 0:Z.job_number)||((se=(te=n.value)==null?void 0:te.data)==null?void 0:se.job_number)||"--")+" Ê¨°",1)]),e("div",zo,[a[44]||(a[44]=e("span",{class:"label"},"Á¥ØËÆ°ËøêË°åÊó∂Èïø:",-1)),e("span",$o,l(ee(((ie=(ne=y.value)==null?void 0:ne.data)==null?void 0:ie.acc_time)||((de=(re=n.value)==null?void 0:re.data)==null?void 0:de.acc_time))),1)]),e("div",ko,[a[45]||(a[45]=e("span",{class:"label"},"Â∑•‰ΩúÁîµÂéã:",-1)),e("span",So,l(((xe=(_e=y.value)==null?void 0:_e.data)==null?void 0:xe.working_voltage)||((E=(be=n.value)==null?void 0:be.data)==null?void 0:E.working_voltage)||"--")+"mV",1)]),e("div",To,[a[46]||(a[46]=e("span",{class:"label"},"Â∑•‰ΩúÁîµÊµÅ:",-1)),e("span",Mo,l(((ue=(q=y.value)==null?void 0:q.data)==null?void 0:ue.working_current)||((Oe=(Ce=n.value)==null?void 0:Ce.data)==null?void 0:Oe.working_current)||"--")+"mA",1)]),e("div",Do,[a[47]||(a[47]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†:",-1)),t(N,{type:(((He=(Ne=(Pe=y.value)==null?void 0:Pe.data)==null?void 0:Ne.backup_battery)==null?void 0:He.switch)||((et=(me=(pe=n.value)==null?void 0:pe.data)==null?void 0:me.backup_battery)==null?void 0:et.switch))===1?"success":"info",size:"small"},{default:s(()=>{var tt,st,at,ot,ss,as;return[r(l((((at=(st=(tt=y.value)==null?void 0:tt.data)==null?void 0:st.backup_battery)==null?void 0:at.switch)||((as=(ss=(ot=n.value)==null?void 0:ot.data)==null?void 0:ss.backup_battery)==null?void 0:as.switch))===1?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",Co,[a[48]||(a[48]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†ÁîµÂéã:",-1)),e("span",Oo,l(((gt=(vt=(ct=y.value)==null?void 0:ct.data)==null?void 0:vt.backup_battery)==null?void 0:gt.voltage)||((yt=(ft=(mt=n.value)==null?void 0:mt.data)==null?void 0:ft.backup_battery)==null?void 0:yt.voltage)||"--")+"mV",1)]),e("div",Po,[a[49]||(a[49]=e("span",{class:"label"},"ÊøÄÊ¥ªÊó∂Èó¥:",-1)),e("span",No,l(Wt(((xt=(_t=y.value)==null?void 0:_t.data)==null?void 0:xt.activation_time)||((ht=(bt=n.value)==null?void 0:bt.data)==null?void 0:ht.activation_time))),1)]),e("div",Ho,[a[50]||(a[50]=e("span",{class:"label"},"Êú∫Âú∫Áä∂ÊÄÅ:",-1)),t(N,{type:Ot(((zt=(wt=y.value)==null?void 0:wt.data)==null?void 0:zt.mode_code)||((kt=($t=n.value)==null?void 0:$t.data)==null?void 0:kt.mode_code)),size:"small"},{default:s(()=>{var tt,st,at,ot;return[r(l(pt(((st=(tt=y.value)==null?void 0:tt.data)==null?void 0:st.mode_code)||((ot=(at=n.value)==null?void 0:at.data)==null?void 0:ot.mode_code))),1)]}),_:1},8,["type"])]),e("div",Ro,[a[51]||(a[51]=e("span",{class:"label"},"HomeÁÇπÊúâÊïàÊÄß:",-1)),t(N,{type:Ye(((Tt=(St=y.value)==null?void 0:St.data)==null?void 0:Tt.home_position_is_valid)||((qe=(Mt=n.value)==null?void 0:Mt.data)==null?void 0:qe.home_position_is_valid)),size:"small"},{default:s(()=>{var tt,st,at,ot;return[r(l(g(((st=(tt=y.value)==null?void 0:tt.data)==null?void 0:st.home_position_is_valid)||((ot=(at=n.value)==null?void 0:at.data)==null?void 0:ot.home_position_is_valid))),1)]}),_:1},8,["type"])]),e("div",jo,[a[52]||(a[52]=e("span",{class:"label"},"Êú∫Âú∫ÊúùÂêëËßí:",-1)),e("span",Ao,l(((Qe=(Be=y.value)==null?void 0:Be.data)==null?void 0:Qe.heading)||((jt=(Rt=n.value)==null?void 0:Rt.data)==null?void 0:jt.heading)||"--")+"¬∞",1)]),e("div",Lo,[a[53]||(a[53]=e("span",{class:"label"},"Á©∫Ë∞ÉÁä∂ÊÄÅ:",-1)),t(N,{type:b(((Vt=(Lt=(At=y.value)==null?void 0:At.data)==null?void 0:Lt.air_conditioner)==null?void 0:Vt.air_conditioner_state)||((It=(Ft=(Ut=n.value)==null?void 0:Ut.data)==null?void 0:Ft.air_conditioner)==null?void 0:It.air_conditioner_state)),size:"small"},{default:s(()=>{var tt,st,at,ot,ss,as;return[r(l(w(((at=(st=(tt=y.value)==null?void 0:tt.data)==null?void 0:st.air_conditioner)==null?void 0:at.air_conditioner_state)||((as=(ss=(ot=n.value)==null?void 0:ot.data)==null?void 0:ss.air_conditioner)==null?void 0:as.air_conditioner_state))),1)]}),_:1},8,["type"])]),(((qt=(Et=(Jt=y.value)==null?void 0:Jt.data)==null?void 0:Et.air_conditioner)==null?void 0:qt.switch_time)||((ze=(Qt=(Bt=n.value)==null?void 0:Bt.data)==null?void 0:Qt.air_conditioner)==null?void 0:ze.switch_time))!==void 0?(_(),h("div",Vo,[a[54]||(a[54]=e("span",{class:"label"},"Á©∫Ë∞ÉÂàáÊç¢Êó∂Èó¥:",-1)),e("span",Uo,l(((fe=(ke=($e=y.value)==null?void 0:$e.data)==null?void 0:ke.air_conditioner)==null?void 0:fe.switch_time)||((Ae=(je=(Re=n.value)==null?void 0:Re.data)==null?void 0:je.air_conditioner)==null?void 0:Ae.switch_time)||"--")+" Áßí",1)])):j("",!0),e("div",Fo,[a[55]||(a[55]=e("span",{class:"label"},"Á©∫‰∏≠Âõû‰º†:",-1)),t(N,{type:(Zt=(Gt=y.value)==null?void 0:Gt.data)!=null&&Zt.air_transfer_enable||(vs=(cs=n.value)==null?void 0:cs.data)!=null&&vs.air_transfer_enable?"success":"info",size:"small"},{default:s(()=>{var tt,st,at,ot;return[r(l((st=(tt=y.value)==null?void 0:tt.data)!=null&&st.air_transfer_enable||(ot=(at=n.value)==null?void 0:at.data)!=null&&ot.air_transfer_enable?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])])])]}),_:1})]),_:1}),t(J,{span:4},{default:s(()=>[t(U,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",Io,[t(C,null,{default:s(()=>[t(d(Js))]),_:1}),a[56]||(a[56]=e("span",null,"Âõæ‰º†ÈìæË∑Ø",-1)),t(N,{size:"small",type:x.value?T(x.value.timestamp)?"warning":"success":"info"},{default:s(()=>[r(l(x.value?v(x.value.timestamp):"Á≠âÂæÖ")+" ",1),x.value&&T(x.value.timestamp)?(_(),h("span",Jo,"‚ö†Ô∏è")):j("",!0)]),_:1},8,["type"])])]),default:s(()=>{var F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He,pe,me,et,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,St,Tt,Mt;return[e("div",Eo,[e("div",qo,[a[57]||(a[57]=e("span",{class:"label"},"4GËøûÊé•Áä∂ÊÄÅ:",-1)),t(N,{type:((te=(Z=(F=x.value)==null?void 0:F.data)==null?void 0:Z.wireless_link)==null?void 0:te["4g_link_state"])===1?"success":"danger",size:"small"},{default:s(()=>{var qe,Be,Qe;return[r(l(((Qe=(Be=(qe=x.value)==null?void 0:qe.data)==null?void 0:Be.wireless_link)==null?void 0:Qe["4g_link_state"])===1?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]}),_:1},8,["type"])]),e("div",Bo,[a[58]||(a[58]=e("span",{class:"label"},"SDRËøûÊé•Áä∂ÊÄÅ:",-1)),t(N,{type:((ie=(ne=(se=x.value)==null?void 0:se.data)==null?void 0:ne.wireless_link)==null?void 0:ie.sdr_link_state)===1?"success":"danger",size:"small"},{default:s(()=>{var qe,Be,Qe;return[r(l(((Qe=(Be=(qe=x.value)==null?void 0:qe.data)==null?void 0:Be.wireless_link)==null?void 0:Qe.sdr_link_state)===1?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]}),_:1},8,["type"])]),e("div",Qo,[a[59]||(a[59]=e("span",{class:"label"},"4G‰ø°Âè∑Ë¥®Èáè:",-1)),e("span",Go,l(ut((_e=(de=(re=x.value)==null?void 0:re.data)==null?void 0:de.wireless_link)==null?void 0:_e["4g_quality"]))+"/5",1)]),e("div",Zo,[a[60]||(a[60]=e("span",{class:"label"},"SDR‰ø°Âè∑Ë¥®Èáè:",-1)),e("span",Ko,l(ut((E=(be=(xe=x.value)==null?void 0:xe.data)==null?void 0:be.wireless_link)==null?void 0:E.sdr_quality))+"/5",1)]),e("div",Wo,[a[61]||(a[61]=e("span",{class:"label"},"4GÈ¢ëÊÆµ:",-1)),e("span",Yo,l(((Ce=(ue=(q=x.value)==null?void 0:q.data)==null?void 0:ue.wireless_link)==null?void 0:Ce["4g_freq_band"])||"--")+"MHz",1)]),e("div",Xo,[a[62]||(a[62]=e("span",{class:"label"},"SDRÈ¢ëÊÆµ:",-1)),e("span",el,l(((Ne=(Pe=(Oe=x.value)==null?void 0:Oe.data)==null?void 0:Pe.wireless_link)==null?void 0:Ne.sdr_freq_band)||"--")+"MHz",1)]),e("div",tl,[a[63]||(a[63]=e("span",{class:"label"},"Â§©Á´Ø4GË¥®Èáè:",-1)),e("span",sl,l(ut((me=(pe=(He=x.value)==null?void 0:He.data)==null?void 0:pe.wireless_link)==null?void 0:me["4g_uav_quality"]))+"/5",1)]),e("div",al,[a[64]||(a[64]=e("span",{class:"label"},"Âú∞Á´Ø4GË¥®Èáè:",-1)),e("span",ol,l(ut((vt=(ct=(et=x.value)==null?void 0:et.data)==null?void 0:ct.wireless_link)==null?void 0:vt["4g_gnd_quality"]))+"/5",1)]),e("div",ll,[a[65]||(a[65]=e("span",{class:"label"},"DongleÊï∞Èáè:",-1)),e("span",nl,l(((ft=(mt=(gt=x.value)==null?void 0:gt.data)==null?void 0:mt.wireless_link)==null?void 0:ft.dongle_number)||"--")+"‰∏™",1)]),e("div",il,[a[66]||(a[66]=e("span",{class:"label"},"ÈìæË∑ØÊ®°Âºè:",-1)),t(N,{type:((xt=(_t=(yt=x.value)==null?void 0:yt.data)==null?void 0:_t.wireless_link)==null?void 0:xt.link_workmode)===0?"info":"success",size:"small"},{default:s(()=>{var qe,Be,Qe;return[r(l(((Qe=(Be=(qe=x.value)==null?void 0:qe.data)==null?void 0:Be.wireless_link)==null?void 0:Qe.link_workmode)===0?"SDRÊ®°Âºè":"4GËûçÂêàÊ®°Âºè"),1)]}),_:1},8,["type"])]),e("div",rl,[a[67]||(a[67]=e("span",{class:"label"},"ÂæÖ‰∏ä‰º†Êñá‰ª∂:",-1)),e("span",dl,l(((wt=(ht=(bt=x.value)==null?void 0:bt.data)==null?void 0:ht.media_file_detail)==null?void 0:wt.remain_upload)||"--")+"‰∏™",1)]),e("div",ul,[a[68]||(a[68]=e("span",{class:"label"},"SDR‰∏ãË°åË¥®Èáè:",-1)),e("span",pl,l(((kt=($t=(zt=x.value)==null?void 0:zt.data)==null?void 0:$t.sdr)==null?void 0:kt.down_quality)||"--")+"%",1)]),e("div",cl,[a[69]||(a[69]=e("span",{class:"label"},"SDR‰∏äË°åË¥®Èáè:",-1)),e("span",vl,l(((Mt=(Tt=(St=x.value)==null?void 0:St.data)==null?void 0:Tt.sdr)==null?void 0:Mt.up_quality)||"--")+"%",1)])])]}),_:1})]),_:1}),t(J,{span:4},{default:s(()=>[t(U,{class:"info-card",shadow:"hover"},{header:s(()=>{var F,Z,te,se;return[e("div",gl,[t(C,null,{default:s(()=>[t(d(Rs))]),_:1}),a[70]||(a[70]=e("span",null,"Áõ¥Êí≠‰ø°ÊÅØ",-1)),t(N,{size:"small",type:(Z=(F=y.value)==null?void 0:F.data)!=null&&Z.live_capacity||(se=(te=n.value)==null?void 0:te.data)!=null&&se.live_capacity?"success":"info"},{default:s(()=>{var ne,ie,re,de;return[r(l((ie=(ne=y.value)==null?void 0:ne.data)!=null&&ie.live_capacity||(de=(re=n.value)==null?void 0:re.data)!=null&&de.live_capacity?"Â∑≤ËøûÊé•":"Á≠âÂæÖ"),1)]}),_:1},8,["type"])])]}),default:s(()=>{var F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He,pe,me,et,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,St,Tt,Mt,qe,Be,Qe,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt,ze,$e,ke,fe,Re,je,Ae,Gt,Zt,cs,vs,tt,st,at,ot,ss,as,bs,hs,ws,zs,$s,ks;return[e("div",ml,[e("div",fl,[a[71]||(a[71]=e("span",{class:"label"},"Êï∞ÊçÆÁä∂ÊÄÅ:",-1)),e("div",yl,[e("div",null,"airportBasicData: "+l(y.value?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"osdData: "+l(n.value?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"wirelessLinkData: "+l(x.value?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"live_capacity: "+l((Z=(F=y.value)==null?void 0:F.data)!=null&&Z.live_capacity||(se=(te=n.value)==null?void 0:te.data)!=null&&se.live_capacity||(ie=(ne=x.value)==null?void 0:ne.data)!=null&&ie.live_capacity?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"live_status: "+l(((be=((de=(re=x.value)==null?void 0:re.data)==null?void 0:de.live_status)||((xe=(_e=n.value)==null?void 0:_e.data)==null?void 0:xe.live_status))==null?void 0:be.length)>0?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1)])]),(q=(E=y.value)==null?void 0:E.data)!=null&&q.live_capacity||(Ce=(ue=n.value)==null?void 0:ue.data)!=null&&Ce.live_capacity||(Pe=(Oe=x.value)==null?void 0:Oe.data)!=null&&Pe.live_capacity?(_(),h("div",_l,[a[72]||(a[72]=e("span",{class:"label"},"ÂèØÊé®ÊµÅÁ†ÅÊµÅÊï∞:",-1)),e("span",xl,l(((pe=(He=(Ne=y.value)==null?void 0:Ne.data)==null?void 0:He.live_capacity)==null?void 0:pe.available_video_number)||((ct=(et=(me=n.value)==null?void 0:me.data)==null?void 0:et.live_capacity)==null?void 0:ct.available_video_number)||((mt=(gt=(vt=x.value)==null?void 0:vt.data)==null?void 0:gt.live_capacity)==null?void 0:mt.available_video_number)||"--"),1)])):j("",!0),(yt=(ft=y.value)==null?void 0:ft.data)!=null&&yt.live_capacity||(xt=(_t=n.value)==null?void 0:_t.data)!=null&&xt.live_capacity||(ht=(bt=x.value)==null?void 0:bt.data)!=null&&ht.live_capacity?(_(),h("div",bl,[a[73]||(a[73]=e("span",{class:"label"},"ÊúÄÂ§ßÂêåÊó∂Êé®ÊµÅ:",-1)),e("span",hl,l((($t=(zt=(wt=y.value)==null?void 0:wt.data)==null?void 0:zt.live_capacity)==null?void 0:$t.coexist_video_number_max)||((Tt=(St=(kt=n.value)==null?void 0:kt.data)==null?void 0:St.live_capacity)==null?void 0:Tt.coexist_video_number_max)||((Be=(qe=(Mt=x.value)==null?void 0:Mt.data)==null?void 0:qe.live_capacity)==null?void 0:Be.coexist_video_number_max)||"--"),1)])):j("",!0),((Jt=((jt=(Rt=(Qe=y.value)==null?void 0:Qe.data)==null?void 0:Rt.live_capacity)==null?void 0:jt.device_list)||((Vt=(Lt=(At=n.value)==null?void 0:At.data)==null?void 0:Lt.live_capacity)==null?void 0:Vt.device_list)||((It=(Ft=(Ut=x.value)==null?void 0:Ut.data)==null?void 0:Ft.live_capacity)==null?void 0:It.device_list))==null?void 0:Jt.length)>0?(_(),h("div",wl,[a[74]||(a[74]=e("span",{class:"label"},"ËßÜÈ¢ëÊ∫êËÆæÂ§á:",-1)),e("div",zl,[(_(!0),h(fs,null,ys(((Bt=(qt=(Et=y.value)==null?void 0:Et.data)==null?void 0:qt.live_capacity)==null?void 0:Bt.device_list)||(($e=(ze=(Qt=n.value)==null?void 0:Qt.data)==null?void 0:ze.live_capacity)==null?void 0:$e.device_list)||((Re=(fe=(ke=x.value)==null?void 0:ke.data)==null?void 0:fe.live_capacity)==null?void 0:Re.device_list),(dt,Yt)=>{var os;return _(),h("div",{key:Yt,style:{"margin-bottom":"8px",padding:"5px",background:"var(--el-color-info-light-9)","border-radius":"4px","font-size":"12px"}},[e("div",$l,l(dt.sn),1),e("div",kl,[e("span",Sl,"ÂèØÊé®ÊµÅ: "+l(dt.available_video_number),1),e("span",Tl,"ÊúÄÂ§ßÂêåÊó∂: "+l(dt.coexist_video_number_max),1)]),((os=dt.camera_list)==null?void 0:os.length)>0?(_(),h("div",Ml,[(_(!0),h(fs,null,ys(dt.camera_list,(Kt,is)=>{var ls;return _(),h("div",{key:is,style:{"margin-left":"10px","margin-bottom":"3px",padding:"3px",background:"var(--el-color-success-light-9)","border-radius":"3px"}},[e("div",Dl,"Áõ∏Êú∫: "+l(Kt.camera_index),1),e("div",Cl," ÂèØÊé®ÊµÅ: "+l(Kt.available_video_number)+" | ÊúÄÂ§ßÂêåÊó∂: "+l(Kt.coexist_video_number_max),1),((ls=Kt.video_list)==null?void 0:ls.length)>0?(_(),h("div",Ol,[(_(!0),h(fs,null,ys(Kt.video_list,(Ms,Gs)=>{var Ls;return _(),h("div",{key:Gs,style:{"margin-left":"10px","font-size":"10px",color:"var(--el-color-text-secondary)"}},[r(l(Ms.video_index)+" ("+l(Ms.video_type)+") ",1),((Ls=Ms.switchable_video_types)==null?void 0:Ls.length)>0?(_(),h("span",Pl," [ÂèØÂàáÊç¢: "+l(Ms.switchable_video_types.join(", "))+"] ",1)):j("",!0)])}),128))])):j("",!0)])}),128))])):j("",!0)])}),128))])])):j("",!0),((cs=((Ae=(je=x.value)==null?void 0:je.data)==null?void 0:Ae.live_status)||((Zt=(Gt=n.value)==null?void 0:Gt.data)==null?void 0:Zt.live_status))==null?void 0:cs.length)>0?(_(),h("div",Nl,[a[75]||(a[75]=e("span",{class:"label"},"ÂΩìÂâçÁõ¥Êí≠Áä∂ÊÄÅ:",-1)),e("div",Hl,[(_(!0),h(fs,null,ys(((tt=(vs=x.value)==null?void 0:vs.data)==null?void 0:tt.live_status)||((at=(st=n.value)==null?void 0:st.data)==null?void 0:at.live_status),(dt,Yt)=>(_(),h("div",{key:Yt,style:{"margin-bottom":"3px","font-size":"12px"}},[t(N,{type:dt.status===1?"success":"info",size:"small"},{default:s(()=>[r(l(dt.video_id)+" - "+l(u(dt.video_quality)),1)]),_:2},1032,["type"])]))),128))])])):j("",!0),!((ss=(ot=y.value)==null?void 0:ot.data)!=null&&ss.live_capacity||(bs=(as=n.value)==null?void 0:as.data)!=null&&bs.live_capacity)&&!((ks=((ws=(hs=x.value)==null?void 0:hs.data)==null?void 0:ws.live_status)||(($s=(zs=n.value)==null?void 0:zs.data)==null?void 0:$s.live_status))!=null&&ks.length)?(_(),h("div",Rl,[...a[76]||(a[76]=[e("div",{style:{"font-size":"14px","margin-bottom":"8px"}},"üìπ Á≠âÂæÖÁõ¥Êí≠Êï∞ÊçÆ",-1),e("div",{style:{"font-size":"12px"}},"ËØ∑Á°Æ‰øùËÆæÂ§áÂ∑≤ËøûÊé•Âπ∂ÂèëÈÄÅÁõ¥Êí≠Áõ∏ÂÖ≥‰ø°ÊÅØ",-1)])])):j("",!0)])]}),_:1})]),_:1}),t(J,{span:4},{default:s(()=>[t(U,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",jl,[t(C,null,{default:s(()=>[t(d(Ps))]),_:1}),a[78]||(a[78]=e("span",null,"ËÆæÂ§áÂ±ûÊÄß",-1)),t(N,{size:"small",type:"success"},{default:s(()=>[...a[77]||(a[77]=[r("ÂÆûÊó∂",-1)])]),_:1})])]),default:s(()=>[e("div",Al,[e("div",Ll,[a[79]||(a[79]=e("span",{class:"label"},"Áä∂ÊÄÅÊï∞ÊçÆ:",-1)),t(N,{type:ye.value==="connected"?"success":"info",size:"small"},{default:s(()=>[r(l(ye.value==="connected"?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]),_:1},8,["type"])]),e("div",Vl,[a[80]||(a[80]=e("span",{class:"label"},"ÂÆöÈ¢ëÊï∞ÊçÆ:",-1)),t(N,{type:De.value==="connected"?"success":"info",size:"small"},{default:s(()=>[r(l(De.value==="connected"?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]),_:1},8,["type"])]),e("div",Ul,[a[81]||(a[81]=e("span",{class:"label"},"Áä∂ÊÄÅ‰∏ªÈ¢ò:",-1)),e("span",Fl,"thing/product/"+l(Je())+"/state",1)]),e("div",Il,[a[82]||(a[82]=e("span",{class:"label"},"OSD‰∏ªÈ¢ò:",-1)),e("span",Jl,"thing/product/"+l(Je())+"/osd",1)]),a[85]||(a[85]=e("div",{class:"info-item"},[e("span",{class:"label"},"‰∏äÊä•È¢ëÁéá:"),e("span",{class:"value"},"0.5Hz")],-1)),e("div",El,[a[84]||(a[84]=e("span",{class:"label"},"ÊñπÂêë:",-1)),t(N,{type:"warning",size:"small"},{default:s(()=>[...a[83]||(a[83]=[r("up",-1)])]),_:1})])])]),_:1})]),_:1}),t(J,{span:4},{default:s(()=>[t(U,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",ql,[t(C,null,{default:s(()=>[t(d(Rs))]),_:1}),a[87]||(a[87]=e("span",null,"Ë¥üËΩΩÂ±ûÊÄß",-1)),t(N,{size:"small",type:"info"},{default:s(()=>[...a[86]||(a[86]=[r("Áõ∏Êú∫",-1)])]),_:1})])]),default:s(()=>[e("div",Bl,[e("div",Ql,[a[88]||(a[88]=e("span",{class:"label"},"‰∫ëÂè∞‰øØ‰ª∞:",-1)),e("span",Gl,l(le.value||"--")+"¬∞",1)]),e("div",Zl,[a[89]||(a[89]=e("span",{class:"label"},"‰∫ëÂè∞ÂÅèËà™:",-1)),e("span",Kl,l(nt.value||"--")+"¬∞",1)]),e("div",Wl,[a[90]||(a[90]=e("span",{class:"label"},"‰∫ëÂè∞Ê®™Êªö:",-1)),e("span",Yl,l(lt.value||"--")+"¬∞",1)]),e("div",Xl,[a[91]||(a[91]=e("span",{class:"label"},"Ë¥üËΩΩÁ¥¢Âºï:",-1)),e("span",en,l(Ht.value),1)]),e("div",tn,[a[92]||(a[92]=e("span",{class:"label"},"‰∫ßÂìÅÁ±ªÂûã:",-1)),e("span",sn,l(Fe.value||"--"),1)]),e("div",an,[a[93]||(a[93]=e("span",{class:"label"},"Â≠êÁ±ªÂûã:",-1)),e("span",on,l(We.value||"--"),1)])])]),_:1})]),_:1}),t(J,{span:4},{default:s(()=>[t(U,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",ln,[t(C,null,{default:s(()=>[t(d(Es))]),_:1}),a[95]||(a[95]=e("span",null,"ÁîµÊ±†‰ø°ÊÅØ",-1)),t(N,{size:"small",type:"warning"},{default:s(()=>[...a[94]||(a[94]=[r("ÁõëÊéß",-1)])]),_:1})])]),default:s(()=>{var F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He;return[e("div",nn,[e("div",rn,[a[96]||(a[96]=e("span",{class:"label"},"Â∑•‰ΩúÁîµÂéã:",-1)),e("span",dn,l(((Z=(F=n.value)==null?void 0:F.data)==null?void 0:Z.working_voltage)||"--")+"mV",1)]),e("div",un,[a[97]||(a[97]=e("span",{class:"label"},"Â∑•‰ΩúÁîµÊµÅ:",-1)),e("span",pn,l(((se=(te=n.value)==null?void 0:te.data)==null?void 0:se.working_current)||"--")+"mA",1)]),e("div",cn,[a[98]||(a[98]=e("span",{class:"label"},"ÁîµÊ±†Ê®°Âºè:",-1)),t(N,{type:I((ie=(ne=n.value)==null?void 0:ne.data)==null?void 0:ie.battery_store_mode),size:"small"},{default:s(()=>{var pe,me;return[r(l(G((me=(pe=n.value)==null?void 0:pe.data)==null?void 0:me.battery_store_mode)),1)]}),_:1},8,["type"])]),e("div",vn,[a[99]||(a[99]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†:",-1)),t(N,{type:((_e=(de=(re=n.value)==null?void 0:re.data)==null?void 0:de.backup_battery)==null?void 0:_e.switch)===1?"success":"info",size:"small"},{default:s(()=>{var pe,me,et;return[r(l(((et=(me=(pe=n.value)==null?void 0:pe.data)==null?void 0:me.backup_battery)==null?void 0:et.switch)===1?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",gn,[a[100]||(a[100]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†ÁîµÂéã:",-1)),e("span",mn,l(((E=(be=(xe=n.value)==null?void 0:xe.data)==null?void 0:be.backup_battery)==null?void 0:E.voltage)||"--")+"mV",1)]),e("div",fn,[a[101]||(a[101]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†Ê∏©Â∫¶:",-1)),e("span",yn,l(((Ce=(ue=(q=n.value)==null?void 0:q.data)==null?void 0:ue.backup_battery)==null?void 0:Ce.temperature)||"--")+"¬∞C",1)]),e("div",_n,[a[102]||(a[102]=e("span",{class:"label"},"‰æõÁîµÁîµÂéã:",-1)),e("span",xn,l(((Pe=(Oe=n.value)==null?void 0:Oe.data)==null?void 0:Pe.electric_supply_voltage)||"--")+"V",1)]),e("div",bn,[a[103]||(a[103]=e("span",{class:"label"},"ACDCÂäüÁéá:",-1)),e("span",hn,l((He=(Ne=n.value)==null?void 0:Ne.data)!=null&&He.acdc_power_input?n.value.data.acdc_power_input.toFixed(1):"--")+"W",1)])])]}),_:1})]),_:1})]),_:1})]),e("div",wn,[t(Y,{type:"primary",icon:d(qs),circle:"",size:"large",onClick:a[0]||(a[0]=F=>Me.value=!0),title:"Êü•ÁúãÂéüÂßãÊï∞ÊçÆ"},null,8,["icon"])]),e("div",zn,[t(Y,{type:"warning",circle:"",size:"large",onClick:i,title:"ÊâãÂä®Â§ÑÁêÜOSDÊ∂àÊÅØ"},{default:s(()=>[...a[104]||(a[104]=[r(" üîÑ ",-1)])]),_:1})]),t(Nt,{modelValue:Me.value,"onUpdate:modelValue":a[1]||(a[1]=F=>Me.value=F),title:"ÂéüÂßãÊï∞ÊçÆÂ±ïÁ§∫",direction:"rtl",size:"60%","before-close":Ve},{default:s(()=>[e("div",$n,[t(Pt,{type:"border-card"},{default:s(()=>[t(Ee,{label:"OSDÊï∞ÊçÆ",name:"osd"},{default:s(()=>[e("pre",kn,l(JSON.stringify(n.value,null,2)),1)]),_:1}),t(Ee,{label:"Êú∫Âú∫Âü∫Á°Ä‰ø°ÊÅØ",name:"basic"},{default:s(()=>[e("pre",Sn,l(JSON.stringify(y.value,null,2)),1)]),_:1}),t(Ee,{label:"Âõæ‰º†ÈìæË∑Ø‰ø°ÊÅØ",name:"wireless"},{default:s(()=>[e("pre",Tn,l(JSON.stringify(x.value,null,2)),1)]),_:1}),t(Ee,{label:"ÁéØÂ¢ÉÁä∂ÊÄÅ‰ø°ÊÅØ",name:"environment"},{default:s(()=>[e("pre",Mn,l(JSON.stringify(M.value,null,2)),1)]),_:1}),t(Ee,{label:"È£ûÊú∫‰ø°ÊÅØ",name:"aircraft"},{default:s(()=>[e("pre",Dn,l(JSON.stringify(Q.value,null,2)),1)]),_:1}),t(Ee,{label:"ËÆæÂ§áÁä∂ÊÄÅ",name:"state"},{default:s(()=>[e("pre",Cn,l(JSON.stringify(oe.value,null,2)),1)]),_:1}),t(Ee,{label:"Êï∞ÊçÆÊõ¥Êñ∞‰ø°ÊÅØ",name:"updates"},{default:s(()=>{var F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q;return[e("div",On,[e("div",Pn,[a[111]||(a[111]=e("h4",{style:{color:"var(--el-color-primary)","margin-bottom":"10px"}},"üìä Êï∞ÊçÆÊõ¥Êñ∞Áä∂ÊÄÅ",-1)),e("div",Nn,[e("div",Hn,[a[105]||(a[105]=e("strong",null,"OSDÊï∞ÊçÆ:",-1)),(F=n.value)!=null&&F.timestamp?(_(),h("span",{key:0,style:es(T(n.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[r(l(v(n.value.timestamp))+" ",1),T(n.value.timestamp)?(_(),h("span",Rn,"‚ö†Ô∏è")):j("",!0)],4)):(_(),h("span",jn,"Á≠âÂæÖÊï∞ÊçÆ"))]),e("div",An,[a[106]||(a[106]=e("strong",null,"Êú∫Âú∫Âü∫Á°Ä‰ø°ÊÅØ:",-1)),(Z=y.value)!=null&&Z.timestamp?(_(),h("span",{key:0,style:es(T(y.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[r(l(v(y.value.timestamp))+" ",1),T(y.value.timestamp)?(_(),h("span",Ln,"‚ö†Ô∏è")):j("",!0)],4)):(_(),h("span",Vn,"Á≠âÂæÖÊï∞ÊçÆ")),(te=y.value)!=null&&te.timestamp?(_(),h("div",Un," ÂéüÂßãÂÄº: "+l(y.value.timestamp)+" (Á±ªÂûã: "+l(typeof y.value.timestamp)+") ",1)):j("",!0)]),e("div",Fn,[a[107]||(a[107]=e("strong",null,"Âõæ‰º†ÈìæË∑Ø‰ø°ÊÅØ:",-1)),(se=x.value)!=null&&se.timestamp?(_(),h("span",{key:0,style:es(T(x.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[r(l(v(x.value.timestamp))+" ",1),T(x.value.timestamp)?(_(),h("span",In,"‚ö†Ô∏è")):j("",!0)],4)):(_(),h("span",Jn,"Á≠âÂæÖÊï∞ÊçÆ"))]),e("div",En,[a[108]||(a[108]=e("strong",null,"ÁéØÂ¢ÉÁä∂ÊÄÅ‰ø°ÊÅØ:",-1)),(ne=M.value)!=null&&ne.timestamp?(_(),h("span",{key:0,style:es(T(M.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[r(l(v(M.value.timestamp))+" ",1),T(M.value.timestamp)?(_(),h("span",qn,"‚ö†Ô∏è")):j("",!0)],4)):(_(),h("span",Bn,"Á≠âÂæÖÊï∞ÊçÆ"))]),e("div",Qn,[a[109]||(a[109]=e("strong",null,"È£ûÊú∫‰ø°ÊÅØ:",-1)),(ie=Q.value)!=null&&ie.timestamp?(_(),h("span",{key:0,style:es(T(Q.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[r(l(v(Q.value.timestamp))+" ",1),T(Q.value.timestamp)?(_(),h("span",Gn,"‚ö†Ô∏è")):j("",!0)],4)):(_(),h("span",Zn,"Á≠âÂæÖÊï∞ÊçÆ"))]),e("div",Kn,[a[110]||(a[110]=e("strong",null,"ËÆæÂ§áÁä∂ÊÄÅ:",-1)),(re=oe.value)!=null&&re.timestamp?(_(),h("span",{key:0,style:es(T(oe.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[r(l(v(oe.value.timestamp))+" ",1),T(oe.value.timestamp)?(_(),h("span",Wn,"‚ö†Ô∏è")):j("",!0)],4)):(_(),h("span",Yn,"Á≠âÂæÖÊï∞ÊçÆ"))])])]),e("div",null,[a[118]||(a[118]=e("h4",{style:{color:"var(--el-color-primary)","margin-bottom":"10px"}},"üîÑ ÊúÄËøëÊõ¥Êñ∞Â≠óÊÆµ",-1)),(de=n.value)!=null&&de.data?(_(),h("div",Xn,[a[112]||(a[112]=e("strong",null,"OSDÊï∞ÊçÆÂ≠óÊÆµ:",-1)),r(" "+l(Object.keys(n.value.data).join(", ")),1)])):j("",!0),(_e=y.value)!=null&&_e.data?(_(),h("div",ei,[a[113]||(a[113]=e("strong",null,"Êú∫Âú∫Âü∫Á°Ä‰ø°ÊÅØÂ≠óÊÆµ:",-1)),r(" "+l(Object.keys(y.value.data).join(", ")),1)])):j("",!0),(xe=x.value)!=null&&xe.data?(_(),h("div",ti,[a[114]||(a[114]=e("strong",null,"Âõæ‰º†ÈìæË∑Ø‰ø°ÊÅØÂ≠óÊÆµ:",-1)),r(" "+l(Object.keys(x.value.data).join(", ")),1)])):j("",!0),(be=M.value)!=null&&be.data?(_(),h("div",si,[a[115]||(a[115]=e("strong",null,"ÁéØÂ¢ÉÁä∂ÊÄÅ‰ø°ÊÅØÂ≠óÊÆµ:",-1)),r(" "+l(Object.keys(M.value.data).join(", ")),1)])):j("",!0),(E=Q.value)!=null&&E.data?(_(),h("div",ai,[a[116]||(a[116]=e("strong",null,"È£ûÊú∫‰ø°ÊÅØÂ≠óÊÆµ:",-1)),r(" "+l(Object.keys(Q.value.data).join(", ")),1)])):j("",!0),(q=oe.value)!=null&&q.data?(_(),h("div",oi,[a[117]||(a[117]=e("strong",null,"ËÆæÂ§áÁä∂ÊÄÅÂ≠óÊÆµ:",-1)),r(" "+l(Object.keys(oe.value.data).join(", ")),1)])):j("",!0)])])]}),_:1}),t(Ee,{label:"ÊâÄÊúâÊ∂àÊÅØÂéÜÂè≤",name:"all"},{default:s(()=>[e("pre",li,l(JSON.stringify(d(k).messageHistory,null,2)),1)]),_:1})]),_:1})])]),_:1},8,["modelValue"]),f.value?j("",!0):(_(),h("div",ni,[t(C,{style:{color:"var(--el-color-warning)","font-size":"48px","margin-bottom":"16px"}},{default:s(()=>[t(d(Bs))]),_:1}),a[119]||(a[119]=e("h3",{style:{color:"var(--el-color-warning-dark-2)","margin-bottom":"8px"}},"Á≠âÂæÖÊé•Êî∂Êú∫Âú∫OSDÊï∞ÊçÆ...",-1)),a[120]||(a[120]=e("p",{style:{color:"var(--el-text-color-regular)","font-size":"14px"}},"ËØ∑Á°Æ‰øùMQTTËøûÊé•Ê≠£Â∏∏ÔºåËÆæÂ§áÊ≠£Âú®‰∏äÊä•Êï∞ÊçÆ",-1))]))])}}},ri=_s(ii,[["__scopeId","data-v-27fcb0e2"]]);const di={class:"flight-map-container"},ui={class:"map-header"},pi={class:"flight-info"},ci={class:"map-controls"},vi={class:"trajectory-info"},gi={class:"info-item"},mi={key:0,class:"height-info"},fi={__name:"FlightTrajectoryMap",props:{modelValue:{type:Boolean,default:!1},aircraftData:{type:Object,default:()=>({})},aircraftSn:{type:String,default:""}},emits:["update:modelValue"],setup(L,{emit:Ct}){const z=L,Se=Ct,k=S(!1),ce=S(!0),n=S([]),f=S(null),W=S(null),ve=S(null),ye=S(!1);S(0),S(!1);const De=S([]),oe=S([]),le=S([]);Os(()=>z.modelValue,g=>{k.value=g,g&&Vs(()=>{nt()})}),Os(k,g=>{Se("update:modelValue",g)}),Os(()=>z.aircraftData,g=>{g&&ye.value&&k.value&&lt()},{deep:!0});const Me=g=>{k.value=!1,g&&g()},nt=async()=>{if(!ye.value)try{console.log("üó∫Ô∏è ÂºÄÂßãÂàùÂßãÂåñÈ£ûË°åËΩ®ËøπÂú∞Âõæ..."),console.log("üìä È´òÂæ∑Âú∞ÂõæAPIÁä∂ÊÄÅ:",Fs()),typeof window.AMap<"u"&&(console.log("‚úÖ Ê£ÄÊµãÂà∞AMapÂ∑≤ÂèØÁî®ÔºåÁõ¥Êé•‰ΩøÁî®"),window.AMapLoaded=!0),await ra(),console.log("‚úÖ È´òÂæ∑Âú∞ÂõæAPIÂä†ËΩΩÂÆåÊàê");const g=window.AMap;if(!g||!g.Map)throw new Error("AMapÂØπË±°‰∏çÂÆåÊï¥ÔºåÊó†Ê≥ïÂàõÂª∫Âú∞Âõæ");const{latitude:b,longitude:w}=z.aircraftData;let u;if(b&&w){const[o,O]=Cs.wgs84ToGcj02(w,b);u=[o,O],console.log("üó∫Ô∏è Âú∞Âõæ‰∏≠ÂøÉÁÇπËΩ¨Êç¢:",{wgs84:{lng:w,lat:b},gcj02:{lng:o,lat:O}})}else u=gs.defaultConfig.center;if(console.log("üìç Âú∞Âõæ‰∏≠ÂøÉÁÇπ:",u),console.log("üîß Âú∞ÂõæÈÖçÁΩÆ:",gs.defaultConfig),f.value=new g.Map("flight-map",{zoom:gs.defaultConfig.zoom,center:u,mapStyle:gs.defaultConfig.mapStyle,viewMode:"3D",pitch:45,features:["bg","road","building","point"],showLabel:!0,buildingAnimation:!0,skyColor:"#87CEEB"}),!f.value)throw new Error("Âú∞ÂõæÂÆû‰æãÂàõÂª∫Â§±Ë¥•");f.value.on("complete",()=>{console.log("‚úÖ Âú∞ÂõæÁì¶ÁâáÂä†ËΩΩÂÆåÊàê")}),f.value.on("error",o=>{console.error("‚ùå Âú∞ÂõæÁì¶ÁâáÂä†ËΩΩÈîôËØØ:",o)}),f.value.on("zoomchange",()=>{try{console.log("üîç Âú∞ÂõæÁº©ÊîæÁ∫ßÂà´:",f.value.getZoom())}catch(o){console.warn("‚ö†Ô∏è Ëé∑ÂèñÂú∞ÂõæÁº©ÊîæÁ∫ßÂà´Êó∂Âá∫Èîô:",o)}}),f.value.on("moveend",()=>{try{const o=f.value.getCenter();console.log("üìç Âú∞Âõæ‰∏≠ÂøÉÁÇπ:",o)}catch(o){console.warn("‚ö†Ô∏è Ëé∑ÂèñÂú∞Âõæ‰∏≠ÂøÉÁÇπÊó∂Âá∫Èîô:",o)}}),setTimeout(()=>{if(f.value&&f.value.getContainer)try{const o=f.value.getContainer();(!o||o.offsetWidth===0)&&console.warn("‚ö†Ô∏è Âú∞ÂõæÂÆπÂô®ÂèØËÉΩÊú™Ê≠£Á°ÆÂàùÂßãÂåñ")}catch(o){console.warn("‚ö†Ô∏è Ê£ÄÊü•Âú∞ÂõæÂÆπÂô®Áä∂ÊÄÅÊó∂Âá∫Èîô:",o)}},1e3);try{f.value.addControl(new g.Scale),console.log("‚úÖ ÊØî‰æãÂ∞∫Êéß‰ª∂Ê∑ªÂä†ÊàêÂäü")}catch(o){console.warn("‚ö†Ô∏è ÊØî‰æãÂ∞∫Êéß‰ª∂Ê∑ªÂä†Â§±Ë¥•:",o)}try{f.value.addControl(new g.ToolBar),console.log("‚úÖ Â∑•ÂÖ∑Êù°Êéß‰ª∂Ê∑ªÂä†ÊàêÂäü")}catch(o){console.warn("‚ö†Ô∏è Â∑•ÂÖ∑Êù°Êéß‰ª∂Ê∑ªÂä†Â§±Ë¥•:",o)}lt(),ye.value=!0,console.log("‚úÖ È£ûË°åËΩ®ËøπÂú∞ÂõæÂàùÂßãÂåñÊàêÂäü"),setTimeout(()=>{pt()},3e3),A.success("È£ûË°åËΩ®ËøπÂú∞ÂõæÂ∑≤Âä†ËΩΩ")}catch(g){if(console.error("‚ùå Âú∞ÂõæÂàùÂßãÂåñÂ§±Ë¥•:",g),console.error("üìä ÂΩìÂâçAPIÁä∂ÊÄÅ:",Fs()),typeof window.AMap<"u"){console.log("üîÑ Â∞ùËØïÂ§áÁî®ÂàùÂßãÂåñÊñπÊ°à...");try{const{latitude:b,longitude:w}=z.aircraftData,u=[w||gs.defaultConfig.center[0],b||gs.defaultConfig.center[1]];f.value=new window.AMap.Map("flight-map",{zoom:15,center:u}),lt(),ye.value=!0,console.log("‚úÖ Â§áÁî®ÊñπÊ°àÂàùÂßãÂåñÊàêÂäü"),A.success("È£ûË°åËΩ®ËøπÂú∞ÂõæÂ∑≤Âä†ËΩΩÔºàÂ§áÁî®ÊñπÊ°àÔºâ");return}catch(b){console.error("‚ùå Â§áÁî®ÊñπÊ°à‰πüÂ§±Ë¥•:",b)}}A.error(`Âú∞ÂõæÊúçÂä°Âä†ËΩΩÂ§±Ë¥•: ${g.message}`)}},lt=async()=>{if(!f.value||!z.aircraftData)return;if(!f.value||!ye.value){console.warn("‚ö†Ô∏è Âú∞ÂõæÊú™ÂàùÂßãÂåñÔºåË∑≥ËøáÊ†áËÆ∞Êõ¥Êñ∞");return}const{latitude:g,longitude:b,height:w,attitude_head:u}=z.aircraftData;if(g&&b&&typeof g=="number"&&typeof b=="number"&&!isNaN(g)&&!isNaN(b)&&g>=-90&&g<=90&&b>=-180&&b<=180)try{W.value&&f.value.remove(W.value);const[o,O]=Cs.wgs84ToGcj02(b,g);o===null||O===null||isNaN(o)||isNaN(O)?(console.error("‚ùå ÂùêÊ†áËΩ¨Êç¢Â§±Ë¥•Ôºå‰ΩøÁî®ÂéüÂßãÂùêÊ†á",{longitude:b,latitude:g,gcjLng:o,gcjLat:O}),W.value=new AMap.Marker({position:[b,g],title:`È£ûÊú∫‰ΩçÁΩÆ
È´òÂ∫¶: ${(w==null?void 0:w.toFixed(2))||"Êú™Áü•"}m
Ëà™Âêë: ${(u==null?void 0:u.toFixed(1))||"Êú™Áü•"}¬∞
WGS84: ${g.toFixed(8)}, ${b.toFixed(8)}`,icon:new AMap.Icon({size:new AMap.Size(32,32),image:"data:image/svg+xml;base64,"+btoa(`
              <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 2L20 12L30 12L22 18L26 28L16 22L6 28L10 18L2 12L12 12Z" fill="#ff4444" stroke="#ffffff" stroke-width="2"/>
              </svg>
            `)}),rotation:u||0})):(console.log("üîÑ ÂùêÊ†áËΩ¨Êç¢:",{wgs84:{lng:b,lat:g},gcj02:{lng:o,lat:O}}),W.value=new AMap.Marker({position:[o,O],title:`È£ûÊú∫‰ΩçÁΩÆ
È´òÂ∫¶: ${(w==null?void 0:w.toFixed(2))||"Êú™Áü•"}m
Ëà™Âêë: ${(u==null?void 0:u.toFixed(1))||"Êú™Áü•"}¬∞
WGS84: ${g.toFixed(8)}, ${b.toFixed(8)}
GCJ02: ${O.toFixed(8)}, ${o.toFixed(8)}`,icon:new AMap.Icon({size:new AMap.Size(32,32),image:"data:image/svg+xml;base64,"+btoa(`
              <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 2L20 12L30 12L22 18L26 28L16 22L6 28L10 18L2 12L12 12Z" fill="#ff4444" stroke="#ffffff" stroke-width="2"/>
              </svg>
            `)}),rotation:u||0})),f.value.add(W.value),o!==null&&O!==null&&!isNaN(o)&&!isNaN(O)?Ze(o,O,w):Ze(b,g,w),Fe(),console.log("‚úÖ È£ûÊú∫Ê†áËÆ∞Êõ¥Êñ∞ÊàêÂäüÔºàÂ∑≤ËΩ¨Êç¢ÂùêÊ†áÔºâ")}catch(o){console.error("‚ùå Êõ¥Êñ∞È£ûÊú∫Ê†áËÆ∞Â§±Ë¥•:",o),console.warn("‚ö†Ô∏è È£ûÊú∫Ê†áËÆ∞Êõ¥Êñ∞Â§±Ë¥•ÔºåÂ∞ÜÂú®‰∏ãÊ¨°Êï∞ÊçÆÊõ¥Êñ∞Êó∂ÈáçËØï")}else console.warn("‚ö†Ô∏è Êó†ÊïàÁöÑÂùêÊ†áÊï∞ÊçÆ:",{latitude:g,longitude:b})},Ze=(g,b,w)=>{if(!g||!b||typeof g!="number"||typeof b!="number"||isNaN(g)||isNaN(b)){console.warn("‚ö†Ô∏è Êó†ÊïàÁöÑËΩ®ËøπÁÇπÊï∞ÊçÆ:",{lng:g,lat:b});return}try{const u={lng:Number(g),lat:Number(b),height:w&&typeof w=="number"?Number(w):0,timestamp:Date.now()};n.value.push(u),n.value.length>1e3&&n.value.shift(),console.log("‚úÖ ËΩ®ËøπÁÇπÊ∑ªÂä†ÊàêÂäü:",u)}catch(u){console.error("‚ùå Ê∑ªÂä†ËΩ®ËøπÁÇπÂ§±Ë¥•:",u)}},Fe=()=>{if(!(!f.value||!ce.value||n.value.length<2))try{ve.value&&f.value.remove(ve.value);const g=n.value.filter($=>$&&typeof $.lng=="number"&&typeof $.lat=="number"&&!isNaN($.lng)&&!isNaN($.lat));if(g.length<2){console.warn("‚ö†Ô∏è ÊúâÊïàËΩ®ËøπÁÇπ‰∏çË∂≥ÔºåÊó†Ê≥ïÁªòÂà∂ËΩ®ËøπÁ∫ø");return}const b=g.map($=>[$.lng,$.lat]),w=g.map($=>$.height||0),u=Math.min(...w),o=Math.max(...w),O=o-u,X=[];for(let $=0;$<g.length-1;$++){const P=g[$],I=g[$+1],G=P.height||0,rt=O>0?(G-u)/O:.5,Ke=Math.floor(255*rt),we=Math.floor(255*(1-rt)),Xe=`rgb(${Ke}, 0, ${we})`;X.push({path:[[P.lng,P.lat],[I.lng,I.lat]],color:Xe,height:G})}const K=X.map($=>new AMap.Polyline({path:$.path,strokeColor:$.color,strokeWeight:6,strokeOpacity:.9,strokeStyle:"solid",zIndex:1e3+Math.floor($.height/10)}));ve.value={polylines:K,add:function($){K.forEach(P=>$.add(P))},remove:function($){K.forEach(P=>$.remove(P))}},ve.value.add(f.value),We(g),x(g),Ie(g),console.log("‚úÖ 3DËΩ®ËøπÁ∫øÊõ¥Êñ∞ÊàêÂäüÔºåÁÇπÊï∞:",g.length,"È´òÂ∫¶ËåÉÂõ¥:",u.toFixed(1),"-",o.toFixed(1),"m")}catch(g){console.error("‚ùå Êõ¥Êñ∞ËΩ®ËøπÁ∫øÂ§±Ë¥•:",g)}},We=g=>{if(y(),!(!f.value||g.length===0))try{const b=Math.max(1,Math.floor(g.length/10));for(let w=0;w<g.length;w+=b){const u=g[w];if(u&&u.height!==void 0&&u.height!==null){const o=new AMap.Text({position:[u.lng,u.lat],text:`${u.height.toFixed(1)}m`,style:{"background-color":"rgba(255, 255, 255, 0.8)",border:"1px solid #ccc","border-radius":"3px",padding:"2px 4px","font-size":"12px",color:"#333"},offset:new AMap.Pixel(0,-20)});f.value.add(o),De.value.push(o)}}console.log("‚úÖ È´òÂ∫¶Ê†áÁ≠æÊ∑ªÂä†ÊàêÂäüÔºåÊï∞Èáè:",De.value.length)}catch(b){console.error("‚ùå Ê∑ªÂä†È´òÂ∫¶Ê†áÁ≠æÂ§±Ë¥•:",b)}},y=()=>{f.value&&De.value.length>0&&(De.value.forEach(g=>{try{f.value.remove(g)}catch(b){console.warn("‚ö†Ô∏è ÁßªÈô§È´òÂ∫¶Ê†áÁ≠æÊó∂Âá∫Èîô:",b)}}),De.value=[])},x=g=>{if(Q(),!(!f.value||g.length===0))try{const b=Math.max(1,Math.floor(g.length/20));for(let w=0;w<g.length;w+=b){const u=g[w];if(u&&u.height!==void 0&&u.height!==null&&u.height>0){const o=new AMap.Circle({center:[u.lng,u.lat],radius:20,fillColor:M(u.height,g),fillOpacity:.6,strokeColor:"#ffffff",strokeWeight:2,strokeOpacity:.8,zIndex:1e3+Math.floor(u.height/10)}),O=new AMap.Text({position:[u.lng,u.lat],text:`${u.height.toFixed(0)}m`,style:{"background-color":"rgba(255, 255, 255, 0.9)",border:"1px solid #ccc","border-radius":"3px",padding:"2px 4px","font-size":"11px",color:"#333","font-weight":"bold"},offset:new AMap.Pixel(0,-30)});f.value.add(o),f.value.add(O),oe.value.push({circle:o,label:O})}}console.log("‚úÖ 3DÈ´òÂ∫¶Êü±Áä∂ÂõæÊ∑ªÂä†ÊàêÂäüÔºåÊï∞Èáè:",oe.value.length)}catch(b){console.error("‚ùå Ê∑ªÂä†3DÈ´òÂ∫¶Êü±Áä∂ÂõæÂ§±Ë¥•:",b)}},M=(g,b)=>{const w=b.map(P=>P.height).filter(P=>P!=null),u=Math.min(...w),O=Math.max(...w)-u;if(O===0)return"#00ff00";const X=(g-u)/O,K=Math.floor(255*X),$=Math.floor(255*(1-X));return`rgb(${K}, 0, ${$})`},Q=()=>{f.value&&oe.value.length>0&&(oe.value.forEach(g=>{try{g.circle&&f.value.remove(g.circle),g.label&&f.value.remove(g.label)}catch(b){console.warn("‚ö†Ô∏è ÁßªÈô§3DÈ´òÂ∫¶Êü±Áä∂ÂõæÊó∂Âá∫Èîô:",b)}}),oe.value=[])},Ie=g=>{if(it(),!(!f.value||g.length===0))try{const b=Math.max(1,Math.floor(g.length/10));for(let w=0;w<g.length;w+=b){const u=g[w];if(u&&u.lng&&u.lat){const o=new AMap.Circle({center:[u.lng,u.lat],radius:50,fillColor:"#ff6b6b",fillOpacity:.2,strokeColor:"#ff6b6b",strokeWeight:3,strokeOpacity:.8,zIndex:500});f.value.add(o),le.value.push(o)}}console.log("‚úÖ 3DÂª∫Á≠ëÈ´ò‰∫ÆÊ∑ªÂä†ÊàêÂäüÔºåÊï∞Èáè:",le.value.length)}catch(b){console.error("‚ùå Ê∑ªÂä†3DÂª∫Á≠ëÈ´ò‰∫ÆÂ§±Ë¥•:",b)}},it=()=>{f.value&&le.value.length>0&&(le.value.forEach(g=>{try{f.value.remove(g)}catch(b){console.warn("‚ö†Ô∏è ÁßªÈô§3DÂª∫Á≠ëÈ´ò‰∫ÆÊó∂Âá∫Èîô:",b)}}),le.value=[])},Ht=()=>{n.value=[],y(),Q(),it(),ve.value&&(ve.value.remove(f.value),ve.value=null),A.success("3DËΩ®ËøπÂ∑≤Ê∏ÖÈô§")},Je=()=>{ce.value=!ce.value,ce.value?Fe():(ve.value&&(ve.value.remove(f.value),ve.value=null),y(),Q(),it())},Wt=()=>{if(f.value&&z.aircraftData){const{latitude:g,longitude:b}=z.aircraftData;if(g&&b){const[w,u]=Cs.wgs84ToGcj02(b,g);f.value.setCenter([w,u]),f.value.setZoom(15),console.log("üéØ Âú∞ÂõæÂ±Ö‰∏≠ÔºàÂ∑≤ËΩ¨Êç¢ÂùêÊ†áÔºâ:",{wgs84:[b,g],gcj02:[w,u]})}}},ts=()=>{if(f.value)try{f.value.setPitch(45),f.value.setRotation(0),f.value.setZoom(f.value.getZoom()),console.log("üé¨ ÂàáÊç¢Âà∞3DËßÜËßí"),A.success("Â∑≤ÂàáÊç¢Âà∞3DËßÜËßí")}catch(g){console.warn("‚ö†Ô∏è 3DËßÜËßíËÆæÁΩÆÂ§±Ë¥•:",g),A.warning("3DËßÜËßíËÆæÁΩÆÂ§±Ë¥•ÔºåÂú∞ÂõæÂ∑≤‰∏∫3DÊ®°Âºè")}},H=()=>{if(f.value)try{f.value.setPitch(0),f.value.setRotation(0),f.value.setZoom(f.value.getZoom()),console.log("üìê ÂàáÊç¢Âà∞‰øØËßÜÂõæ"),A.success("Â∑≤ÂàáÊç¢Âà∞‰øØËßÜÂõæ")}catch(g){console.warn("‚ö†Ô∏è ‰øØËßÜÂõæËÆæÁΩÆÂ§±Ë¥•:",g),A.warning("‰øØËßÜÂõæËÆæÁΩÆÂ§±Ë¥•")}},v=()=>{if(f.value)try{console.log("üîÑ ÈáçÊñ∞Âä†ËΩΩÂú∞Âõæ..."),A.info("Ê≠£Âú®ÈáçÊñ∞Âä†ËΩΩÂú∞Âõæ..."),Ye(),setTimeout(()=>{nt()},500)}catch(g){console.error("‚ùå ÈáçÊñ∞Âä†ËΩΩÂú∞ÂõæÂ§±Ë¥•:",g),A.error("ÈáçÊñ∞Âä†ËΩΩÂú∞ÂõæÂ§±Ë¥•")}},T=()=>{try{const{latitude:g,longitude:b}=z.aircraftData||{};if(g&&b&&typeof g=="number"&&typeof b=="number"&&!isNaN(g)&&!isNaN(b)){const[w,u]=Cs.wgs84ToGcj02(b,g);return`GCJ02: ${u.toFixed(8)}, ${w.toFixed(8)}`}return"Êú™Áü•"}catch(g){return console.error("‚ùå Ê†ºÂºèÂåñÂùêÊ†áÂ§±Ë¥•:",g),"Êú™Áü•"}},ee=()=>{if(n.value.length<2)return"0.00";try{const g=n.value.filter(w=>w&&typeof w.lng=="number"&&typeof w.lat=="number"&&!isNaN(w.lng)&&!isNaN(w.lat));if(g.length<2)return"0.00";let b=0;for(let w=1;w<g.length;w++){const u=g[w-1],o=g[w];if(u&&o&&typeof u.lng=="number"&&typeof u.lat=="number"&&typeof o.lng=="number"&&typeof o.lat=="number"){const O=AMap.GeometryUtil.distance([u.lng,u.lat],[o.lng,o.lat]);!isNaN(O)&&O>0&&(b+=O)}}return(b/1e3).toFixed(2)}catch(g){return console.error("‚ùå ËÆ°ÁÆóÈ£ûË°åË∑ùÁ¶ªÂ§±Ë¥•:",g),"0.00"}},Ve=()=>{if(n.value.length<2)return"00:00:00";const g=n.value[0].timestamp,b=n.value[n.value.length-1].timestamp,w=Math.floor((b-g)/1e3),u=Math.floor(w/3600),o=Math.floor(w%3600/60),O=w%60;return`${u.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},ut=()=>{if(n.value.length===0)return"Êú™Áü•";const g=n.value.map(u=>u.height).filter(u=>u!=null&&!isNaN(u));if(g.length===0)return"Êú™Áü•";const b=Math.min(...g),w=Math.max(...g);return`${b.toFixed(1)}m - ${w.toFixed(1)}m`},Ot=()=>{if(n.value.length===0)return"Êú™Áü•";const g=n.value.map(w=>w.height).filter(w=>w!=null&&!isNaN(w));return g.length===0?"Êú™Áü•":(g.reduce((w,u)=>w+u,0)/g.length).toFixed(1)},pt=()=>{if(f.value)try{const g=document.getElementById("flight-map");if(!g){console.error("‚ùå Âú∞ÂõæÂÆπÂô®Êú™ÊâæÂà∞");return}const b=g.querySelectorAll('img[src*="amap.com"]');if(console.log("üîç Âú∞ÂõæÁì¶ÁâáÊ£ÄÊü•:",{tilesCount:b.length,containerSize:{width:g.offsetWidth,height:g.offsetHeight}}),b.length===0){console.warn("‚ö†Ô∏è Êú™Ê£ÄÊµãÂà∞Âú∞ÂõæÁì¶ÁâáÔºåÂ∞ùËØïÈáçÊñ∞Âä†ËΩΩ"),A.warning("Âú∞ÂõæÁì¶ÁâáÊú™Âä†ËΩΩÔºåÂ∞ùËØïÈáçÊñ∞Âä†ËΩΩ...");const{latitude:w,longitude:u}=z.aircraftData;w&&u&&(f.value.setCenter([u,w]),f.value.setZoom(15))}else console.log("‚úÖ Âú∞ÂõæÁì¶ÁâáÂ∑≤Âä†ËΩΩ")}catch(g){console.error("‚ùå Ê£ÄÊü•Âú∞ÂõæÁì¶ÁâáÁä∂ÊÄÅÂ§±Ë¥•:",g)}};xs(()=>{z.modelValue&&Vs(()=>{nt()})});const Ye=()=>{if(f.value)try{if(W.value){try{f.value.remove(W.value)}catch(g){console.warn("‚ö†Ô∏è ÁßªÈô§È£ûÊú∫Ê†áËÆ∞Êó∂Âá∫Èîô:",g)}W.value=null}if(ve.value){try{ve.value.remove(f.value)}catch(g){console.warn("‚ö†Ô∏è ÁßªÈô§ËΩ®ËøπÁ∫øÊó∂Âá∫Èîô:",g)}ve.value=null}y(),Q(),it(),f.value.destroy(),console.log("üóëÔ∏è 3DÂú∞ÂõæÂÆû‰æãÂ∑≤ÂÆâÂÖ®ÈîÄÊØÅ")}catch(g){console.error("‚ùå ÈîÄÊØÅÂú∞ÂõæÊó∂Âá∫Èîô:",g)}finally{f.value=null,ye.value=!1,n.value=[]}};return As(()=>{Ye()}),(g,b)=>{const w=B("el-button"),u=B("el-dialog");return _(),Xt(u,{modelValue:k.value,"onUpdate:modelValue":b[0]||(b[0]=o=>k.value=o),title:"È£ûÊú∫ÂÆûÊó∂3DÈ£ûË°åËΩ®Ëøπ",width:"90%","before-close":Me,"destroy-on-close":""},{default:s(()=>{var o,O,X,K,$,P;return[e("div",di,[e("div",ui,[e("div",pi,[e("span",null,[b[1]||(b[1]=e("strong",null,"È£ûÊú∫Â∫èÂàóÂè∑:",-1)),r(" "+l(L.aircraftSn),1)]),e("span",null,[b[2]||(b[2]=e("strong",null,"ÂΩìÂâç‰ΩçÁΩÆ:",-1)),r(" "+l(T()),1)]),e("span",null,[b[3]||(b[3]=e("strong",null,"È£ûË°åÈ´òÂ∫¶:",-1)),r(" "+l(((O=(o=L.aircraftData)==null?void 0:o.height)==null?void 0:O.toFixed(2))||"Êú™Áü•")+"m",1)]),e("span",null,[b[4]||(b[4]=e("strong",null,"È£ûË°åÈÄüÂ∫¶:",-1)),r(" "+l(((K=(X=L.aircraftData)==null?void 0:X.horizontal_speed)==null?void 0:K.toFixed(2))||"Êú™Áü•")+"m/s",1)])]),e("div",ci,[t(w,{onClick:Ht,size:"small"},{default:s(()=>[...b[5]||(b[5]=[r("Ê∏ÖÈô§ËΩ®Ëøπ",-1)])]),_:1}),t(w,{onClick:Je,size:"small",type:ce.value?"primary":"default"},{default:s(()=>[r(l(ce.value?"ÈöêËóèËΩ®Ëøπ":"ÊòæÁ§∫ËΩ®Ëøπ"),1)]),_:1},8,["type"]),t(w,{onClick:Wt,size:"small"},{default:s(()=>[...b[6]||(b[6]=[r("Â±Ö‰∏≠Âú∞Âõæ",-1)])]),_:1}),t(w,{onClick:ts,size:"small",type:"success"},{default:s(()=>[...b[7]||(b[7]=[r("3DËßÜËßí",-1)])]),_:1}),t(w,{onClick:H,size:"small"},{default:s(()=>[...b[8]||(b[8]=[r("‰øØËßÜÂõæ",-1)])]),_:1}),t(w,{onClick:v,size:"small",type:"warning"},{default:s(()=>[...b[9]||(b[9]=[r("ÈáçÊñ∞Âä†ËΩΩÂú∞Âõæ",-1)])]),_:1})])]),b[10]||(b[10]=e("div",{id:"flight-map",class:"flight-map"},null,-1)),e("div",vi,[e("div",gi,[e("span",null,"ËΩ®ËøπÁÇπÊï∞: "+l(n.value.length),1),e("span",null,"È£ûË°åË∑ùÁ¶ª: "+l(ee())+"km",1),e("span",null,"È£ûË°åÊó∂Èó¥: "+l(Ve()),1)]),n.value.length>0?(_(),h("div",mi,[e("span",null,"È´òÂ∫¶ËåÉÂõ¥: "+l(ut()),1),e("span",null,"ÂΩìÂâçÈ´òÂ∫¶: "+l(((P=($=L.aircraftData)==null?void 0:$.height)==null?void 0:P.toFixed(1))||"Êú™Áü•")+"m",1),e("span",null,"Âπ≥ÂùáÈ´òÂ∫¶: "+l(Ot())+"m",1)])):j("",!0)])])]}),_:1},8,["modelValue"])}}},yi=_s(fi,[["__scopeId","data-v-22ce3edc"]]);const _i={class:"aircraft-info-tab"},xi={key:0,class:"waiting-container"},bi={style:{"margin-top":"10px"}},hi={style:{"margin-top":"15px"}},wi={style:{"margin-top":"15px",padding:"10px",background:"var(--el-color-info-light-9)","border-radius":"4px","font-size":"12px"}},zi={key:0},$i={key:1,class:"data-container"},ki={style:{"margin-bottom":"15px"}},Si={style:{"margin-bottom":"5px"}},Ti={style:{color:"var(--el-text-color-primary)","font-weight":"500"}},Mi={style:{"margin-bottom":"5px"}},Di={style:{color:"var(--el-color-success)","font-size":"12px","font-weight":"500"}},Ci={style:{"font-size":"12px",color:"#999","margin-top":"2px"}},Oi={class:"card-header",style:{padding:"10px 16px","font-size":"16px"}},Pi={class:"info-content",style:{padding:"8px"}},Ni={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Hi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ri={class:"value",style:{"font-size":"11px"}},ji={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ai={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Li={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Vi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ui={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Fi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ii={class:"value",style:{"font-size":"11px"}},Ji={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ei={class:"value",style:{"font-size":"11px"}},qi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Bi={class:"value",style:{"font-size":"11px"}},Qi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Gi={class:"value",style:{"font-size":"11px"}},Zi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ki={class:"value",style:{"font-size":"11px"}},Wi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Yi={class:"value",style:{"font-size":"11px"}},Xi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},er={class:"value",style:{"font-size":"11px"}},tr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},sr={class:"value",style:{"font-size":"11px"}},ar={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},or={class:"value",style:{"font-size":"11px"}},lr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},nr={class:"value",style:{"font-size":"11px"}},ir={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},rr={class:"value",style:{"font-size":"11px"}},dr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ur={class:"value",style:{"font-size":"11px"}},pr={class:"card-header",style:{padding:"10px 16px","font-size":"16px"}},cr={class:"info-content",style:{padding:"8px"}},vr={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},gr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},mr={class:"value",style:{"font-size":"11px"}},fr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},yr={class:"value",style:{"font-size":"11px"}},_r={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},xr={class:"value",style:{"font-size":"11px"}},br={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},hr={class:"value",style:{"font-size":"11px"}},wr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},zr={class:"value",style:{"font-size":"11px"}},$r={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},kr={class:"value",style:{"font-size":"11px"}},Sr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Tr={class:"value",style:{"font-size":"11px"}},Mr={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Dr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Cr={class:"value",style:{"font-size":"11px"}},Or={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Pr={class:"value",style:{"font-size":"11px"}},Nr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Hr={class:"value",style:{"font-size":"11px"}},Rr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},jr={class:"value",style:{"font-size":"11px"}},Ar={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Lr={class:"value",style:{"font-size":"11px"}},Vr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ur={class:"value",style:{"font-size":"11px"}},Fr={class:"card-header",style:{padding:"10px 16px","font-size":"16px"}},Ir={class:"info-content",style:{padding:"8px"}},Jr={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Er={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},qr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Br={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Qr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Gr={class:"value",style:{"font-size":"11px"}},Zr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Kr={class:"value",style:{"font-size":"11px"}},Wr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Yr={class:"value",style:{"font-size":"11px"}},Xr={key:0,style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},ed={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},td={class:"value",style:{"font-size":"11px"}},sd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ad={class:"value",style:{"font-size":"11px"}},od={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ld={class:"value",style:{"font-size":"11px"}},nd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},id={class:"value",style:{"font-size":"11px"}},rd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},dd={class:"value",style:{"font-size":"11px"}},ud={key:1,style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},pd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},cd={class:"value",style:{"font-size":"11px"}},vd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},gd={class:"value",style:{"font-size":"11px"}},md={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},fd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},yd={key:2},_d={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},xd={class:"value",style:{"font-size":"11px"}},bd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},hd={class:"value",style:{"font-size":"11px"}},wd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},zd={class:"card-header",style:{padding:"10px 16px","font-size":"16px"}},$d={class:"info-content",style:{padding:"8px"}},kd={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Sd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Td={class:"value",style:{"font-size":"11px"}},Md={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Dd={class:"value",style:{"font-size":"11px"}},Cd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Od={class:"value",style:{"font-size":"11px"}},Pd={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Nd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Hd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Rd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},jd={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Ad={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ld={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Vd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ud={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Fd={class:"value",style:{"font-size":"11px"}},Id={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Jd={class:"value",style:{"font-size":"11px"}},Ed={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},qd={key:2,class:"waiting-data",style:{margin:"20px 0",padding:"20px","text-align":"center",background:"var(--el-color-warning-light-9)","border-radius":"8px"}},Bd={style:{position:"fixed",top:"50%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},Qd={style:{position:"fixed",top:"60%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},Gd={style:{position:"fixed",top:"70%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},Zd={class:"info-content"},Kd={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Wd={style:{padding:"10px"}},Yd={style:{"margin-bottom":"15px"}},Xd={style:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"}},eu={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},tu={key:0,style:{"margin-left":"4px"}},su={key:1,style:{color:"var(--el-color-warning)"}},au={key:0,style:{background:"var(--el-color-success-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},ou={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},lu={__name:"AircraftInfoTab",props:{deviceSn:String,aircraftSn:String},emits:["dataReceived","subscriptionStatus"],setup(L,{emit:Ct}){const z=L,Se=Ct,k=Ts(),ce=js(),n=S(null),f=S(!1),W=S("Êú™ËÆ¢ÈòÖ"),ve=S(!1),ye=S(!1),De=S(!1),oe=S(null),le=Ge(()=>{const u=Me();return u&&u!=="--"?`thing/product/${u}/osd`:null}),Me=()=>z.aircraftSn||z.deviceSn||"--",nt=()=>{var u;return((u=ce.currentDevice)==null?void 0:u.airport_sn)||ce.currentDeviceSn||"--"},lt=u=>({0:"success",1:"warning",2:"warning",3:"info",4:"success",5:"warning"})[u]||"info",Ze=u=>({0:"Á©∫Èó≤‰∏≠",1:"Áé∞Âú∫Ë∞ÉËØï",2:"ËøúÁ®ãË∞ÉËØï",3:"Âõ∫‰ª∂ÂçáÁ∫ß‰∏≠",4:"‰Ωú‰∏ö‰∏≠",5:"ÂæÖÊ†áÂÆö"})[u]||"Êú™Áü•Áä∂ÊÄÅ",Fe=u=>{if(!u)return"--";const o=["B","KB","MB","GB","TB"],O=Math.floor(Math.log(u)/Math.log(1024));return(u/Math.pow(1024,O)).toFixed(1)+" "+o[O]},We=()=>{var O,X,K,$,P,I;const u=(K=(X=(O=n.value)==null?void 0:O.data)==null?void 0:X.storage)==null?void 0:K.total,o=(I=(P=($=n.value)==null?void 0:$.data)==null?void 0:P.storage)==null?void 0:I.used;return!u||!o?"Êú™Áü•":(o/u*100).toFixed(1)},y=u=>{if(!u)return"Êú™Áü•";const o=Math.floor(u/3600),O=Math.floor(u%3600/60),X=Math.floor(u%60);return`${o}h ${O}m ${X}s`},x=u=>u==null?"info":u===1?"success":"info",M=u=>u==null?"Êú™Áü•":u===1?"Êî∂Ëµ∑":"Êîæ‰∏ã",Q=u=>u==null?"info":u===1?"success":"info",Ie=u=>u==null?"Êú™Áü•":u===1?"ÂºÄÂêØ":"ÂÖ≥Èó≠",it=u=>({0:"info",1:"success",2:"warning"})[u]||"info",Ht=u=>({0:"Ëá™Âä®",1:"ÊâãÂä®",2:"ÂÖ∂‰ªñ"})[u]||"Êú™Áü•",Je=u=>({0:"info",1:"success",2:"warning",3:"primary"})[u]||"info",Wt=u=>({0:"ÈªòËÆ§",1:"ÂΩ©Ëôπ",2:"ÈìÅÁ∫¢",3:"ÂÖ∂‰ªñ"})[u]||"Êú™Áü•",ts=u=>({0:"info",1:"success",2:"warning"})[u]||"info",H=u=>({0:"ÊãçÁÖßÊ®°Âºè",1:"ÂΩïÂÉèÊ®°Âºè",2:"ÂÖ∂‰ªñÊ®°Âºè"})[u]||"Êú™Áü•",v=u=>({0:"info",1:"warning",2:"danger"})[u]||"info",T=u=>({0:"ÊÇ¨ÂÅú",1:"ÈôçËêΩ",2:"ËøîËà™"})[u]||"Êú™Áü•",ee=u=>{if(!u||u===0)return"0Áßí";const o=Math.floor(u/3600),O=Math.floor(u%3600/60),X=Math.floor(u%60);let K="";return o>0&&(K+=`${o}Â∞èÊó∂`),O>0&&(K+=`${O}ÂàÜÈíü`),X>0&&(K+=`${X}Áßí`),K||"0Áßí"},Ve=async()=>{if(!k.isConnected){A.warning("MQTTÊú™ËøûÊé•ÔºåÊó†Ê≥ïËÆ¢ÈòÖÈ£ûÊú∫OSDÊï∞ÊçÆ"),W.value="MQTTÊú™ËøûÊé•";return}if(!le.value){A.warning("È£ûÊú∫Â∫èÂàóÂè∑‰∏∫Á©∫ÔºåÊó†Ê≥ïËÆ¢ÈòÖÈ£ûÊú∫OSDÊï∞ÊçÆ"),W.value="È£ûÊú∫Â∫èÂàóÂè∑‰∏∫Á©∫";return}ve.value=!0,W.value="ËÆ¢ÈòÖ‰∏≠...";try{await k.subscribeToTopics(le.value,1),W.value="Â∑≤ËÆ¢ÈòÖ",A.success(`Â∑≤ËÆ¢ÈòÖÈ£ûÊú∫OSD‰∏ªÈ¢ò: ${le.value}`),console.log("È£ûÊú∫OSDËÆ¢ÈòÖÊàêÂäü:",le.value),Se("subscriptionStatus","success")}catch(u){W.value="ËÆ¢ÈòÖÂ§±Ë¥•",console.error("ËÆ¢ÈòÖÈ£ûÊú∫OSD‰∏ªÈ¢òÂ§±Ë¥•:",u),A.error("ËÆ¢ÈòÖÈ£ûÊú∫OSD‰∏ªÈ¢òÂ§±Ë¥•"),Se("subscriptionStatus","error")}finally{ve.value=!1}},ut=()=>{var u,o,O,X,K,$,P,I,G,rt,Ke,we,Xe,c,i,m,D,R,ge,Te,Le;try{if(console.log("üîç Ê£ÄÊü•È£ûÊú∫OSDÊ∂àÊÅØ:",{aircraftOsdTopic:le.value,messageHistoryLength:k.messageHistory.length,hasReceivedData:f.value,currentTimestamp:(u=n.value)==null?void 0:u.timestamp,allTopics:k.messageHistory.map(a=>a.topic)}),!le.value){console.log("‚ùå È£ûÊú∫OSD‰∏ªÈ¢ò‰∏∫Á©∫");return}const p=k.messageHistory.filter(a=>a.topic===le.value);if(console.log("üì® ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØÊï∞Èáè:",p.length),console.log("üì® ÂåπÈÖçÁöÑÊ∂àÊÅØ:",p),console.log("üì® ÊúüÊúõÁöÑ‰∏ªÈ¢ò:",le.value),console.log("üì® ÂÆûÈôÖÊî∂Âà∞ÁöÑ‰∏ªÈ¢ò:",k.messageHistory.map(a=>a.topic)),p.length>0){const a=p[0];console.log("üì® ÊúÄÊñ∞Ê∂àÊÅØ:",a),console.log("üì® ÊúÄÊñ∞Ê∂àÊÅØÊï∞ÊçÆ:",a.data);const Y=!n.value||a.timestamp>n.value.timestamp;if(console.log("üÜï ÊòØÂê¶‰∏∫Êñ∞Ê∂àÊÅØ:",Y,{currentTimestamp:(o=n.value)==null?void 0:o.timestamp,newTimestamp:a.timestamp}),Y){console.log("‚úÖ Â§ÑÁêÜÊñ∞ÁöÑÈ£ûÊú∫OSDÊï∞ÊçÆ:",a);let V=null;try{a.payload&&(V=JSON.parse(a.payload),console.log("‚úÖ Ëß£ÊûêÁöÑpayloadÊï∞ÊçÆ:",V))}catch(C){console.error("‚ùå Ëß£ÊûêpayloadÂ§±Ë¥•:",C)}const J={...a,data:(V==null?void 0:V.data)||a.data};n.value=J,f.value=!0,W.value="Â∑≤Êé•Êî∂Êï∞ÊçÆ",oe.value=new Date,Se("dataReceived",J),console.log("‚úÖ È£ûÊú∫OSDÊï∞ÊçÆÂ∑≤Êõ¥Êñ∞:",n.value),console.log("‚úÖ È£ûÊú∫OSDÊï∞ÊçÆÂÜÖÂÆπ:",{mode_code:(X=(O=n.value)==null?void 0:O.data)==null?void 0:X.mode_code,battery_percent:(P=($=(K=n.value)==null?void 0:K.data)==null?void 0:$.battery)==null?void 0:P.capacity_percent,latitude:(G=(I=n.value)==null?void 0:I.data)==null?void 0:G.latitude,longitude:(Ke=(rt=n.value)==null?void 0:rt.data)==null?void 0:Ke.longitude,height:(Xe=(we=n.value)==null?void 0:we.data)==null?void 0:Xe.height,gear:(i=(c=n.value)==null?void 0:c.data)==null?void 0:i.gear,night_lights_state:(D=(m=n.value)==null?void 0:m.data)==null?void 0:D.night_lights_state}),(ge=(R=n.value)==null?void 0:R.data)!=null&&ge.latitude&&((Le=(Te=n.value)==null?void 0:Te.data)!=null&&Le.longitude)&&console.log("üìç È´òÁ≤æÂ∫¶ÂùêÊ†á:",{latitude:n.value.data.latitude,longitude:n.value.data.longitude,latitude_precise:n.value.data.latitude.toFixed(10),longitude_precise:n.value.data.longitude.toFixed(10)})}else console.log("‚è≠Ô∏è Ê∂àÊÅØÂ∑≤Â§ÑÁêÜËøáÔºåË∑≥Ëøá")}else console.log("üì≠ Ê≤°ÊúâÊâæÂà∞ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØ"),console.log("üì≠ ÊâÄÊúâÊ∂àÊÅØ‰∏ªÈ¢ò:",k.messageHistory.map(a=>a.topic)),console.log("üì≠ ÊúüÊúõÁöÑ‰∏ªÈ¢ò:",le.value)}catch(p){console.error("‚ùå Â§ÑÁêÜÈ£ûÊú∫OSDÊ∂àÊÅØÂ§±Ë¥•:",p)}};Os(()=>k.messageHistory,(u,o)=>{u&&u.length>0&&(console.log("üì® Ê∂àÊÅØÂéÜÂè≤ÂèëÁîüÂèòÂåñÔºåÊ£ÄÊü•È£ûÊú∫OSDÊ∂àÊÅØ"),ut())},{deep:!0,immediate:!0});const Ot=()=>{if(console.log("üîÑ Âà∑Êñ∞ËÆ¢ÈòÖÁä∂ÊÄÅ"),console.log("üìä ÂΩìÂâçÁä∂ÊÄÅ:",{mqttConnected:k.isConnected,messageHistoryLength:k.messageHistory.length,aircraftOsdTopic:le.value,hasReceivedData:f.value}),k.isConnected)if(W.value="MQTTÂ∑≤ËøûÊé•ÔºåÁ≠âÂæÖÊï∞ÊçÆ...",console.log("‚úÖ MQTTÂ∑≤ËøûÊé•"),k.messageHistory.length>0){console.log("üì® Ê∂àÊÅØÂéÜÂè≤:",k.messageHistory);const u=k.messageHistory.filter(o=>o.topic===le.value);u.length>0?(console.log("üéØ ÊâæÂà∞ÂåπÈÖçÁöÑÊ∂àÊÅØ:",u),W.value=`ÊâæÂà∞ ${u.length} Êù°Ê∂àÊÅØÔºåÊ≠£Âú®Â§ÑÁêÜ...`,ut()):(console.log("‚ùå Ê≤°ÊúâÊâæÂà∞ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØ"),W.value="MQTTÂ∑≤ËøûÊé•Ôºå‰ΩÜÊú™ÊâæÂà∞ÂåπÈÖçÁöÑÊ∂àÊÅØ")}else console.log("üì≠ Ê∂àÊÅØÂéÜÂè≤‰∏∫Á©∫"),W.value="MQTTÂ∑≤ËøûÊé•ÔºåÊ∂àÊÅØÂéÜÂè≤‰∏∫Á©∫";else W.value="MQTTÊú™ËøûÊé•",console.log("‚ùå MQTTÊú™ËøûÊé•")};xs(()=>{console.log("È£ûÊú∫‰ø°ÊÅØÁªÑ‰ª∂ÊåÇËΩΩÔºåÂºÄÂßãËÆ¢ÈòÖÊï∞ÊçÆ"),Ve()}),As(()=>{console.log("È£ûÊú∫‰ø°ÊÅØÁªÑ‰ª∂Âç∏ËΩΩ"),le.value&&k.unsubscribeTopics(le.value)});const pt=u=>{if(!u)return"--";let o;if(typeof u=="string"?o=new Date(u).getTime():o=u,isNaN(o)||o<=0)return"Êó†ÊïàÊó∂Èó¥";const O=Date.now(),X=Math.floor((O-o)/1e3);return X<0?"Êú™Êù•Êó∂Èó¥":X>365*24*3600?"Âæà‰πÖ‰ª•Ââç":X<60?`${X}ÁßíÂâç`:X<3600?`${Math.floor(X/60)}ÂàÜÈíüÂâç`:X<86400?`${Math.floor(X/3600)}Â∞èÊó∂Ââç`:`${Math.floor(X/86400)}Â§©Ââç`},Ye=u=>{if(!u)return!0;let o;if(typeof u=="string"?o=new Date(u).getTime():o=u,isNaN(o)||o<=0)return!0;const O=Date.now();return Math.floor((O-o)/1e3)>300},g=u=>{ye.value=!1,u()},b=()=>{var u,o,O,X,K,$,P,I,G,rt,Ke,we,Xe,c,i,m,D,R,ge,Te,Le,p;console.log("üêõ Ë∞ÉËØïÊï∞ÊçÆÁä∂ÊÄÅ:"),console.log("üìä aircraftOsdData.value:",n.value),console.log("üìä aircraftOsdData.value?.data:",(u=n.value)==null?void 0:u.data),console.log("üìä hasReceivedData.value:",f.value),console.log("üìä ÂÖ∑‰ΩìÊï∞ÊçÆÂ≠óÊÆµ:"),console.log("  - latitude:",(O=(o=n.value)==null?void 0:o.data)==null?void 0:O.latitude),console.log("  - longitude:",(K=(X=n.value)==null?void 0:X.data)==null?void 0:K.longitude),console.log("  - height:",(P=($=n.value)==null?void 0:$.data)==null?void 0:P.height),console.log("  - battery.capacity_percent:",(rt=(G=(I=n.value)==null?void 0:I.data)==null?void 0:G.battery)==null?void 0:rt.capacity_percent),console.log("  - mode_code:",(we=(Ke=n.value)==null?void 0:Ke.data)==null?void 0:we.mode_code),console.log("  - gear:",(c=(Xe=n.value)==null?void 0:Xe.data)==null?void 0:c.gear),console.log("  - wind_speed:",(m=(i=n.value)==null?void 0:i.data)==null?void 0:m.wind_speed),console.log("  - wind_direction:",(R=(D=n.value)==null?void 0:D.data)==null?void 0:R.wind_direction),console.log("  - elevation:",(Te=(ge=n.value)==null?void 0:ge.data)==null?void 0:Te.elevation),console.log("  - country:",(p=(Le=n.value)==null?void 0:Le.data)==null?void 0:p.country)},w=()=>{De.value=!0};return(u,o)=>{var Xe;const O=B("el-button"),X=B("el-alert"),K=B("el-col"),$=B("el-row"),P=B("el-icon"),I=B("el-tag"),G=B("el-card"),rt=B("el-tab-pane"),Ke=B("el-tabs"),we=B("el-drawer");return _(),h("div",_i,[f.value?j("",!0):(_(),h("div",xi,[t(X,{title:"Á≠âÂæÖÊé•Êî∂Êú∫Âú∫OSDÊï∞ÊçÆ",type:"info",closable:!1,"show-icon":""},{default:s(()=>{var c,i;return[e("div",bi,[e("p",null,[o[3]||(o[3]=e("strong",null,"ËÆ¢ÈòÖÁä∂ÊÄÅ:",-1)),r(" "+l(W.value),1)]),e("p",null,[o[4]||(o[4]=e("strong",null,"ËÆ¢ÈòÖ‰∏ªÈ¢ò:",-1)),o[5]||(o[5]=r()),e("code",null,l(le.value||"thing/product/"+Me()+"/osd"),1)]),o[12]||(o[12]=e("p",null,[e("strong",null,"Á≠âÂæÖÊï∞ÊçÆ‰∏≠..."),r(" ËØ∑Á°Æ‰øùËÆæÂ§áÂ∑≤ËøûÊé•Âπ∂Ê≠£Âú®ÂèëÈÄÅOSDÊï∞ÊçÆ")],-1)),e("div",hi,[t(O,{type:"primary",size:"small",loading:ve.value,onClick:Ve},{default:s(()=>[r(l(ve.value?"ËÆ¢ÈòÖ‰∏≠...":"ÊâãÂä®ËÆ¢ÈòÖ"),1)]),_:1},8,["loading"]),t(O,{size:"small",onClick:Ot,style:{"margin-left":"10px"}},{default:s(()=>[...o[6]||(o[6]=[r(" Âà∑Êñ∞Áä∂ÊÄÅ ",-1)])]),_:1})]),e("div",wi,[o[11]||(o[11]=e("div",null,[e("strong",null,"Ë∞ÉËØï‰ø°ÊÅØ:")],-1)),e("div",null,"MQTTËøûÊé•: "+l(d(k).isConnected?"‚úÖ Â∑≤ËøûÊé•":"‚ùå Êú™ËøûÊé•"),1),e("div",null,"Ê∂àÊÅØÂéÜÂè≤Êï∞Èáè: "+l(d(k).messageHistory.length),1),e("div",null,[o[7]||(o[7]=r("È£ûÊú∫OSD‰∏ªÈ¢ò: ",-1)),e("code",null,l(le.value),1)]),e("div",null,[o[8]||(o[8]=r("Êú∫Âú∫Â∫èÂàóÂè∑: ",-1)),e("code",null,l(nt()),1)]),e("div",null,[o[9]||(o[9]=r("È£ûÊú∫Â∫èÂàóÂè∑: ",-1)),e("code",null,l(Me()),1)]),e("div",null,"Â∑≤Êé•Êî∂Êï∞ÊçÆ: "+l(f.value?"‚úÖ ÊòØ":"‚ùå Âê¶"),1),d(k).messageHistory.length>0?(_(),h("div",zi,[e("div",null,[o[10]||(o[10]=r("ÊúÄÊñ∞Ê∂àÊÅØ‰∏ªÈ¢ò: ",-1)),e("code",null,l((c=d(k).messageHistory[0])==null?void 0:c.topic),1)]),e("div",null,"ÊúÄÊñ∞Ê∂àÊÅØÊó∂Èó¥: "+l(new Date((i=d(k).messageHistory[0])==null?void 0:i.timestamp).toLocaleString()),1)])):j("",!0)])])]}),_:1})])),f.value?(_(),h("div",$i,[t($,{gutter:8,class:"data-grid"},{default:s(()=>[t(K,{span:12},{default:s(()=>[...o[13]||(o[13]=[e("h3",{style:{"margin-bottom":"15px",color:"var(--el-text-color-primary)","border-left":"4px solid var(--el-color-success)","padding-left":"10px"}}," ‚úàÔ∏è È£ûÊú∫‰ø°ÊÅØ ",-1)])]),_:1}),t(K,{span:12,style:{"text-align":"right"}},{default:s(()=>{var c;return[e("div",ki,[e("div",Si,[o[14]||(o[14]=e("span",{style:{color:"var(--el-text-color-regular)","font-size":"14px"}},"È£ûÊú∫Â∫èÂàóÂè∑: ",-1)),e("span",Ti,l(Me()),1)]),e("div",Mi,[o[15]||(o[15]=e("span",{style:{color:"var(--el-text-color-regular)","font-size":"12px"}},"ÊúÄÊñ∞Âà∑Êñ∞: ",-1)),e("span",Di,l(oe.value?oe.value.toLocaleString():"Êú™Áü•"),1)]),e("div",Ci," Ë∞ÉËØï: aircraftOsdData="+l((c=n.value)==null?void 0:c.gateway)+", route.aircraftSn="+l(Me()),1)])]}),_:1})]),_:1}),t($,{gutter:2,class:"data-grid"},{default:s(()=>[t(K,{span:6},{default:s(()=>[t(G,{class:"info-card",shadow:"hover",onClick:w,style:{cursor:"pointer","margin-bottom":"4px"}},{header:s(()=>[e("div",Oi,[t(P,null,{default:s(()=>[t(d(Is))]),_:1}),o[17]||(o[17]=e("span",null,"È£ûÊú∫Áä∂ÊÄÅ‰∏éÈ£ûË°åÂèÇÊï∞",-1)),t(I,{size:"small",type:"success"},{default:s(()=>[...o[16]||(o[16]=[r("ÂÆûÊó∂",-1)])]),_:1})])]),default:s(()=>{var c,i,m,D,R,ge,Te,Le,p,a,Y,V,J,C,N,U,Ue,Ee,Pt,Nt,F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He;return[e("div",Pi,[e("div",Ni,[o[23]||(o[23]=e("div",{style:{"font-weight":"600",color:"var(--el-color-primary)","margin-bottom":"4px","font-size":"15px"}},"‚úàÔ∏è È£ûÊú∫Áä∂ÊÄÅ",-1)),e("div",Hi,[o[18]||(o[18]=e("span",{class:"label",style:{"font-size":"11px"}},"Â∫èÂàóÂè∑:",-1)),e("span",Ri,l(Me()),1)]),e("div",ji,[o[19]||(o[19]=e("span",{class:"label",style:{"font-size":"11px"}},"Áä∂ÊÄÅ:",-1)),t(I,{type:lt((i=(c=n.value)==null?void 0:c.data)==null?void 0:i.mode_code),size:"small",style:{"font-size":"12px"}},{default:s(()=>{var pe,me;return[r(l(Ze((me=(pe=n.value)==null?void 0:pe.data)==null?void 0:me.mode_code)),1)]}),_:1},8,["type"])]),e("div",Ai,[o[20]||(o[20]=e("span",{class:"label",style:{"font-size":"11px"}},"Ëµ∑ËêΩÊû∂:",-1)),t(I,{type:x((D=(m=n.value)==null?void 0:m.data)==null?void 0:D.gear),size:"small",style:{"font-size":"12px"}},{default:s(()=>{var pe,me;return[r(l(M((me=(pe=n.value)==null?void 0:pe.data)==null?void 0:me.gear)),1)]}),_:1},8,["type"])]),e("div",Li,[o[21]||(o[21]=e("span",{class:"label",style:{"font-size":"11px"}},"Â§úËà™ÁÅØ:",-1)),t(I,{type:Q((ge=(R=n.value)==null?void 0:R.data)==null?void 0:ge.night_lights_state),size:"small",style:{"font-size":"12px"}},{default:s(()=>{var pe,me;return[r(l(Ie((me=(pe=n.value)==null?void 0:pe.data)==null?void 0:me.night_lights_state)),1)]}),_:1},8,["type"])]),e("div",Vi,[o[22]||(o[22]=e("span",{class:"label",style:{"font-size":"11px"}},"RID:",-1)),t(I,{type:(Le=(Te=n.value)==null?void 0:Te.data)!=null&&Le.rid_state?"success":"warning",size:"small",style:{"font-size":"12px"}},{default:s(()=>{var pe,me;return[r(l((me=(pe=n.value)==null?void 0:pe.data)!=null&&me.rid_state?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])])]),e("div",Ui,[o[32]||(o[32]=e("div",{style:{"font-weight":"600",color:"var(--el-color-success)","margin-bottom":"4px","font-size":"15px"}},"üìç È£ûË°åÂèÇÊï∞",-1)),e("div",Fi,[o[24]||(o[24]=e("span",{class:"label",style:{"font-size":"11px"}},"Á∫¨Â∫¶:",-1)),e("span",Ii,l(((Y=(a=(p=n.value)==null?void 0:p.data)==null?void 0:a.latitude)==null?void 0:Y.toFixed(6))||"Êú™Áü•"),1)]),e("div",Ji,[o[25]||(o[25]=e("span",{class:"label",style:{"font-size":"11px"}},"ÁªèÂ∫¶:",-1)),e("span",Ei,l(((C=(J=(V=n.value)==null?void 0:V.data)==null?void 0:J.longitude)==null?void 0:C.toFixed(6))||"Êú™Áü•"),1)]),e("div",qi,[o[26]||(o[26]=e("span",{class:"label",style:{"font-size":"11px"}},"È´òÂ∫¶:",-1)),e("span",Bi,l(((Ue=(U=(N=n.value)==null?void 0:N.data)==null?void 0:U.height)==null?void 0:Ue.toFixed(1))||"Êú™Áü•")+"m",1)]),e("div",Qi,[o[27]||(o[27]=e("span",{class:"label",style:{"font-size":"11px"}},"Ëà™Âêë:",-1)),e("span",Gi,l(((Nt=(Pt=(Ee=n.value)==null?void 0:Ee.data)==null?void 0:Pt.attitude_head)==null?void 0:Nt.toFixed(1))||"Êú™Áü•")+"¬∞",1)]),e("div",Zi,[o[28]||(o[28]=e("span",{class:"label",style:{"font-size":"11px"}},"‰øØ‰ª∞:",-1)),e("span",Ki,l(((te=(Z=(F=n.value)==null?void 0:F.data)==null?void 0:Z.attitude_pitch)==null?void 0:te.toFixed(1))||"Êú™Áü•")+"¬∞",1)]),e("div",Wi,[o[29]||(o[29]=e("span",{class:"label",style:{"font-size":"11px"}},"Ê®™Êªö:",-1)),e("span",Yi,l(((ie=(ne=(se=n.value)==null?void 0:se.data)==null?void 0:ne.attitude_roll)==null?void 0:ie.toFixed(1))||"Êú™Áü•")+"¬∞",1)]),e("div",Xi,[o[30]||(o[30]=e("span",{class:"label",style:{"font-size":"11px"}},"Ê∞¥Âπ≥ÈÄüÂ∫¶:",-1)),e("span",er,l(((_e=(de=(re=n.value)==null?void 0:re.data)==null?void 0:de.horizontal_speed)==null?void 0:_e.toFixed(1))||"Êú™Áü•")+"m/s",1)]),e("div",tr,[o[31]||(o[31]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂûÇÁõ¥ÈÄüÂ∫¶:",-1)),e("span",sr,l(((be=(xe=n.value)==null?void 0:xe.data)==null?void 0:be.vertical_speed)||"Êú™Áü•")+"m/s",1)])]),e("div",null,[o[37]||(o[37]=e("div",{style:{"font-weight":"600",color:"var(--el-color-info)","margin-bottom":"4px","font-size":"15px"}},"üå§Ô∏è ÁéØÂ¢É‰ø°ÊÅØ",-1)),e("div",ar,[o[33]||(o[33]=e("span",{class:"label",style:{"font-size":"11px"}},"È£éÈÄü:",-1)),e("span",or,l(((q=(E=n.value)==null?void 0:E.data)==null?void 0:q.wind_speed)||"Êú™Áü•")+"m/s",1)]),e("div",lr,[o[34]||(o[34]=e("span",{class:"label",style:{"font-size":"11px"}},"È£éÂêë:",-1)),e("span",nr,l(((Ce=(ue=n.value)==null?void 0:ue.data)==null?void 0:Ce.wind_direction)||"Êú™Áü•")+"¬∞",1)]),e("div",ir,[o[35]||(o[35]=e("span",{class:"label",style:{"font-size":"11px"}},"Êµ∑Êãî:",-1)),e("span",rr,l(((Pe=(Oe=n.value)==null?void 0:Oe.data)==null?void 0:Pe.elevation)||"Êú™Áü•")+"m",1)]),e("div",dr,[o[36]||(o[36]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂõΩÂÆ∂:",-1)),e("span",ur,l(((He=(Ne=n.value)==null?void 0:Ne.data)==null?void 0:He.country)||"Êú™Áü•"),1)])])])]}),_:1})]),_:1}),t(K,{span:6},{default:s(()=>[t(G,{class:"info-card",shadow:"hover",style:{"margin-bottom":"4px"}},{header:s(()=>[e("div",pr,[t(P,null,{default:s(()=>[t(d(Es))]),_:1}),o[39]||(o[39]=e("span",null,"ÁîµÊ±†‰∏éÂ≠òÂÇ®‰ø°ÊÅØ",-1)),t(I,{size:"small",type:"warning"},{default:s(()=>[...o[38]||(o[38]=[r("ÁîµÈáè",-1)])]),_:1})])]),default:s(()=>{var c,i,m,D,R,ge,Te,Le,p,a,Y,V,J,C,N,U,Ue,Ee,Pt,Nt,F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He,pe;return[e("div",cr,[e("div",vr,[o[47]||(o[47]=e("div",{style:{"font-weight":"600",color:"var(--el-color-warning)","margin-bottom":"4px","font-size":"15px"}},"üîã ÁîµÊ±†‰ø°ÊÅØ",-1)),e("div",gr,[o[40]||(o[40]=e("span",{class:"label",style:{"font-size":"11px"}},"ÁîµÈáè:",-1)),e("span",mr,l(((m=(i=(c=n.value)==null?void 0:c.data)==null?void 0:i.battery)==null?void 0:m.capacity_percent)||"Êú™Áü•")+"%",1)]),e("div",fr,[o[41]||(o[41]=e("span",{class:"label",style:{"font-size":"11px"}},"ÁîµÂéã:",-1)),e("span",yr,l(((Le=(Te=(ge=(R=(D=n.value)==null?void 0:D.data)==null?void 0:R.battery)==null?void 0:ge.batteries)==null?void 0:Te[0])==null?void 0:Le.voltage)||"Êú™Áü•")+"mV",1)]),e("div",_r,[o[42]||(o[42]=e("span",{class:"label",style:{"font-size":"11px"}},"Ê∏©Â∫¶:",-1)),e("span",xr,l(((J=(V=(Y=(a=(p=n.value)==null?void 0:p.data)==null?void 0:a.battery)==null?void 0:Y.batteries)==null?void 0:V[0])==null?void 0:J.temperature)||"Êú™Áü•")+"¬∞C",1)]),e("div",br,[o[43]||(o[43]=e("span",{class:"label",style:{"font-size":"11px"}},"Âæ™ÁéØÊ¨°Êï∞:",-1)),e("span",hr,l(((Ee=(Ue=(U=(N=(C=n.value)==null?void 0:C.data)==null?void 0:N.battery)==null?void 0:U.batteries)==null?void 0:Ue[0])==null?void 0:Ee.loop_times)||"Êú™Áü•"),1)]),e("div",wr,[o[44]||(o[44]=e("span",{class:"label",style:{"font-size":"11px"}},"Ââ©‰ΩôÈ£ûË°å:",-1)),e("span",zr,l(((F=(Nt=(Pt=n.value)==null?void 0:Pt.data)==null?void 0:Nt.battery)==null?void 0:F.remain_flight_time)||"Êú™Áü•")+"ÂàÜÈíü",1)]),e("div",$r,[o[45]||(o[45]=e("span",{class:"label",style:{"font-size":"11px"}},"ËøîËà™ÁîµÈáè:",-1)),e("span",kr,l(((se=(te=(Z=n.value)==null?void 0:Z.data)==null?void 0:te.battery)==null?void 0:se.return_home_power)||"Êú™Áü•")+"%",1)]),e("div",Sr,[o[46]||(o[46]=e("span",{class:"label",style:{"font-size":"11px"}},"ÈôçËêΩÁîµÈáè:",-1)),e("span",Tr,l(((re=(ie=(ne=n.value)==null?void 0:ne.data)==null?void 0:ie.battery)==null?void 0:re.landing_power)||"Êú™Áü•")+"%",1)])]),e("div",Mr,[o[51]||(o[51]=e("div",{style:{"font-weight":"600",color:"var(--el-color-info)","margin-bottom":"4px","font-size":"15px"}},"üíæ Â≠òÂÇ®‰ø°ÊÅØ",-1)),e("div",Dr,[o[48]||(o[48]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊÄªÂÆπÈáè:",-1)),e("span",Cr,l(Fe((xe=(_e=(de=n.value)==null?void 0:de.data)==null?void 0:_e.storage)==null?void 0:xe.total)||"Êú™Áü•"),1)]),e("div",Or,[o[49]||(o[49]=e("span",{class:"label",style:{"font-size":"11px"}},"Â∑≤‰ΩøÁî®:",-1)),e("span",Pr,l(Fe((q=(E=(be=n.value)==null?void 0:be.data)==null?void 0:E.storage)==null?void 0:q.used)||"Êú™Áü•"),1)]),e("div",Nr,[o[50]||(o[50]=e("span",{class:"label",style:{"font-size":"11px"}},"‰ΩøÁî®Áéá:",-1)),e("span",Hr,l(We())+"%",1)])]),e("div",null,[o[55]||(o[55]=e("div",{style:{"font-weight":"600",color:"var(--el-color-success)","margin-bottom":"4px","font-size":"15px"}},"üìä È£ûË°åÁªüËÆ°",-1)),e("div",Rr,[o[52]||(o[52]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊÄªÈ£ûË°åÊó∂Èó¥:",-1)),e("span",jr,l(y((Ce=(ue=n.value)==null?void 0:ue.data)==null?void 0:Ce.total_flight_time)||"Êú™Áü•"),1)]),e("div",Ar,[o[53]||(o[53]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊÄªÈ£ûË°åË∑ùÁ¶ª:",-1)),e("span",Lr,l(((Ne=(Pe=(Oe=n.value)==null?void 0:Oe.data)==null?void 0:Pe.total_flight_distance)==null?void 0:Ne.toFixed(2))||"Êú™Áü•")+"km",1)]),e("div",Vr,[o[54]||(o[54]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊÄªÈ£ûË°åÊû∂Ê¨°:",-1)),e("span",Ur,l(((pe=(He=n.value)==null?void 0:He.data)==null?void 0:pe.total_flight_sorties)||"Êú™Áü•")+"Ê¨°",1)])])])]}),_:1})]),_:1}),t(K,{span:6},{default:s(()=>[t(G,{class:"info-card",shadow:"hover",style:{"margin-bottom":"4px"}},{header:s(()=>[e("div",Fr,[t(P,null,{default:s(()=>[t(d(Rs))]),_:1}),o[57]||(o[57]=e("span",null,"Áõ∏Êú∫‰∏éËΩΩËç∑‰ø°ÊÅØ",-1)),t(I,{size:"small",type:"primary"},{default:s(()=>[...o[56]||(o[56]=[r("ÂÆûÊó∂",-1)])]),_:1})])]),default:s(()=>{var c,i,m,D,R,ge,Te,Le,p,a,Y,V,J,C,N,U,Ue,Ee,Pt,Nt,F,Z,te,se,ne,ie,re,de,_e,xe,be,E,q,ue,Ce,Oe,Pe,Ne,He,pe,me,et,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,St,Tt,Mt,qe,Be,Qe,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt;return[e("div",Ir,[e("div",Jr,[o[64]||(o[64]=e("div",{style:{"font-weight":"600",color:"var(--el-color-primary)","margin-bottom":"4px","font-size":"15px"}},"üì∑ Áõ∏Êú∫‰ø°ÊÅØ",-1)),e("div",Er,[o[58]||(o[58]=e("span",{class:"label",style:{"font-size":"11px"}},"Áõ∏Êú∫Ê®°Âºè:",-1)),t(I,{type:ts((D=(m=(i=(c=n.value)==null?void 0:c.data)==null?void 0:i.cameras)==null?void 0:m[0])==null?void 0:D.camera_mode),size:"small",style:{"font-size":"10px"}},{default:s(()=>{var ze,$e,ke,fe;return[r(l(H((fe=(ke=($e=(ze=n.value)==null?void 0:ze.data)==null?void 0:$e.cameras)==null?void 0:ke[0])==null?void 0:fe.camera_mode)),1)]}),_:1},8,["type"])]),e("div",qr,[o[59]||(o[59]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂΩïÂà∂Áä∂ÊÄÅ:",-1)),t(I,{type:((Le=(Te=(ge=(R=n.value)==null?void 0:R.data)==null?void 0:ge.cameras)==null?void 0:Te[0])==null?void 0:Le.recording_state)===1?"danger":"info",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var ze,$e,ke,fe;return[r(l(((fe=(ke=($e=(ze=n.value)==null?void 0:ze.data)==null?void 0:$e.cameras)==null?void 0:ke[0])==null?void 0:fe.recording_state)===1?"ÂΩïÂà∂‰∏≠":"Êú™ÂΩïÂà∂"),1)]}),_:1},8,["type"])]),e("div",Br,[o[60]||(o[60]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊãçÁÖßÁä∂ÊÄÅ:",-1)),t(I,{type:((V=(Y=(a=(p=n.value)==null?void 0:p.data)==null?void 0:a.cameras)==null?void 0:Y[0])==null?void 0:V.photo_state)===1?"success":"info",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var ze,$e,ke,fe;return[r(l(((fe=(ke=($e=(ze=n.value)==null?void 0:ze.data)==null?void 0:$e.cameras)==null?void 0:ke[0])==null?void 0:fe.photo_state)===1?"ÊãçÁÖß‰∏≠":"ÂæÖÊú∫"),1)]}),_:1},8,["type"])]),e("div",Qr,[o[61]||(o[61]=e("span",{class:"label",style:{"font-size":"11px"}},"Ââ©‰ΩôÁÖßÁâá:",-1)),e("span",Gr,l(((U=(N=(C=(J=n.value)==null?void 0:J.data)==null?void 0:C.cameras)==null?void 0:N[0])==null?void 0:U.remain_photo_num)||"Êú™Áü•")+"Âº†",1)]),e("div",Zr,[o[62]||(o[62]=e("span",{class:"label",style:{"font-size":"11px"}},"Ââ©‰ΩôÂΩïÂà∂:",-1)),e("span",Kr,l(ee((Nt=(Pt=(Ee=(Ue=n.value)==null?void 0:Ue.data)==null?void 0:Ee.cameras)==null?void 0:Pt[0])==null?void 0:Nt.remain_record_duration)),1)]),e("div",Wr,[o[63]||(o[63]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂèòÁÑ¶ÂÄçÊï∞:",-1)),e("span",Yr,l(((ne=(se=(te=(Z=(F=n.value)==null?void 0:F.data)==null?void 0:Z.cameras)==null?void 0:te[0])==null?void 0:se.zoom_factor)==null?void 0:ne.toFixed(1))||"Êú™Áü•")+"x",1)])]),(re=(ie=n.value)==null?void 0:ie.data)!=null&&re["99-0-0"]?(_(),h("div",Xr,[o[70]||(o[70]=e("div",{style:{"font-weight":"600",color:"var(--el-color-primary)","margin-bottom":"4px","font-size":"15px"}},"üéØ ‰∫ëÂè∞‰ø°ÊÅØ",-1)),e("div",ed,[o[65]||(o[65]=e("span",{class:"label",style:{"font-size":"11px"}},"ËΩΩËç∑Á¥¢Âºï:",-1)),e("span",td,l(((xe=(_e=(de=n.value)==null?void 0:de.data)==null?void 0:_e["99-0-0"])==null?void 0:xe.payload_index)||"--"),1)]),e("div",sd,[o[66]||(o[66]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∫ëÂè∞‰øØ‰ª∞:",-1)),e("span",ad,l(((ue=(q=(E=(be=n.value)==null?void 0:be.data)==null?void 0:E["99-0-0"])==null?void 0:q.gimbal_pitch)==null?void 0:ue.toFixed(1))||"--")+"¬∞",1)]),e("div",od,[o[67]||(o[67]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∫ëÂè∞Ê®™Êªö:",-1)),e("span",ld,l(((Ne=(Pe=(Oe=(Ce=n.value)==null?void 0:Ce.data)==null?void 0:Oe["99-0-0"])==null?void 0:Pe.gimbal_roll)==null?void 0:Ne.toFixed(1))||"--")+"¬∞",1)]),e("div",nd,[o[68]||(o[68]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∫ëÂè∞ÂÅèËà™:",-1)),e("span",id,l(((et=(me=(pe=(He=n.value)==null?void 0:He.data)==null?void 0:pe["99-0-0"])==null?void 0:me.gimbal_yaw)==null?void 0:et.toFixed(1))||"--")+"¬∞",1)]),e("div",rd,[o[69]||(o[69]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂèòÁÑ¶ÂÄçÊï∞:",-1)),e("span",dd,l(((mt=(gt=(vt=(ct=n.value)==null?void 0:ct.data)==null?void 0:vt["99-0-0"])==null?void 0:gt.zoom_factor)==null?void 0:mt.toFixed(2))||"--")+"x",1)])])):j("",!0),(yt=(ft=n.value)==null?void 0:ft.data)!=null&&yt["99-0-0"]?(_(),h("div",ud,[o[75]||(o[75]=e("div",{style:{"font-weight":"600",color:"var(--el-color-warning)","margin-bottom":"4px","font-size":"15px"}},"üå°Ô∏è ÁÉ≠ÊàêÂÉè‰ø°ÊÅØ",-1)),e("div",pd,[o[71]||(o[71]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊúÄÈ´òÊ∏©Â∫¶:",-1)),e("span",cd,l(((ht=(bt=(xt=(_t=n.value)==null?void 0:_t.data)==null?void 0:xt["99-0-0"])==null?void 0:bt.thermal_global_temperature_max)==null?void 0:ht.toFixed(1))||"--")+"¬∞C",1)]),e("div",vd,[o[72]||(o[72]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊúÄ‰ΩéÊ∏©Â∫¶:",-1)),e("span",gd,l(((kt=($t=(zt=(wt=n.value)==null?void 0:wt.data)==null?void 0:zt["99-0-0"])==null?void 0:$t.thermal_global_temperature_min)==null?void 0:kt.toFixed(1))||"--")+"¬∞C",1)]),e("div",md,[o[73]||(o[73]=e("span",{class:"label",style:{"font-size":"11px"}},"Â¢ûÁõäÊ®°Âºè:",-1)),t(I,{type:it((Mt=(Tt=(St=n.value)==null?void 0:St.data)==null?void 0:Tt["99-0-0"])==null?void 0:Mt.thermal_gain_mode),size:"small",style:{"font-size":"10px"}},{default:s(()=>{var ze,$e,ke;return[r(l(Ht((ke=($e=(ze=n.value)==null?void 0:ze.data)==null?void 0:$e["99-0-0"])==null?void 0:ke.thermal_gain_mode)),1)]}),_:1},8,["type"])]),e("div",fd,[o[74]||(o[74]=e("span",{class:"label",style:{"font-size":"11px"}},"Ë∞ÉËâ≤Êùø:",-1)),t(I,{type:Je((Qe=(Be=(qe=n.value)==null?void 0:qe.data)==null?void 0:Be["99-0-0"])==null?void 0:Qe.thermal_current_palette_style),size:"small",style:{"font-size":"10px"}},{default:s(()=>{var ze,$e,ke;return[r(l(Wt((ke=($e=(ze=n.value)==null?void 0:ze.data)==null?void 0:$e["99-0-0"])==null?void 0:ke.thermal_current_palette_style)),1)]}),_:1},8,["type"])])])):j("",!0),(jt=(Rt=n.value)==null?void 0:Rt.data)!=null&&jt["99-0-0"]?(_(),h("div",yd,[o[79]||(o[79]=e("div",{style:{"font-weight":"600",color:"var(--el-color-success)","margin-bottom":"4px","font-size":"15px"}},"üìè ÊµãÈáè‰ø°ÊÅØ",-1)),e("div",_d,[o[76]||(o[76]=e("span",{class:"label",style:{"font-size":"11px"}},"ÁõÆÊ†áË∑ùÁ¶ª:",-1)),e("span",xd,l(((Ut=(Vt=(Lt=(At=n.value)==null?void 0:At.data)==null?void 0:Lt["99-0-0"])==null?void 0:Vt.measure_target_distance)==null?void 0:Ut.toFixed(1))||"--")+"m",1)]),e("div",bd,[o[77]||(o[77]=e("span",{class:"label",style:{"font-size":"11px"}},"ÁõÆÊ†áÈ´òÂ∫¶:",-1)),e("span",hd,l(((Et=(Jt=(It=(Ft=n.value)==null?void 0:Ft.data)==null?void 0:It["99-0-0"])==null?void 0:Jt.measure_target_altitude)==null?void 0:Et.toFixed(1))||"--")+"m",1)]),e("div",wd,[o[78]||(o[78]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊµãÈáèÁä∂ÊÄÅ:",-1)),t(I,{type:((Qt=(Bt=(qt=n.value)==null?void 0:qt.data)==null?void 0:Bt["99-0-0"])==null?void 0:Qt.measure_target_error_state)===0?"success":"danger",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var ze,$e,ke;return[r(l(((ke=($e=(ze=n.value)==null?void 0:ze.data)==null?void 0:$e["99-0-0"])==null?void 0:ke.measure_target_error_state)===0?"Ê≠£Â∏∏":"ÈîôËØØ"),1)]}),_:1},8,["type"])])])):j("",!0)])]}),_:1})]),_:1}),t(K,{span:6},{default:s(()=>[t(G,{class:"info-card",shadow:"hover",style:{"margin-bottom":"4px"}},{header:s(()=>[e("div",zd,[t(P,null,{default:s(()=>[t(d(Ks))]),_:1}),o[81]||(o[81]=e("span",null,"ÈôêÂà∂‰∏éÂÆâÂÖ®‰ø°ÊÅØ",-1)),t(I,{size:"small",type:"info"},{default:s(()=>[...o[80]||(o[80]=[r("ÂÆâÂÖ®",-1)])]),_:1})])]),default:s(()=>{var c,i,m,D,R,ge,Te,Le,p,a,Y,V,J,C,N,U,Ue,Ee,Pt,Nt,F,Z,te,se,ne,ie,re,de,_e,xe,be;return[e("div",$d,[e("div",kd,[o[85]||(o[85]=e("div",{style:{"font-weight":"600",color:"var(--el-color-warning)","margin-bottom":"4px","font-size":"15px"}},"üö´ È£ûË°åÈôêÂà∂",-1)),e("div",Sd,[o[82]||(o[82]=e("span",{class:"label",style:{"font-size":"11px"}},"È´òÂ∫¶ÈôêÂà∂:",-1)),e("span",Td,l(((i=(c=n.value)==null?void 0:c.data)==null?void 0:i.height_limit)||"--")+"m",1)]),e("div",Md,[o[83]||(o[83]=e("span",{class:"label",style:{"font-size":"11px"}},"Ë∑ùÁ¶ªÈôêÂà∂:",-1)),e("span",Dd,l(((R=(D=(m=n.value)==null?void 0:m.data)==null?void 0:D.distance_limit_status)==null?void 0:R.distance_limit)||"--")+"m",1)]),e("div",Cd,[o[84]||(o[84]=e("span",{class:"label",style:{"font-size":"11px"}},"ËøîËà™È´òÂ∫¶:",-1)),e("span",Od,l(((Te=(ge=n.value)==null?void 0:ge.data)==null?void 0:Te.rth_altitude)||"--")+"m",1)])]),e("div",Pd,[o[89]||(o[89]=e("div",{style:{"font-weight":"600",color:"var(--el-color-danger)","margin-bottom":"4px","font-size":"15px"}},"‚ö†Ô∏è ÂÆâÂÖ®ËÆæÁΩÆ",-1)),e("div",Nd,[o[86]||(o[86]=e("span",{class:"label",style:{"font-size":"11px"}},"Â§±ÊéßÂä®‰Ωú:",-1)),t(I,{type:v((p=(Le=n.value)==null?void 0:Le.data)==null?void 0:p.rc_lost_action),size:"small",style:{"font-size":"10px"}},{default:s(()=>{var E,q;return[r(l(T((q=(E=n.value)==null?void 0:E.data)==null?void 0:q.rc_lost_action)),1)]}),_:1},8,["type"])]),e("div",Hd,[o[87]||(o[87]=e("span",{class:"label",style:{"font-size":"11px"}},"Êé•ËøëÈ´òÂ∫¶ÈôêÂà∂:",-1)),t(I,{type:(Y=(a=n.value)==null?void 0:a.data)!=null&&Y.is_near_height_limit?"warning":"success",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var E,q;return[r(l((q=(E=n.value)==null?void 0:E.data)!=null&&q.is_near_height_limit?"ÊòØ":"Âê¶"),1)]}),_:1},8,["type"])]),e("div",Rd,[o[88]||(o[88]=e("span",{class:"label",style:{"font-size":"11px"}},"Êé•ËøëÂå∫ÂüüÈôêÂà∂:",-1)),t(I,{type:(J=(V=n.value)==null?void 0:V.data)!=null&&J.is_near_area_limit?"warning":"success",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var E,q;return[r(l((q=(E=n.value)==null?void 0:E.data)!=null&&q.is_near_area_limit?"ÊòØ":"Âê¶"),1)]}),_:1},8,["type"])])]),e("div",jd,[o[93]||(o[93]=e("div",{style:{"font-weight":"600",color:"var(--el-color-info)","margin-bottom":"4px","font-size":"15px"}},"üõ°Ô∏è ÈÅøÈöúÁ≥ªÁªü",-1)),e("div",Ad,[o[90]||(o[90]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∏äÊñπÈÅøÈöú:",-1)),t(I,{type:(U=(N=(C=n.value)==null?void 0:C.data)==null?void 0:N.obstacle_avoidance)!=null&&U.upside?"success":"warning",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var E,q,ue;return[r(l((ue=(q=(E=n.value)==null?void 0:E.data)==null?void 0:q.obstacle_avoidance)!=null&&ue.upside?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",Ld,[o[91]||(o[91]=e("span",{class:"label",style:{"font-size":"11px"}},"Ê∞¥Âπ≥ÈÅøÈöú:",-1)),t(I,{type:(Pt=(Ee=(Ue=n.value)==null?void 0:Ue.data)==null?void 0:Ee.obstacle_avoidance)!=null&&Pt.horizon?"success":"warning",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var E,q,ue;return[r(l((ue=(q=(E=n.value)==null?void 0:E.data)==null?void 0:q.obstacle_avoidance)!=null&&ue.horizon?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",Vd,[o[92]||(o[92]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∏ãÊñπÈÅøÈöú:",-1)),t(I,{type:(Z=(F=(Nt=n.value)==null?void 0:Nt.data)==null?void 0:F.obstacle_avoidance)!=null&&Z.downside?"success":"warning",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var E,q,ue;return[r(l((ue=(q=(E=n.value)==null?void 0:E.data)==null?void 0:q.obstacle_avoidance)!=null&&ue.downside?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])])]),e("div",null,[o[97]||(o[97]=e("div",{style:{"font-weight":"600",color:"var(--el-color-success)","margin-bottom":"4px","font-size":"15px"}},"üì° ÂÆö‰Ωç‰ø°ÊÅØ",-1)),e("div",Ud,[o[94]||(o[94]=e("span",{class:"label",style:{"font-size":"11px"}},"GPSÊï∞Èáè:",-1)),e("span",Fd,l(((ne=(se=(te=n.value)==null?void 0:te.data)==null?void 0:se.position_state)==null?void 0:ne.gps_number)||"--"),1)]),e("div",Id,[o[95]||(o[95]=e("span",{class:"label",style:{"font-size":"11px"}},"RTKÊï∞Èáè:",-1)),e("span",Jd,l(((de=(re=(ie=n.value)==null?void 0:ie.data)==null?void 0:re.position_state)==null?void 0:de.rtk_number)||"--"),1)]),e("div",Ed,[o[96]||(o[96]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂÆö‰ΩçË¥®Èáè:",-1)),t(I,{type:((be=(xe=(_e=n.value)==null?void 0:_e.data)==null?void 0:xe.position_state)==null?void 0:be.quality)>=4?"success":"warning",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var E,q,ue;return[r(l(((ue=(q=(E=n.value)==null?void 0:E.data)==null?void 0:q.position_state)==null?void 0:ue.quality)||"--"),1)]}),_:1},8,["type"])])])])]}),_:1})]),_:1})]),_:1})])):(_(),h("div",qd,[t(P,{style:{color:"var(--el-color-warning)","font-size":"48px","margin-bottom":"16px"}},{default:s(()=>[t(d(Bs))]),_:1}),o[98]||(o[98]=e("h3",{style:{color:"var(--el-color-warning-dark-2)","margin-bottom":"8px"}},"Á≠âÂæÖÊé•Êî∂È£ûÊú∫OSDÊï∞ÊçÆ...",-1)),o[99]||(o[99]=e("p",{style:{color:"var(--el-text-color-regular)","font-size":"14px"}},"ËØ∑Á°Æ‰øùMQTTËøûÊé•Ê≠£Â∏∏ÔºåËÆæÂ§áÊ≠£Âú®‰∏äÊä•Êï∞ÊçÆ",-1))])),e("div",Bd,[t(O,{type:"primary",icon:d(qs),circle:"",size:"large",onClick:o[0]||(o[0]=c=>ye.value=!0),title:"Êü•ÁúãÂéüÂßãÊï∞ÊçÆ"},null,8,["icon"])]),e("div",Qd,[t(O,{type:"warning",circle:"",size:"large",onClick:ut,title:"ÊâãÂä®Â§ÑÁêÜÈ£ûÊú∫OSDÊ∂àÊÅØ"},{default:s(()=>[...o[100]||(o[100]=[r(" üîÑ ",-1)])]),_:1})]),e("div",Gd,[t(O,{type:"info",circle:"",size:"large",onClick:b,title:"Ë∞ÉËØïÊï∞ÊçÆÁä∂ÊÄÅ"},{default:s(()=>[...o[101]||(o[101]=[r(" üêõ ",-1)])]),_:1})]),t(yi,{modelValue:De.value,"onUpdate:modelValue":o[1]||(o[1]=c=>De.value=c),"aircraft-data":(Xe=n.value)==null?void 0:Xe.data,"aircraft-sn":Me()},null,8,["modelValue","aircraft-data","aircraft-sn"]),t(we,{modelValue:ye.value,"onUpdate:modelValue":o[2]||(o[2]=c=>ye.value=c),title:"È£ûÊú∫ÂéüÂßãÊï∞ÊçÆÂ±ïÁ§∫",direction:"rtl",size:"60%","before-close":g},{default:s(()=>[e("div",Zd,[t(Ke,{type:"border-card"},{default:s(()=>[t(rt,{label:"È£ûÊú∫OSDÊï∞ÊçÆ",name:"aircraft-osd"},{default:s(()=>[e("pre",Kd,l(JSON.stringify(n.value,null,2)),1)]),_:1}),t(rt,{label:"Êï∞ÊçÆÊõ¥Êñ∞‰ø°ÊÅØ",name:"updates"},{default:s(()=>{var c,i;return[e("div",Wd,[e("div",Yd,[o[103]||(o[103]=e("h4",{style:{color:"var(--el-color-primary)","margin-bottom":"10px"}},"üìä Êï∞ÊçÆÊõ¥Êñ∞Áä∂ÊÄÅ",-1)),e("div",Xd,[e("div",eu,[o[102]||(o[102]=e("strong",null,"È£ûÊú∫OSDÊï∞ÊçÆ:",-1)),(c=n.value)!=null&&c.timestamp?(_(),h("span",{key:0,style:es(Ye(n.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[r(l(pt(n.value.timestamp))+" ",1),Ye(n.value.timestamp)?(_(),h("span",tu,"‚ö†Ô∏è")):j("",!0)],4)):(_(),h("span",su,"Á≠âÂæÖÊï∞ÊçÆ"))])])]),e("div",null,[o[105]||(o[105]=e("h4",{style:{color:"var(--el-color-primary)","margin-bottom":"10px"}},"üîÑ ÊúÄËøëÊõ¥Êñ∞Â≠óÊÆµ",-1)),(i=n.value)!=null&&i.data?(_(),h("div",au,[o[104]||(o[104]=e("strong",null,"È£ûÊú∫OSDÊï∞ÊçÆÂ≠óÊÆµ:",-1)),r(" "+l(Object.keys(n.value.data).join(", ")),1)])):j("",!0)])])]}),_:1}),t(rt,{label:"ÊâÄÊúâÊ∂àÊÅØÂéÜÂè≤",name:"all"},{default:s(()=>[e("pre",ou,l(JSON.stringify(d(k).messageHistory,null,2)),1)]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}},nu=_s(lu,[["__scopeId","data-v-9318d96e"]]);const iu={style:{padding:"8px 0",color:"var(--el-text-color-regular)","font-size":"13px",display:"flex","flex-direction":"column",gap:"10px"}},ru={style:{display:"flex","flex-direction":"column",gap:"10px"}},du={style:{display:"flex","align-items":"center",gap:"8px"}},uu={style:{"margin-bottom":"15px"}},pu={style:{display:"flex",gap:"8px","justify-content":"flex-end"}},cu={style:{display:"flex","align-items":"center",gap:"8px"}},vu={style:{"margin-bottom":"15px"}},gu={style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px",display:"flex","align-items":"center",gap:"8px"}},mu={style:{"margin-bottom":"10px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},fu={style:{display:"flex",gap:"8px","justify-content":"flex-end"}},yu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},_u={key:0,class:"json-block"},xu={key:1,style:{color:"#909399"}},bu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},hu={key:0},wu={style:{"margin-bottom":"10px",color:"var(--el-text-color-regular)","font-size":"13px"}},zu={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},$u={class:"json-block"},ku={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Su={style:{color:"#909399","text-align":"center",padding:"20px"}},Tu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Mu={key:0,class:"json-block"},Du={key:1,style:{color:"#909399"}},Cu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Ou={key:0},Pu={style:{"font-family":"monospace","font-size":"12px"}},Nu={style:{"font-family":"monospace","font-size":"12px"}},Hu={class:"json-block"},Ru={style:{display:"flex","align-items":"center","justify-content":"space-between"}},ju={style:{color:"#909399","text-align":"center",padding:"20px"}},Au={key:0},Lu={style:{"margin-bottom":"15px",color:"var(--el-text-color-regular)"}},Vu={key:1,style:{"text-align":"center",padding:"40px",color:"var(--el-text-color-regular)"}},Uu={style:{display:"flex","align-items":"center",gap:"8px"}},Fu={style:{"margin-bottom":"15px"}},Iu={style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px",display:"flex","align-items":"center",gap:"8px"}},Ju={style:{"margin-bottom":"10px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},Eu={style:{display:"flex",gap:"8px","justify-content":"flex-end"}},qu={style:{display:"flex","align-items":"center",gap:"8px"}},Bu={key:0,style:{display:"flex","align-items":"center",gap:"8px"}},Qu={style:{"margin-bottom":"15px",padding:"12px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},Gu={style:{color:"var(--el-text-color-regular)","font-size":"13px","line-height":"1.6"}},Zu={style:{"margin-top":"10px"}},Ku={key:0,style:{"margin-bottom":"15px"}},Wu={style:{display:"flex","align-items":"center",gap:"8px"}},Yu={style:{"font-size":"12px",color:"var(--el-text-color-regular)"}},Xu={style:{"font-size":"12px"}},ep={key:0},tp={key:0,style:{"font-size":"11px",color:"var(--el-color-danger)","margin-top":"2px"}},sp={key:1,style:{color:"var(--el-text-color-placeholder)","font-size":"12px"}},ap={key:1,style:{"text-align":"center",padding:"40px",color:"var(--el-text-color-regular)"}},op={style:{"margin-bottom":"10px"}},lp={key:2,style:{"margin-top":"15px"}},np={style:{"font-size":"12px",color:"var(--el-text-color-regular)","margin-bottom":"4px"}},ip={style:{"font-size":"11px",margin:"0","max-height":"200px","overflow-y":"auto"}},rp={style:{"margin-top":"15px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},dp={style:{"font-size":"11px",color:"var(--el-text-color-placeholder)","line-height":"1.4"}},up={key:0},pp={key:3,style:{"margin-top":"15px","text-align":"center",padding:"20px",color:"var(--el-text-color-placeholder)","font-size":"12px"}},cp={__name:"RemoteLogTab",props:{sending:Boolean,airportSn:String,requestTopic:String,replyTopic:String,requestPayload:[Object,String],replyPayload:[Object,String],uploadSending:Boolean,uploadRequestTopic:String,uploadReplyTopic:String,uploadRequestPayload:[Object,String],uploadReplyPayload:[Object,String],progressPayload:[Object,String],allEventsMessages:Array},emits:["request","upload","statusUpdate","subscribeProgress"],setup(L,{emit:Ct}){const z=L,Se=Ct,k=S(!1),ce=S(!0),n=S(!0),f=S(!1),W=S(!0),ve=S(!1),ye=S(!0),De=S(`{
  "method": "fileupload_list",
  "module_list": ["0", "3"],
  "extra_params": {}
}`),oe=S(`{
  "bucket": "your-bucket-name",
  "region": "cn-hangzhou", 
  "credentials": {
    "access_key_id": "your-access-key",
    "access_key_secret": "your-secret-key",
    "expire": 3600,
    "security_token": "your-token"
  },
  "endpoint": "https://oss-cn-hangzhou.aliyuncs.com",
  "provider": "ali",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`),le=S(`{
  "status": "cancel",
  "module_list": ["0", "3"]
}`),Me=S(!1),nt=S(!1),lt=S(!1),Ze=Ge(()=>{if(!z.uploadReplyPayload)return[];try{const c=typeof z.uploadReplyPayload=="string"?JSON.parse(z.uploadReplyPayload):z.uploadReplyPayload;return c&&c.data?[{result:c.data.result,result_text:c.data.result===0?"ÊàêÂäü":"Â§±Ë¥•",bid:c.bid||"--",tid:c.tid||"--",timestamp:c.timestamp||Date.now(),method:c.method||"--"}]:[]}catch(c){return console.error("Ëß£Êûê‰∏ä‰º†ÂìçÂ∫îÊï∞ÊçÆÂ§±Ë¥•:",c),[]}}),Fe={fileupload_list:`{
  "method": "fileupload_list",
  "module_list": ["0", "3"],
  "extra_params": {}
}`},We={basic:`{
  "bucket": "your-bucket-name",
  "region": "cn-hangzhou", 
  "credentials": {
    "access_key_id": "your-access-key",
    "access_key_secret": "your-secret-key",
    "expire": 3600,
    "security_token": "your-token"
  },
  "endpoint": "https://oss-cn-hangzhou.aliyuncs.com",
  "provider": "ali",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`,minio:`{
  "bucket": "cloud-bucket",
  "region": "default", 
  "credentials": {
    "access_key_id": "fCgOzxx2SzRIGnXaOCp6",
    "access_key_secret": "RvUTCzIBFwj1bSFJIxnNudK59wTdJl68Je9rZ04x",
    "expire": 3600,
    "security_token": ""
  },
  "endpoint": "http://121.229.184.48:1300",
  "provider": "minio",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`},y=()=>{try{let c;try{c=JSON.parse(De.value)}catch(i){A.error("JSONÊ†ºÂºèÈîôËØØÔºåËØ∑Ê£ÄÊü•ËØ≠Ê≥ïÔºö"+i.message);return}if(!c.method){A.error("Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµÔºömethod");return}Se("request",c)}catch(c){A.error("ËØ∑Ê±ÇÂèÇÊï∞Â§ÑÁêÜÂ§±Ë¥•Ôºö"+c.message)}},x=()=>{De.value=`{
  "method": "fileupload_list",
  "module_list": ["0", "3"],
  "extra_params": {}
}`},M=c=>{Fe[c]&&(De.value=Fe[c],A.success(`Â∑≤Âä†ËΩΩÈ¢ÑËÆæÈÖçÁΩÆÔºö${c}`))},Q=()=>{ce.value=!ce.value},Ie=()=>{n.value=!n.value},it=()=>{f.value=!f.value},Ht=()=>{W.value=!W.value},Je=()=>{ve.value=!ve.value},Wt=()=>{ye.value=!ye.value},ts=async()=>{try{lt.value=!0;const c=z.airportSn;if(!c||c==="--"){A.error("Áº∫Â∞ëÁΩëÂÖ≥SNÔºàÊú∫Âú∫SNÔºâ");return}if(!Ts().isConnected){A.error("MQTTÊú™ËøûÊé•ÔºåËØ∑ÂÖàËøûÊé•MQTTÊúçÂä°");return}const m=`thing/product/${c}/events`;console.log("=== ÊâãÂä®ËÆ¢ÈòÖËøõÂ∫¶ÈÄöÁü•Topic ==="),console.log("Topic:",m),console.log("Gateway SN:",c),Se("subscribeProgress",{topic:m,gatewaySn:c}),A.success("Â∑≤ÂèëÈÄÅËÆ¢ÈòÖËØ∑Ê±ÇÔºåËØ∑Êü•ÁúãÊéßÂà∂Âè∞Á°ÆËÆ§ËÆ¢ÈòÖÁªìÊûú"),console.log("üì° ËÆ¢ÈòÖËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅÔºåÁ≠âÂæÖÁà∂ÁªÑ‰ª∂Â§ÑÁêÜ...")}catch(c){console.error("ËÆ¢ÈòÖËøõÂ∫¶ÈÄöÁü•Â§±Ë¥•:",c),A.error("ËÆ¢ÈòÖÂ§±Ë¥•: "+((c==null?void 0:c.message)||"Êú™Áü•ÈîôËØØ"))}finally{lt.value=!1}},H=()=>{try{let c;try{c=JSON.parse(oe.value)}catch(i){A.error("JSONÊ†ºÂºèÈîôËØØÔºåËØ∑Ê£ÄÊü•ËØ≠Ê≥ïÔºö"+i.message);return}if(!c.bucket||!c.region||!c.credentials){A.error("Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµÔºöbucket, region, credentials");return}Se("upload",c)}catch(c){A.error("‰∏ä‰º†ÂèÇÊï∞Â§ÑÁêÜÂ§±Ë¥•Ôºö"+c.message)}},v=()=>{oe.value=`{
  "bucket": "your-bucket-name",
  "region": "cn-hangzhou",
  "credentials": {
    "access_key_id": "your-access-key",
    "access_key_secret": "your-secret-key",
    "expire": 3600,
    "security_token": "your-token"
  },
  "endpoint": "https://oss-cn-hangzhou.aliyuncs.com",
  "provider": "ali",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`},T=c=>{We[c]&&(oe.value=We[c],A.success(`Â∑≤Âä†ËΩΩ‰∏ä‰º†È¢ÑËÆæÈÖçÁΩÆÔºö${c}`))},ee=()=>{try{const c=JSON.parse(le.value);if(!c.status){A.error("Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµ: status");return}if(!c.module_list||!Array.isArray(c.module_list)){A.error("Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµ: module_list (Êï∞ÁªÑ)");return}Se("statusUpdate",c),A.success("Áä∂ÊÄÅÊõ¥Êñ∞ËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅ")}catch(c){A.error("JSONÊ†ºÂºèÈîôËØØ: "+c.message)}},Ve=()=>{le.value=`{
  "status": "cancel",
  "module_list": ["0", "3"]
}`},ut={cancel:{status:"cancel",module_list:["0","3"]}},Ot=Ge(()=>{var c,i,m,D,R,ge,Te,Le,p,a,Y,V,J;if(console.log("=== progressData computed Ë¢´Ë∞ÉÁî® ==="),console.log("props.progressPayload:",z.progressPayload),console.log("progressPayloadÁ±ªÂûã:",typeof z.progressPayload),!z.progressPayload)return console.log("‚ùå progressPayload‰∏∫Á©∫"),[];try{const C=typeof z.progressPayload=="string"?JSON.parse(z.progressPayload):z.progressPayload;if(console.log("Ëß£ÊûêÂêéÁöÑÊï∞ÊçÆ:",C),console.log("Êï∞ÊçÆÁªìÊûÑÊ£ÄÊü•:"),console.log("- data:",!!C),console.log("- data.data:",!!(C!=null&&C.data)),console.log("- data.data.result:",(c=C==null?void 0:C.data)==null?void 0:c.result),console.log("- Á¨¨‰∏Ä‰∏™Êñá‰ª∂ÁöÑprogress.result:",(Te=(ge=(R=(D=(m=(i=C==null?void 0:C.data)==null?void 0:i.output)==null?void 0:m.ext)==null?void 0:D.files)==null?void 0:R[0])==null?void 0:ge.progress)==null?void 0:Te.result),console.log("- data.data.output:",!!((Le=C==null?void 0:C.data)!=null&&Le.output)),console.log("- data.data.output.ext:",!!((a=(p=C==null?void 0:C.data)==null?void 0:p.output)!=null&&a.ext)),console.log("- data.data.output.ext.files:",!!((J=(V=(Y=C==null?void 0:C.data)==null?void 0:Y.output)==null?void 0:V.ext)!=null&&J.files)),C&&C.data&&C.data.output&&C.data.output.ext&&C.data.output.ext.files){console.log("‚úÖ Êï∞ÊçÆÁªìÊûÑÊ≠£Á°ÆÔºåÂºÄÂßãÂ§ÑÁêÜÊñá‰ª∂ÂàóË°®"),console.log("Êñá‰ª∂ÂàóË°®:",C.data.output.ext.files);const N=C.data.output.ext.files.map(U=>{var Ue,Ee,Pt,Nt,F,Z,te,se;return{device_sn:U.device_sn||"--",module:U.module||"--",key:U.key||"--",size:U.size||0,fingerprint:U.fingerprint||"--",result:((Ue=U.progress)==null?void 0:Ue.result)||C.data.result||null,progress:{current_step:((Ee=U.progress)==null?void 0:Ee.current_step)||0,progress:((Pt=U.progress)==null?void 0:Pt.progress)||0,status:((Nt=U.progress)==null?void 0:Nt.status)||"unknown",total_step:((F=U.progress)==null?void 0:F.total_step)||0,upload_rate:((Z=U.progress)==null?void 0:Z.upload_rate)||0,finish_time:((te=U.progress)==null?void 0:te.finish_time)||null,result:((se=U.progress)==null?void 0:se.result)||null}}});return console.log("Â§ÑÁêÜÂêéÁöÑÁªìÊûú:",N),console.log("ÊØè‰∏™Êñá‰ª∂ÁöÑresultÂ≠óÊÆµ:"),N.forEach((U,Ue)=>{console.log(`Êñá‰ª∂${Ue}: result = ${U.result}`)}),N}else return console.log("‚ùå Êï∞ÊçÆÁªìÊûÑ‰∏çÊ≠£Á°Æ"),[]}catch(C){return console.error("‚ùå Ëß£ÊûêËøõÂ∫¶Êï∞ÊçÆÂ§±Ë¥•:",C),[]}}),pt=()=>{le.value=JSON.stringify(ut.cancel,null,2)},Ye=Ge(()=>{if(!z.replyPayload)return[];try{const c=typeof z.replyPayload=="string"?JSON.parse(z.replyPayload):z.replyPayload;return c&&c.data&&c.data.files&&Array.isArray(c.data.files)?c.data.files.map(i=>{const m=i.list||[],D=m.reduce((p,a)=>p+(a.size||0),0),R=m.map(p=>p.start_time).filter(p=>p),ge=m.map(p=>p.end_time).filter(p=>p),Te=R.length?Math.min(...R):0,Le=ge.length?Math.max(...ge):0;return{device_sn:i.device_sn||"Êú™Áü•ËÆæÂ§á",module:i.module||"--",result:i.result||-1,file_count:m.length,total_size:D,time_range:Te&&Le?`${we(Te)} ~ ${we(Le)}`:"--",file_list:m.map(p=>({...p,duration:p.start_time&&p.end_time?w(p.start_time,p.end_time):"--"}))}}):[]}catch(c){return console.error("Ëß£ÊûêËØ¶ÁªÜÊï∞ÊçÆÂ§±Ë¥•:",c),[]}}),g=()=>{if(!z.replyPayload){A.warning("ÊöÇÊó†ÂìçÂ∫îÊï∞ÊçÆ");return}k.value=!0},b=()=>{k.value=!1},w=(c,i)=>{if(!c||!i)return"--";const m=i-c,D=Math.floor(m/1e3),R=Math.floor(D/60),ge=Math.floor(R/60),Te=Math.floor(ge/24);return Te>0?`${Te}Â§©${ge%24}Â∞èÊó∂`:ge>0?`${ge}Â∞èÊó∂${R%60}ÂàÜÈíü`:R>0?`${R}ÂàÜÈíü${D%60}Áßí`:`${D}Áßí`},u=()=>{if(Ye.value.length===0){A.warning("ÊöÇÊó†Êï∞ÊçÆÂèØÂØºÂá∫");return}try{let c=`ËÆæÂ§áSN,Ê®°Âùó,ÁªìÊûú,Êñá‰ª∂Êï∞Èáè,ÊÄªÂ§ßÂ∞è,Êó∂Èó¥ËåÉÂõ¥
`;Ye.value.forEach(R=>{c+=`"${R.device_sn}","${R.module}","${R.result===0?"ÊàêÂäü":"Â§±Ë¥•"}","${R.file_count}","${P(R.total_size)}","${R.time_range}"
`,R.file_list.forEach(ge=>{c+=`  ,"Êñá‰ª∂","","","","ÂêØÂä®Á¥¢Âºï:${ge.boot_index},ÂºÄÂßã:${we(ge.start_time)},ÁªìÊùü:${we(ge.end_time)},Â§ßÂ∞è:${P(ge.size)}"
`})});const i=new Blob([c],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a"),D=URL.createObjectURL(i);m.setAttribute("href",D),m.setAttribute("download",`Êñá‰ª∂ÂàóË°®_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.csv`),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m),A.success("CSVÊñá‰ª∂Â∑≤ÂØºÂá∫")}catch(c){A.error("ÂØºÂá∫Â§±Ë¥•Ôºö"+c.message)}},o=Ge(()=>{if(!z.replyPayload)return[];try{const c=typeof z.replyPayload=="string"?JSON.parse(z.replyPayload):z.replyPayload;return c&&c.result===0&&c.data&&Array.isArray(c.data)?c.data.map((i,m)=>{const D=(i==null?void 0:i.name)||(i==null?void 0:i.file_name)||"Êú™Áü•Êñá‰ª∂";return{index:m+1,name:D,size:(i==null?void 0:i.size)||(i==null?void 0:i.file_size)||0,type:O(D),module:(i==null?void 0:i.module)||(i==null?void 0:i.module_id)||"--",timestamp:(i==null?void 0:i.timestamp)||(i==null?void 0:i.create_time)||Date.now()}}):c&&c.files&&Array.isArray(c.files)?c.files.map((i,m)=>{const D=(i==null?void 0:i.name)||(i==null?void 0:i.file_name)||"Êú™Áü•Êñá‰ª∂";return{index:m+1,name:D,size:(i==null?void 0:i.size)||(i==null?void 0:i.file_size)||0,type:O(D),module:(i==null?void 0:i.module)||(i==null?void 0:i.module_id)||"--",timestamp:(i==null?void 0:i.timestamp)||(i==null?void 0:i.create_time)||Date.now()}}):[]}catch(c){return console.error("Ëß£ÊûêÂìçÂ∫îÊï∞ÊçÆÂ§±Ë¥•:",c),[]}}),O=c=>{var D;if(!c||typeof c!="string")return"Êú™Áü•";const i=(D=c.split(".").pop())==null?void 0:D.toLowerCase();return i&&{log:"Êó•Âøó",txt:"ÊñáÊú¨",json:"JSON",xml:"XML",csv:"CSV",zip:"ÂéãÁº©ÂåÖ",tar:"ÂéãÁº©ÂåÖ",gz:"ÂéãÁº©ÂåÖ",jpg:"ÂõæÁâá",jpeg:"ÂõæÁâá",png:"ÂõæÁâá",gif:"ÂõæÁâá",mp4:"ËßÜÈ¢ë",avi:"ËßÜÈ¢ë",mov:"ËßÜÈ¢ë"}[i]||"Êñá‰ª∂"},X={0:"È£ûÊú∫Á±ª",1:"Ë¥üËΩΩÁ±ª",2:"ÈÅ•ÊéßÂô®Á±ª",3:"Êú∫Âú∫Á±ª"},K=c=>X[c]||`Ê®°Âùó${c}`,$=c=>({Êó•Âøó:"warning",ÊñáÊú¨:"info",JSON:"success",XML:"primary",CSV:"success",ÂéãÁº©ÂåÖ:"danger",ÂõæÁâá:"success",ËßÜÈ¢ë:"primary",Êñá‰ª∂:"info"})[c]||"info",P=c=>{if(!c||c===0)return"0 B";const i=["B","KB","MB","GB","TB"];let m=c,D=0;for(;m>=1024&&D<i.length-1;)m/=1024,D++;return`${m.toFixed(2)} ${i[D]}`},I=c=>!c||c===0?"0 B/s":P(c)+"/s",G=c=>c?new Date(c).toLocaleString():"--",rt=c=>c?c.status==="ok"||c.status==="completed"?"success":c.status==="error"||c.status==="failed"?"exception":(c.status==="file_zip"||c.status==="uploading",""):"exception",Ke=c=>c==="ok"?"success":c==="error"?"danger":c==="file_zip"?"warning":c==="uploading"?"primary":c==="completed"?"success":c==="failed"?"danger":"info",we=c=>c?new Date(c*1e3).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--",Xe=c=>{try{return JSON.stringify(typeof c=="string"?JSON.parse(c):c,null,2)}catch{return String(c)}};return(c,i)=>(_(),h("div",iu,[e("div",ru,[t(d(ns),{shadow:"never"},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:Q},[e("div",du,[t(d(ps),{style:es({transform:ce.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),i[9]||(i[9]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"1. Ëé∑ÂèñËÆæÂ§áÂèØ‰∏ä‰º†ÁöÑÊñá‰ª∂ÂàóË°®",-1)),ce.value?j("",!0):(_(),Xt(d(Ns),{key:0,content:"ÁÇπÂáªÂ±ïÂºÄÈÖçÁΩÆÂå∫ÂüüÔºåÁºñËæëËØ∑Ê±ÇÂèÇÊï∞",placement:"top"},{default:s(()=>[t(d(he),{size:"small",type:"info",style:{cursor:"help"}},{default:s(()=>[...i[8]||(i[8]=[r("ÈÖçÁΩÆÂèÇÊï∞",-1)])]),_:1})]),_:1}))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",uu,[i[10]||(i[10]=e("div",{style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ËØ∑Ê±ÇÂèÇÊï∞ (JSONÊ†ºÂºè) - Ê®°ÂùóID: 0=È£ûÊú∫Á±ª, 1=Ë¥üËΩΩÁ±ª, 2=ÈÅ•ÊéßÂô®Á±ª, 3=Êú∫Âú∫Á±ª ",-1)),t(d(Hs),{modelValue:De.value,"onUpdate:modelValue":i[0]||(i[0]=m=>De.value=m),type:"textarea",rows:8,placeholder:`ËØ∑ËæìÂÖ•JSONÊ†ºÂºèÁöÑËØ∑Ê±ÇÂèÇÊï∞Ôºå‰æãÂ¶ÇÔºö
{
  "method": "fileupload_list",
  "module_list": ["0", "3"],
  "extra_params": {}
}`,style:{"font-family":"monospace","font-size":"12px"}},null,8,["modelValue"])]),e("div",pu,[t(d(Dt),{type:"primary",loading:L.sending,onClick:y},{default:s(()=>[...i[11]||(i[11]=[r(" ÂèëÈÄÅËØ∑Ê±Ç ",-1)])]),_:1},8,["loading"]),t(d(Dt),{onClick:x},{default:s(()=>[...i[12]||(i[12]=[r("ÈáçÁΩÆ",-1)])]),_:1}),t(d(Dt),{onClick:i[1]||(i[1]=m=>M("fileupload_list"))},{default:s(()=>[...i[13]||(i[13]=[r("Êñá‰ª∂ÂàóË°®",-1)])]),_:1})])],512),[[us,!ce.value]])]),_:1})]),_:1}),t(d(ns),{shadow:"never",style:{"margin-top":"10px"}},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:Ie},[e("div",cu,[t(d(ps),{style:es({transform:n.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),i[15]||(i[15]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"2. ÂèëËµ∑Êó•ÂøóÊñá‰ª∂‰∏ä‰º†",-1)),n.value?j("",!0):(_(),Xt(d(Ns),{key:0,content:"ÁÇπÂáªÂ±ïÂºÄÈÖçÁΩÆÂå∫ÂüüÔºåÁºñËæë‰∏ä‰º†ÂèÇÊï∞",placement:"top"},{default:s(()=>[t(d(he),{size:"small",type:"info",style:{cursor:"help"}},{default:s(()=>[...i[14]||(i[14]=[r("ÈÖçÁΩÆÂèÇÊï∞",-1)])]),_:1})]),_:1}))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",vu,[e("div",gu,[i[16]||(i[16]=e("span",null,"‰∏ä‰º†ÂèÇÊï∞ (JSONÊ†ºÂºè)",-1)),t(d(Dt),{size:"small",type:"primary",text:"",onClick:it,style:{padding:"0","font-size":"12px",color:"var(--el-color-primary)"}},{default:s(()=>[r(l(f.value?"ÈöêËóè":"ÊòæÁ§∫")+"Â≠óÊÆµËØ¥Êòé ",1)]),_:1})]),t(d(rs),null,{default:s(()=>[ds(e("div",mu,[...i[17]||(i[17]=[e("div",{style:{color:"var(--el-text-color-regular)","font-size":"12px","line-height":"1.6"}},[e("div",null,[e("strong",null,"Â≠óÊÆµËØ¥ÊòéÔºö")]),e("div",null,[e("strong",null,"bucket:"),r(" ÂØπË±°Â≠òÂÇ®Ê°∂ÂêçÁß∞ (text)")]),e("div",null,[e("strong",null,"region:"),r(" Êï∞ÊçÆ‰∏≠ÂøÉÊâÄÂú®ÁöÑÂú∞Âüü (text)")]),e("div",null,[e("strong",null,"credentials:"),r(" Âá≠ËØÅ‰ø°ÊÅØ (struct)")]),e("div",{style:{"margin-left":"20px"}},"‚Ä¢ access_key_id: ËÆøÈóÆÂØÜÈí•ID (text)"),e("div",{style:{"margin-left":"20px"}},"‚Ä¢ access_key_secret: ÁßòÂØÜËÆøÈóÆÂØÜÈí• (text)"),e("div",{style:{"margin-left":"20px"}},"‚Ä¢ expire: ËÆøÈóÆÂØÜÈí•ËøáÊúüÊó∂Èó¥ (int, Áßí)"),e("div",{style:{"margin-left":"20px"}},"‚Ä¢ security_token: ‰ºöËØùÂá≠ËØÅ (text)"),e("div",null,[e("strong",null,"endpoint:"),r(" ÂØπÂ§ñÊúçÂä°ÁöÑËÆøÈóÆÂüüÂêç (text)")]),e("div",null,[e("strong",null,"provider:"),r(" ‰∫ëÂéÇÂïÜÊûö‰∏æÂÄº (ali=ÈòøÈáå‰∫ë, aws=‰∫öÈ©¨ÈÄä‰∫ë, minio=minio)")]),e("div",null,[e("strong",null,"params:"),r(" ÂèÇÊï∞ÁªìÊûÑ (struct)")]),e("div",{style:{"margin-left":"20px"}},[e("strong",null,"files:"),r(" Êñá‰ª∂ÂàóË°® (array)")]),e("div",{style:{"margin-left":"40px"}},"‚Ä¢ object_key: Êñá‰ª∂Âú®ÂØπË±°Â≠òÂÇ®Ê°∂ÁöÑKey (text)"),e("div",{style:{"margin-left":"40px"}},"‚Ä¢ module: Êó•ÂøóÊâÄÂ±ûÊ®°Âùó (text)"),e("div",{style:{"margin-left":"40px"}},"‚Ä¢ list: Êó•ÂøóÂàóË°® (array)"),e("div",{style:{"margin-left":"60px"}},"‚Ä¢ boot_index: Êó•ÂøóÁ¥¢Âºï (int)")],-1)])],512),[[us,f.value]])]),_:1}),t(d(Hs),{modelValue:oe.value,"onUpdate:modelValue":i[2]||(i[2]=m=>oe.value=m),type:"textarea",rows:12,placeholder:`ËØ∑ËæìÂÖ•JSONÊ†ºÂºèÁöÑ‰∏ä‰º†ÂèÇÊï∞ÔºåÁÇπÂáª‰∏äÊñπ"ÊòæÁ§∫Â≠óÊÆµËØ¥Êòé"Êü•ÁúãËØ¶ÁªÜÂèÇÊï∞ËØ¥Êòé

Á§∫‰æãÔºö
{
  "bucket": "your-bucket-name",
  "region": "cn-hangzhou", 
  "credentials": {
    "access_key_id": "your-access-key",
    "access_key_secret": "your-secret-key",
    "expire": 3600,
    "security_token": "your-token"
  },
  "endpoint": "https://oss-cn-hangzhou.aliyuncs.com",
  "provider": "ali",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`,style:{"font-family":"monospace","font-size":"12px"}},null,8,["modelValue"])]),e("div",fu,[t(d(Dt),{type:"primary",loading:Me.value,onClick:H},{default:s(()=>[...i[18]||(i[18]=[r(" ÂèëËµ∑‰∏ä‰º† ",-1)])]),_:1},8,["loading"]),t(d(Dt),{onClick:v},{default:s(()=>[...i[19]||(i[19]=[r("ÈáçÁΩÆ",-1)])]),_:1}),t(d(Dt),{onClick:i[3]||(i[3]=m=>T("basic"))},{default:s(()=>[...i[20]||(i[20]=[r("Âü∫Á°ÄÈÖçÁΩÆ",-1)])]),_:1}),t(d(Dt),{onClick:i[4]||(i[4]=m=>T("minio"))},{default:s(()=>[...i[21]||(i[21]=[r("MinIOÈÖçÁΩÆ",-1)])]),_:1})])],512),[[us,!n.value]])]),_:1})]),_:1}),t(d(rs),null,{default:s(()=>[ds(t(d(Us),{gutter:10},{default:s(()=>[t(d(Ds),{span:12},{default:s(()=>[t(d(ns),{shadow:"never"},{header:s(()=>[e("div",yu,[i[22]||(i[22]=e("span",null,"Êñá‰ª∂ÂàóË°®ËØ∑Ê±ÇÔºàdownÔºâ",-1)),t(d(he),{size:"small",type:"info"},{default:s(()=>[r(l(L.requestTopic||"topic Êú™ÁîüÊàê"),1)]),_:1})])]),default:s(()=>[L.requestPayload?(_(),h("pre",_u,l(Xe(L.requestPayload)),1)):(_(),h("div",xu,"Â∞öÊú™ÂèëÈÄÅËØ∑Ê±Ç"))]),_:1})]),_:1}),t(d(Ds),{span:12},{default:s(()=>[L.replyPayload?(_(),Xt(d(ns),{key:0,shadow:"never"},{header:s(()=>[e("div",bu,[i[23]||(i[23]=e("span",null,"Êñá‰ª∂ÂàóË°®ÂìçÂ∫îÔºàupÔºâ",-1)),t(d(he),{size:"small",type:"success"},{default:s(()=>[r(l(L.replyTopic||"ÂìçÂ∫î‰∏ªÈ¢ò"),1)]),_:1})])]),default:s(()=>[o.value.length>0?(_(),h("div",hu,[e("div",wu," Êñá‰ª∂ÂàóË°® ("+l(o.value.length)+" ‰∏™Êñá‰ª∂) ",1),t(d(ms),{data:o.value,size:"small",height:"300",border:"",stripe:"",style:{"margin-bottom":"15px"}},{default:s(()=>[t(d(ae),{prop:"index",label:"Â∫èÂè∑",width:"60"}),t(d(ae),{prop:"name",label:"Êñá‰ª∂Âêç","min-width":"200"}),t(d(ae),{prop:"size",label:"Êñá‰ª∂Â§ßÂ∞è",width:"120"},{default:s(m=>[r(l(P(m.row.size)),1)]),_:1}),t(d(ae),{prop:"type",label:"Êñá‰ª∂Á±ªÂûã",width:"100"},{default:s(m=>[t(d(he),{type:$(m.row.type||"Êú™Áü•"),size:"small"},{default:s(()=>[r(l(m.row.type||"Êú™Áü•"),1)]),_:2},1032,["type"])]),_:1}),t(d(ae),{prop:"module",label:"Ê®°Âùó",width:"100"},{default:s(m=>[t(d(he),{size:"small",type:"info",title:`Ê®°ÂùóID: ${m.row.module||"--"}`},{default:s(()=>[r(l(K(m.row.module)),1)]),_:2},1032,["title"])]),_:1}),t(d(ae),{prop:"timestamp",label:"Êó∂Èó¥Êà≥",width:"120"},{default:s(m=>[r(l(we(m.row.timestamp)),1)]),_:1})]),_:1},8,["data"])])):j("",!0),e("div",zu,[i[25]||(i[25]=e("span",{style:{color:"var(--el-text-color-regular)","font-size":"13px"}},"ÂéüÂßãÂìçÂ∫îÊï∞ÊçÆ",-1)),t(d(Dt),{size:"small",type:"primary",onClick:g},{default:s(()=>[...i[24]||(i[24]=[r(" Êü•ÁúãËØ¶ÁªÜË°®Ê†º ",-1)])]),_:1})]),e("pre",$u,l(Xe(L.replyPayload)),1)]),_:1})):(_(),Xt(d(ns),{key:1,shadow:"never"},{header:s(()=>[e("div",ku,[i[26]||(i[26]=e("span",null,"Êñá‰ª∂ÂàóË°®ÂìçÂ∫îÔºàupÔºâ",-1)),t(d(he),{size:"small",type:L.sending?"warning":"info"},{default:s(()=>[r(l(L.sending?"Á≠âÂæÖÂìçÂ∫î‚Ä¶":"Êú™Êî∂Âà∞ÂìçÂ∫î"),1)]),_:1},8,["type"])])]),default:s(()=>[e("div",Su,l(L.sending?"Ê≠£Âú®Á≠âÂæÖÊúçÂä°Âô®ÂìçÂ∫î‚Ä¶":"ËØ∑ÂÖàÂèëÈÄÅËØ∑Ê±ÇËé∑ÂèñÊñá‰ª∂ÂàóË°®"),1)]),_:1}))]),_:1})]),_:1},512),[[us,!ce.value]])]),_:1}),t(d(rs),null,{default:s(()=>[ds(t(d(Us),{gutter:10,style:{"margin-top":"10px"}},{default:s(()=>[t(d(Ds),{span:12},{default:s(()=>[t(d(ns),{shadow:"never"},{header:s(()=>[e("div",Tu,[i[27]||(i[27]=e("span",null,"‰∏ä‰º†ËØ∑Ê±ÇÔºàdownÔºâ",-1)),t(d(he),{size:"small",type:"info"},{default:s(()=>[r(l(L.uploadRequestTopic||"topic Êú™ÁîüÊàê"),1)]),_:1})])]),default:s(()=>[L.uploadRequestPayload?(_(),h("pre",Mu,l(Xe(L.uploadRequestPayload)),1)):(_(),h("div",Du,"Â∞öÊú™ÂèëÈÄÅ‰∏ä‰º†ËØ∑Ê±Ç"))]),_:1})]),_:1}),t(d(Ds),{span:12},{default:s(()=>[L.uploadReplyPayload?(_(),Xt(d(ns),{key:0,shadow:"never"},{header:s(()=>[e("div",Cu,[i[28]||(i[28]=e("span",null,"‰∏ä‰º†ÂìçÂ∫îÔºàupÔºâ",-1)),t(d(he),{size:"small",type:"success"},{default:s(()=>[r(l(L.uploadReplyTopic||"ÂìçÂ∫î‰∏ªÈ¢ò"),1)]),_:1})])]),default:s(()=>[Ze.value.length>0?(_(),h("div",Ou,[i[29]||(i[29]=e("div",{style:{"margin-bottom":"10px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ‰∏ä‰º†ÊâßË°åÁªìÊûú ",-1)),t(d(ms),{data:Ze.value,size:"small",height:"200",border:"",stripe:"",style:{"margin-bottom":"15px"}},{default:s(()=>[t(d(ae),{prop:"result",label:"ËøîÂõûÁ†Å",width:"80"},{default:s(m=>[t(d(he),{type:m.row.result===0?"success":"danger",size:"small"},{default:s(()=>[r(l(m.row.result),1)]),_:2},1032,["type"])]),_:1}),t(d(ae),{prop:"result_text",label:"ÊâßË°åÁä∂ÊÄÅ",width:"100"},{default:s(m=>[t(d(he),{type:m.row.result===0?"success":"danger",size:"small"},{default:s(()=>[r(l(m.row.result_text),1)]),_:2},1032,["type"])]),_:1}),t(d(ae),{prop:"bid",label:"‰∏öÂä°ID",width:"200"},{default:s(m=>[e("span",Pu,l(m.row.bid),1)]),_:1}),t(d(ae),{prop:"tid",label:"‰∫ãÂä°ID",width:"200"},{default:s(m=>[e("span",Nu,l(m.row.tid),1)]),_:1}),t(d(ae),{prop:"timestamp",label:"ÂìçÂ∫îÊó∂Èó¥",width:"180"},{default:s(m=>[r(l(we(m.row.timestamp)),1)]),_:1}),t(d(ae),{prop:"method",label:"ÊñπÊ≥ï",width:"120"},{default:s(m=>[t(d(he),{size:"small",type:"info"},{default:s(()=>[r(l(m.row.method),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])])):j("",!0),i[30]||(i[30]=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},[e("span",{style:{color:"var(--el-text-color-regular)","font-size":"13px"}},"ÂéüÂßãÂìçÂ∫îÊï∞ÊçÆ")],-1)),e("pre",Hu,l(Xe(L.uploadReplyPayload)),1)]),_:1})):(_(),Xt(d(ns),{key:1,shadow:"never"},{header:s(()=>[e("div",Ru,[i[31]||(i[31]=e("span",null,"‰∏ä‰º†ÂìçÂ∫îÔºàupÔºâ",-1)),t(d(he),{size:"small",type:Me.value?"warning":"info"},{default:s(()=>[r(l(Me.value?"Á≠âÂæÖÂìçÂ∫î‚Ä¶":"Êú™Êî∂Âà∞ÂìçÂ∫î"),1)]),_:1},8,["type"])])]),default:s(()=>[e("div",ju,l(Me.value?"Ê≠£Âú®Á≠âÂæÖËÆæÂ§áÂìçÂ∫î‚Ä¶":"ËØ∑ÂÖàÂèëÈÄÅ‰∏ä‰º†ËØ∑Ê±Ç"),1)]),_:1}))]),_:1})]),_:1},512),[[us,!n.value]])]),_:1}),t(d(Xs),{modelValue:k.value,"onUpdate:modelValue":i[6]||(i[6]=m=>k.value=m),title:"ÂìçÂ∫îÊï∞ÊçÆËØ¶ÁªÜË°®Ê†º",width:"80%","before-close":b},{footer:s(()=>[t(d(Dt),{onClick:i[5]||(i[5]=m=>k.value=!1)},{default:s(()=>[...i[32]||(i[32]=[r("ÂÖ≥Èó≠",-1)])]),_:1}),t(d(Dt),{type:"primary",onClick:u},{default:s(()=>[...i[33]||(i[33]=[r("ÂØºÂá∫CSV",-1)])]),_:1})]),default:s(()=>[Ye.value.length>0?(_(),h("div",Au,[e("div",Lu," ÂÖ±ÊâæÂà∞ "+l(Ye.value.length)+" ‰∏™ËÆæÂ§áÁöÑÊï∞ÊçÆ ",1),t(d(ms),{data:Ye.value,size:"small",height:"500",border:"",stripe:""},{default:s(()=>[t(d(ae),{prop:"device_sn",label:"ËÆæÂ§áSN",width:"180"}),t(d(ae),{prop:"module",label:"Ê®°Âùó",width:"100"},{default:s(m=>[t(d(he),{size:"small",type:"info",title:`Ê®°ÂùóID: ${m.row.module}`},{default:s(()=>[r(l(K(m.row.module)),1)]),_:2},1032,["title"])]),_:1}),t(d(ae),{prop:"result",label:"ÁªìÊûú",width:"80"},{default:s(m=>[t(d(he),{type:m.row.result===0?"success":"danger",size:"small"},{default:s(()=>[r(l(m.row.result===0?"ÊàêÂäü":"Â§±Ë¥•"),1)]),_:2},1032,["type"])]),_:1}),t(d(ae),{prop:"file_count",label:"Êñá‰ª∂Êï∞Èáè",width:"100"}),t(d(ae),{prop:"total_size",label:"ÊÄªÂ§ßÂ∞è",width:"120"},{default:s(m=>[r(l(P(m.row.total_size)),1)]),_:1}),t(d(ae),{prop:"time_range",label:"Êó∂Èó¥ËåÉÂõ¥","min-width":"200"},{default:s(m=>[r(l(m.row.time_range),1)]),_:1})]),_:1},8,["data"]),t(d(Ws),{style:{"margin-top":"20px"}},{default:s(()=>[(_(!0),h(fs,null,ys(Ye.value,(m,D)=>(_(),Xt(d(Ys),{key:D,title:`ËÆæÂ§á ${m.device_sn} (${K(m.module)}) - ${m.file_count} ‰∏™Êñá‰ª∂`,name:D},{default:s(()=>[t(d(ms),{data:m.file_list,size:"small",border:"",stripe:""},{default:s(()=>[t(d(ae),{prop:"boot_index",label:"ÂêØÂä®Á¥¢Âºï",width:"120"}),t(d(ae),{prop:"start_time",label:"ÂºÄÂßãÊó∂Èó¥",width:"180"},{default:s(R=>[r(l(we(R.row.start_time)),1)]),_:1}),t(d(ae),{prop:"end_time",label:"ÁªìÊùüÊó∂Èó¥",width:"180"},{default:s(R=>[r(l(we(R.row.end_time)),1)]),_:1}),t(d(ae),{prop:"size",label:"Êñá‰ª∂Â§ßÂ∞è",width:"120"},{default:s(R=>[r(l(P(R.row.size)),1)]),_:1}),t(d(ae),{prop:"duration",label:"ÊåÅÁª≠Êó∂Èó¥",width:"120"},{default:s(R=>[r(l(w(R.row.start_time,R.row.end_time)),1)]),_:1})]),_:1},8,["data"])]),_:2},1032,["title","name"]))),128))]),_:1})])):(_(),h("div",Vu," ÊöÇÊó†Êï∞ÊçÆÊàñÊï∞ÊçÆÊ†ºÂºè‰∏çÊ≠£Á°Æ "))]),_:1},8,["modelValue"]),t(d(ns),{style:{"margin-top":"15px"}},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:Ht},[e("div",Uu,[t(d(ps),{style:es({transform:W.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),i[35]||(i[35]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"3. ‰∏ä‰º†Áä∂ÊÄÅÊõ¥Êñ∞",-1)),W.value?j("",!0):(_(),Xt(d(Ns),{key:0,content:"ÁÇπÂáªÂ±ïÂºÄÈÖçÁΩÆÂå∫ÂüüÔºåÁºñËæëÁä∂ÊÄÅÊõ¥Êñ∞ÂèÇÊï∞",placement:"top"},{default:s(()=>[t(d(he),{size:"small",type:"info",style:{cursor:"help"}},{default:s(()=>[...i[34]||(i[34]=[r("ÈÖçÁΩÆÂèÇÊï∞",-1)])]),_:1})]),_:1}))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",Fu,[e("div",Iu,[i[36]||(i[36]=e("span",null,"Áä∂ÊÄÅÊõ¥Êñ∞ÂèÇÊï∞ (JSONÊ†ºÂºè)",-1)),t(d(Dt),{size:"small",type:"primary",text:"",onClick:Je,style:{padding:"0","font-size":"12px",color:"var(--el-color-primary)"}},{default:s(()=>[r(l(ve.value?"ÈöêËóè":"ÊòæÁ§∫")+"Â≠óÊÆµËØ¥Êòé ",1)]),_:1})]),t(d(rs),null,{default:s(()=>[ds(e("div",Ju,[...i[37]||(i[37]=[e("div",{style:{color:"var(--el-text-color-regular)","font-size":"12px","line-height":"1.6"}},[e("div",null,[e("strong",null,"Â≠óÊÆµËØ¥ÊòéÔºö")]),e("div",null,[e("strong",null,"status:"),r(' ‰∏ä‰º†Áä∂ÊÄÅ (enum_string) - "cancel": ÂèñÊ∂à')]),e("div",null,[e("strong",null,"module_list:"),r(" Êó•ÂøóÊâÄÂ±ûÊ®°ÂùóÂàóË°® (array) - Ê®°ÂùóIDÊï∞ÁªÑ")])],-1)])],512),[[us,ve.value]])]),_:1}),t(d(Hs),{modelValue:le.value,"onUpdate:modelValue":i[7]||(i[7]=m=>le.value=m),type:"textarea",rows:8,placeholder:`ËØ∑ËæìÂÖ•JSONÊ†ºÂºèÁöÑÁä∂ÊÄÅÊõ¥Êñ∞ÂèÇÊï∞

Á§∫‰æãÔºö
{
  "status": "cancel",
  "module_list": ["0", "3"]
}`,style:{"font-family":"monospace","font-size":"12px"}},null,8,["modelValue"])]),e("div",Eu,[t(d(Dt),{type:"primary",loading:nt.value,onClick:ee},{default:s(()=>[...i[38]||(i[38]=[r(" ÂèëÈÄÅÁä∂ÊÄÅÊõ¥Êñ∞ ",-1)])]),_:1},8,["loading"]),t(d(Dt),{onClick:Ve},{default:s(()=>[...i[39]||(i[39]=[r(" ÈáçÁΩÆ ",-1)])]),_:1}),t(d(Dt),{onClick:pt},{default:s(()=>[...i[40]||(i[40]=[r(" Âä†ËΩΩÈ¢ÑËÆæ ",-1)])]),_:1})])],512),[[us,!W.value]])]),_:1})]),_:1}),t(d(ns),{style:{"margin-top":"15px"}},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:Wt},[e("div",qu,[t(d(ps),{style:es({transform:ye.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),i[45]||(i[45]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"4. Êñá‰ª∂‰∏ä‰º†ËøõÂ∫¶ÈÄöÁü•",-1)),ye.value?j("",!0):(_(),h("div",Bu,[t(d(he),{size:"small",type:"success"},{default:s(()=>[...i[41]||(i[41]=[r("ÂÆûÊó∂ÁõëÊéß",-1)])]),_:1}),t(d(he),{size:"small",type:"info"},{default:s(()=>[...i[42]||(i[42]=[r("Topic: thing/product/{gateway_sn}/events",-1)])]),_:1}),t(d(he),{size:"small",type:"warning"},{default:s(()=>[...i[43]||(i[43]=[r("Direction: up",-1)])]),_:1}),t(d(he),{size:"small",type:"primary"},{default:s(()=>[...i[44]||(i[44]=[r("Method: fileupload_progress",-1)])]),_:1})]))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",Qu,[e("div",Gu,[i[47]||(i[47]=e("div",{style:{"margin-bottom":"8px"}},[e("strong",null,"ÊñπÊ≥ïËØ¥ÊòéÔºö")],-1)),i[48]||(i[48]=e("div",null,[e("strong",null,"Topic:"),r(" thing/product/{gateway_sn}/events")],-1)),i[49]||(i[49]=e("div",null,[e("strong",null,"Direction:"),r(" up (ËÆæÂ§áÁ´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅ)")],-1)),i[50]||(i[50]=e("div",null,[e("strong",null,"Method:"),r(" fileupload_progress")],-1)),i[51]||(i[51]=e("div",{style:{"margin-top":"8px",color:"var(--el-text-color-placeholder)","font-size":"12px"}}," ËØ∑ÊâãÂä®ËÆ¢ÈòÖÊ≠§TopicÊù•Êé•Êî∂ÂÆûÊó∂ÁöÑÊñá‰ª∂‰∏ä‰º†ËøõÂ∫¶ÈÄöÁü• ",-1)),e("div",Zu,[t(d(Dt),{type:"success",onClick:ts,loading:lt.value,size:"small"},{default:s(()=>[t(d(ps),null,{default:s(()=>[t(d(Ps))]),_:1}),i[46]||(i[46]=r(" ÊâãÂä®ËÆ¢ÈòÖËøõÂ∫¶ÈÄöÁü• ",-1))]),_:1},8,["loading"])])])]),Ot.value.length>0?(_(),h("div",Ku,[t(d(ms),{data:Ot.value,style:{width:"100%"},size:"small"},{default:s(()=>[t(d(ae),{prop:"device_sn",label:"ËÆæÂ§áSN",width:"120"}),t(d(ae),{prop:"module",label:"Ê®°Âùó",width:"80"},{default:s(m=>[r(l(K(m.row.module)),1)]),_:1}),t(d(ae),{prop:"key",label:"Â≠òÂÇ®Key","show-overflow-tooltip":""}),t(d(ae),{prop:"size",label:"Êñá‰ª∂Â§ßÂ∞è",width:"100"},{default:s(m=>[r(l(P(m.row.size)),1)]),_:1}),t(d(ae),{prop:"progress.progress",label:"ËøõÂ∫¶",width:"120"},{default:s(m=>{var D,R;return[e("div",Wu,[t(d(ea),{percentage:((D=m.row.progress)==null?void 0:D.progress)||0,status:rt(m.row.progress),"stroke-width":6,style:{flex:"1"}},null,8,["percentage","status"]),e("span",Yu,l(((R=m.row.progress)==null?void 0:R.progress)||0)+"% ",1)])]}),_:1}),t(d(ae),{prop:"progress.status",label:"Áä∂ÊÄÅ",width:"80"},{default:s(m=>{var D;return[t(d(he),{type:Ke((D=m.row.progress)==null?void 0:D.status),size:"small"},{default:s(()=>{var R;return[r(l(((R=m.row.progress)==null?void 0:R.status)||"Êú™Áü•"),1)]}),_:2},1032,["type"])]}),_:1}),t(d(ae),{prop:"progress.upload_rate",label:"‰∏ä‰º†ÈÄüÁéá",width:"100"},{default:s(m=>{var D;return[r(l(I((D=m.row.progress)==null?void 0:D.upload_rate)),1)]}),_:1}),t(d(ae),{prop:"progress.finish_time",label:"ÂÆåÊàêÊó∂Èó¥",width:"120"},{default:s(m=>{var D;return[r(l(G((D=m.row.progress)==null?void 0:D.finish_time)),1)]}),_:1}),t(d(ae),{prop:"progress.current_step",label:"Ê≠•È™§",width:"100"},{default:s(m=>{var D,R;return[e("div",Xu,l(((D=m.row.progress)==null?void 0:D.current_step)||0)+"/"+l(((R=m.row.progress)==null?void 0:R.total_step)||0),1)]}),_:1}),t(d(ae),{prop:"result",label:"ËøîÂõûÁ†Å",width:"120"},{default:s(m=>[m.row.result!==null&&m.row.result!==void 0?(_(),h("div",ep,[t(d(he),{type:m.row.result===0?"success":"danger",size:"small"},{default:s(()=>[r(l(m.row.result),1)]),_:2},1032,["type"]),m.row.result!==0?(_(),h("div",tp," ‰∏ä‰º†Â§±Ë¥• ")):j("",!0)])):(_(),h("div",sp," -- "))]),_:1})]),_:1},8,["data"])])):(_(),h("div",ap,[e("div",op,[t(d(ps),{size:"48",color:"var(--el-color-info)"},{default:s(()=>[t(d(Qs))]),_:1})]),i[52]||(i[52]=e("div",{style:{"font-size":"14px","margin-bottom":"8px"}},"ÊöÇÊó†‰∏ä‰º†ËøõÂ∫¶Êï∞ÊçÆ",-1)),i[53]||(i[53]=e("div",{style:{"font-size":"12px",color:"var(--el-text-color-placeholder)"}}," ËØ∑ÂÖàÂèëËµ∑Êñá‰ª∂‰∏ä‰º†ÔºåÁ≥ªÁªüÂ∞ÜËá™Âä®Êé•Êî∂ËøõÂ∫¶ÈÄöÁü• ",-1))])),L.allEventsMessages.length>0?(_(),h("div",lp,[i[57]||(i[57]=e("div",{style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ÊúÄÊñ∞Êñá‰ª∂‰∏ä‰º†ËøõÂ∫¶Ê∂àÊÅØÔºö ",-1)),(_(!0),h(fs,null,ys(L.allEventsMessages,(m,D)=>(_(),h("div",{key:D,style:{"margin-bottom":"10px",padding:"8px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},[e("div",np,[i[54]||(i[54]=e("strong",null,"ÊñπÊ≥ï:",-1)),r(" "+l(m.method||"Êú™Áü•")+" | ",1),i[55]||(i[55]=e("strong",null,"Êó∂Èó¥:",-1)),r(" "+l(G(m.timestamp))+" | ",1),i[56]||(i[56]=e("strong",null,"ÁΩëÂÖ≥:",-1)),r(" "+l(m.gateway||"Êú™Áü•"),1)]),e("pre",ip,l(Xe(m)),1)]))),128))])):j("",!0),e("div",rp,[i[58]||(i[58]=e("div",{style:{"font-size":"12px",color:"var(--el-text-color-regular)","margin-bottom":"8px"}},[e("strong",null,"Ë∞ÉËØï‰ø°ÊÅØÔºö")],-1)),e("div",dp,[e("div",null,"progressPayload: "+l(L.progressPayload?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"ÊúÄÊñ∞ËøõÂ∫¶Ê∂àÊÅØ: "+l(L.allEventsMessages.length)+"Êù°",1),e("div",null,"progressData: "+l(Ot.value.length)+"Êù°",1),L.progressPayload?(_(),h("div",up,"progressPayloadÁ±ªÂûã: "+l(typeof L.progressPayload),1)):j("",!0)])]),!L.progressPayload&&L.allEventsMessages.length===0?(_(),h("div",pp," Á≠âÂæÖÊé•Êî∂events‰∏ªÈ¢òÊ∂àÊÅØ... ")):j("",!0)],512),[[us,!ye.value]])]),_:1})]),_:1})])]))}},vp=_s(cp,[["__scopeId","data-v-a2b463a0"]]);const gp={class:"remote-upgrade-container"},mp={class:"card-header"},fp={class:"firmware-info"},yp={class:"info-tip",style:{"margin-bottom":"15px",padding:"12px",background:"var(--el-color-info-light-9)","border-radius":"6px","border-left":"4px solid var(--el-color-info)"}},_p={style:{display:"flex","align-items":"flex-start",gap:"8px",color:"var(--el-color-info)","font-size":"13px"}},xp={class:"info-section"},bp={class:"info-item"},hp={class:"value"},wp={class:"info-item",style:{background:"var(--el-color-warning-light-9)",padding:"8px","border-radius":"4px",border:"1px solid var(--el-color-warning-light-7)"}},zp={class:"info-item"},$p={class:"value"},kp={class:"info-item"},Sp={class:"value"},Tp={class:"info-section"},Mp={class:"info-item"},Dp={class:"value"},Cp={class:"info-item",style:{background:"var(--el-color-warning-light-9)",padding:"8px","border-radius":"4px",border:"1px solid var(--el-color-warning-light-7)"}},Op={class:"info-item"},Pp={class:"value"},Np={class:"info-item"},Hp={class:"value"},Rp={class:"info-section"},jp={class:"info-item"},Ap={class:"info-item"},Lp={class:"info-item"},Vp={class:"info-item"},Up={class:"value"},Fp={class:"info-item",style:{"margin-top":"10px",padding:"8px",background:"var(--el-color-primary-light-9)","border-radius":"4px",border:"1px solid var(--el-color-primary-light-7)"}},Ip={class:"value",style:{color:"var(--el-color-primary-dark-2)"}},Jp={class:"card-header"},Ep={class:"upgrade-actions"},qp={class:"card-header"},Bp={class:"status-monitor"},Qp={key:0,class:"status-info"},Gp={class:"status-item"},Zp={class:"status-item"},Kp={class:"status-item"},Wp={class:"value"},Yp={key:0,class:"error-info",style:{"margin-top":"15px"}},Xp={key:1,class:"no-status"},e1={class:"card-header"},t1={class:"upgrade-history"},s1={class:"debug-info",style:{"margin-top":"20px"}},a1={style:{padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px"}},o1={style:{"margin-bottom":"10px"}},l1={style:{"margin-bottom":"10px"}},n1={style:{"margin-bottom":"10px"}},i1={key:0,style:{"margin-top":"10px"}},r1={style:{background:"var(--el-bg-color)",padding:"10px","border-radius":"4px","font-size":"11px","max-height":"200px","overflow-y":"auto"}},d1={__name:"RemoteUpgradeTab",props:{deviceSn:{type:String,required:!0},osdData:{type:Object,default:null},upgradeStatus:{type:Object,default:null},upgradeStatusPayload:{type:Object,default:null}},emits:["subscribeUpgrade","startUpgrade","checkStatus"],setup(L,{emit:Ct}){const z=L,Se=Ct,k=S(!1),ce=S(!1),n=S([]),f=S({deviceType:"aircraft",type:"firmware",fileUrl:"",fileName:"",productVersion:"",fileSize:"",md5:"",firmwareUpgradeType:2}),W=Ge(()=>{var H,v,T,ee,Ve;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.aircraft)==null?void 0:T.firmware_version)||((Ve=(ee=z.osdData)==null?void 0:ee.data)==null?void 0:Ve.firmware_version)||"--"}),ve=Ge(()=>{var H,v,T,ee,Ve;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.aircraft)==null?void 0:T.compatible_status)||((Ve=(ee=z.osdData)==null?void 0:ee.data)==null?void 0:Ve.compatible_status)||!1}),ye=Ge(()=>{var H,v,T;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.sub_device)==null?void 0:T.device_model_key)||"--"}),De=Ge(()=>{var H,v,T;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.sub_device)==null?void 0:T.device_sn)||"--"}),oe=Ge(()=>{var v,T,ee;return((ee=(T=(v=z.osdData)==null?void 0:v.data)==null?void 0:T.sub_device)==null?void 0:ee.device_online_status)===1}),le=Ge(()=>{var H,v,T;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.dock)==null?void 0:T.firmware_version)||"--"}),Me=Ge(()=>{var H,v,T;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.dock)==null?void 0:T.compatible_status)||!1}),nt=Ge(()=>{var H,v,T;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.dock)==null?void 0:T.device_model_key)||"--"}),lt=Ge(()=>{var H,v,T;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.dock)==null?void 0:T.device_sn)||z.deviceSn||"--"}),Ze=Ge(()=>{var H,v,T;return((T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.dock)==null?void 0:T.device_online_status)||!0}),Fe=Ge(()=>{var v,T,ee;return((ee=(T=(v=z.osdData)==null?void 0:v.data)==null?void 0:T.sub_device)==null?void 0:ee.device_paired)===1}),We=Ge(()=>{var H;return(H=z.osdData)!=null&&H.timestamp?new Date(z.osdData.timestamp).toLocaleString():"--"}),y=async()=>{var H,v,T;if(!f.value.fileUrl){A.warning("ËØ∑ËæìÂÖ•Âõ∫‰ª∂Êñá‰ª∂URL");return}if(!f.value.fileName){A.warning("ËØ∑ËæìÂÖ•Âõ∫‰ª∂Êñá‰ª∂Âêç");return}if(!f.value.productVersion){A.warning("ËØ∑ËæìÂÖ•Âõ∫‰ª∂ÁâàÊú¨");return}if(!f.value.deviceType){A.warning("ËØ∑ÈÄâÊã©ËÆæÂ§áÁ±ªÂûã");return}k.value=!0;try{const ee={sn:f.value.deviceType==="aircraft"?(T=(v=(H=z.osdData)==null?void 0:H.data)==null?void 0:v.sub_device)==null?void 0:T.device_sn:z.deviceSn,product_version:f.value.productVersion,firmware_upgrade_type:f.value.firmwareUpgradeType};f.value.deviceType==="aircraft"&&f.value.fileUrl&&(ee.file_url=f.value.fileUrl,ee.file_name=f.value.fileName,f.value.md5&&(ee.md5=f.value.md5),f.value.fileSize&&(ee.file_size=parseInt(f.value.fileSize))),Se("startUpgrade",{method:"ota_create",data:{devices:[ee]}}),A.success(`${f.value.deviceType==="aircraft"?"È£ûÊú∫":"Êú∫Âú∫"}OTAÂçáÁ∫ßËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅ`)}catch(ee){A.error("ÂçáÁ∫ßËØ∑Ê±ÇÂèëÈÄÅÂ§±Ë¥•: "+ee.message)}finally{k.value=!1}},x=()=>{f.value={deviceType:"aircraft",type:"firmware",fileUrl:"",fileName:"",productVersion:"",fileSize:"",md5:"",firmwareUpgradeType:2}},M=()=>{Se("checkStatus"),A.info("Áä∂ÊÄÅÊ£ÄÊü•ËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅ")},Q=()=>{ce.value=!0,Se("subscribeUpgrade"),setTimeout(()=>{ce.value=!1},2e3)},Ie=()=>{n.value=[{timestamp:Date.now()-36e5,deviceType:"aircraft",type:"Âõ∫‰ª∂ÂçáÁ∫ß",version:"1.0.0",status:"completed",result:0,error:""},{timestamp:Date.now()-72e5,deviceType:"dock",type:"Â∫îÁî®ÂçáÁ∫ß",version:"2.1.0",status:"failed",result:1,error:"ÂçáÁ∫ßË∂ÖÊó∂"},{timestamp:Date.now()-108e5,deviceType:"aircraft",type:"Á≥ªÁªüÂçáÁ∫ß",version:"1.5.0",status:"completed",result:0,error:""}],A.success("ÂéÜÂè≤ËÆ∞ÂΩïÂ∑≤Âà∑Êñ∞")},it=H=>({sent:"info",in_progress:"primary",ok:"success",failed:"danger",canceled:"warning",paused:"warning",rejected:"danger",timeout:"danger",pending:"info",downloading:"primary",installing:"warning",completed:"success",cancelled:"info"})[H]||"info",Ht=H=>({sent:"Â∑≤‰∏ãÂèë",in_progress:"ÊâßË°å‰∏≠",ok:"ÊâßË°åÊàêÂäü",failed:"Â§±Ë¥•",canceled:"ÂèñÊ∂àÊàñÁªàÊ≠¢",paused:"ÊöÇÂÅú",rejected:"ÊãíÁªù",timeout:"Ë∂ÖÊó∂",pending:"Á≠âÂæÖ‰∏≠",downloading:"‰∏ãËΩΩ‰∏≠",installing:"ÂÆâË£Ö‰∏≠",completed:"Â∑≤ÂÆåÊàê",cancelled:"Â∑≤ÂèñÊ∂à"})[H]||"Êú™Áü•",Je=H=>H==="failed"||H==="rejected"||H==="timeout"?"exception":H==="completed"||H==="ok"?"success":"",Wt=H=>H?new Date(H).toLocaleString():"--",ts=()=>{if(!z.upgradeStatusPayload)return"";try{const H=typeof z.upgradeStatusPayload=="string"?JSON.parse(z.upgradeStatusPayload):z.upgradeStatusPayload;return JSON.stringify(H,null,2)}catch{return String(z.upgradeStatusPayload)}};return xs(()=>{Ie()}),(H,v)=>{const T=B("el-icon"),ee=B("el-tag"),Ve=B("el-col"),ut=B("el-row"),Ot=B("el-card"),pt=B("el-option"),Ye=B("el-select"),g=B("el-form-item"),b=B("el-input"),w=B("el-button"),u=B("el-form"),o=B("el-progress"),O=B("el-alert"),X=B("el-empty"),K=B("el-table-column"),$=B("el-table"),P=B("el-collapse-item"),I=B("el-collapse");return _(),h("div",gp,[t(Ot,{class:"upgrade-card",shadow:"hover",style:{"margin-bottom":"20px"}},{header:s(()=>[e("div",mp,[t(T,null,{default:s(()=>[t(d(ta))]),_:1}),v[9]||(v[9]=e("span",null,"Âõ∫‰ª∂Â±ûÊÄß‰∏äÊä•",-1)),t(ee,{type:"info",size:"small",style:{"margin-left":"auto"}},{default:s(()=>[...v[8]||(v[8]=[r(" Topic: thing/product/{gateway_sn}/osd ",-1)])]),_:1})])]),default:s(()=>[e("div",fp,[e("div",yp,[e("div",_p,[t(T,{style:{"margin-top":"2px"}},{default:s(()=>[t(d(sa))]),_:1}),v[10]||(v[10]=e("div",null,[e("div",{style:{"font-weight":"600","margin-bottom":"4px"}},"Âõ∫‰ª∂Â±ûÊÄß‰∏äÊä•ËØ¥ÊòéÔºö"),e("div",{style:{"line-height":"1.5"}},[r(" ‚Ä¢ Âõ∫‰ª∂‰ø°ÊÅØÂè™ÊúâÂú®ËÆæÂ§áÂèòÂä®Êó∂Êâç‰ºöÊòæÁ§∫"),e("br"),r(" ‚Ä¢ ‰∏ªË¶ÅÂÖ≥Ê≥®"),e("strong",null,"Âõ∫‰ª∂‰∏ÄËá¥ÊÄßÁä∂ÊÄÅ"),r("ÔºåÁî®‰∫éÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÂçáÁ∫ß"),e("br"),r(" ‚Ä¢ È£ûÊú∫ÂºÄÊú∫Áä∂ÊÄÅË°®Á§∫Êú∫Âú∫ÂÅúÊú∫Âù™‰∏äÁöÑÈ£ûË°åÂô®ÊòØÂê¶ÂºÄÊú∫"),e("br"),r(" ‚Ä¢ ÂØπÈ¢ëÁä∂ÊÄÅË°®Á§∫È£ûË°åÂô®ÊòØÂê¶‰∏éÊú∫Âú∫ÂÆåÊàêÂØπÈ¢ëËøûÊé•"),e("br"),r(" ‚Ä¢ Âõ∫‰ª∂ÁâàÊú¨‰ø°ÊÅØ‰Ωú‰∏∫ÂèÇËÄÉÔºåÂÆûÈôÖÂçáÁ∫ß‰ª•‰∏ÄËá¥ÊÄßÁä∂ÊÄÅ‰∏∫ÂáÜ ")])],-1))])]),t(ut,{gutter:20},{default:s(()=>[t(Ve,{span:8},{default:s(()=>[e("div",xp,[v[15]||(v[15]=e("h4",null,"È£ûÊú∫Âõ∫‰ª∂‰ø°ÊÅØ",-1)),e("div",bp,[v[11]||(v[11]=e("span",{class:"label"},"Âõ∫‰ª∂ÁâàÊú¨:",-1)),e("span",hp,l(W.value||"--"),1)]),e("div",wp,[v[12]||(v[12]=e("span",{class:"label",style:{"font-weight":"600",color:"var(--el-color-warning-dark-2)"}},"Âõ∫‰ª∂‰∏ÄËá¥ÊÄß:",-1)),t(ee,{type:ve.value?"warning":"success",size:"small",style:{"font-weight":"600"}},{default:s(()=>[r(l(ve.value?"ÈúÄË¶ÅÂçáÁ∫ß":"Ê≠£Â∏∏"),1)]),_:1},8,["type"])]),e("div",zp,[v[13]||(v[13]=e("span",{class:"label"},"ËÆæÂ§áÂûãÂè∑:",-1)),e("span",$p,l(ye.value||"--"),1)]),e("div",kp,[v[14]||(v[14]=e("span",{class:"label"},"ËÆæÂ§áÂ∫èÂàóÂè∑:",-1)),e("span",Sp,l(De.value||"--"),1)])])]),_:1}),t(Ve,{span:8},{default:s(()=>[e("div",Tp,[v[20]||(v[20]=e("h4",null,"Êú∫Âú∫Âõ∫‰ª∂‰ø°ÊÅØ",-1)),e("div",Mp,[v[16]||(v[16]=e("span",{class:"label"},"Âõ∫‰ª∂ÁâàÊú¨:",-1)),e("span",Dp,l(le.value||"--"),1)]),e("div",Cp,[v[17]||(v[17]=e("span",{class:"label",style:{"font-weight":"600",color:"var(--el-color-warning-dark-2)"}},"Âõ∫‰ª∂‰∏ÄËá¥ÊÄß:",-1)),t(ee,{type:Me.value?"warning":"success",size:"small",style:{"font-weight":"600"}},{default:s(()=>[r(l(Me.value?"ÈúÄË¶ÅÂçáÁ∫ß":"Ê≠£Â∏∏"),1)]),_:1},8,["type"])]),e("div",Op,[v[18]||(v[18]=e("span",{class:"label"},"ËÆæÂ§áÂûãÂè∑:",-1)),e("span",Pp,l(nt.value||"--"),1)]),e("div",Np,[v[19]||(v[19]=e("span",{class:"label"},"ËÆæÂ§áÂ∫èÂàóÂè∑:",-1)),e("span",Hp,l(lt.value||"--"),1)])])]),_:1}),t(Ve,{span:8},{default:s(()=>[e("div",Rp,[v[26]||(v[26]=e("h4",null,"Á≥ªÁªüÁä∂ÊÄÅ",-1)),e("div",jp,[v[21]||(v[21]=e("span",{class:"label"},"È£ûÊú∫ÂºÄÊú∫Áä∂ÊÄÅ:",-1)),t(ee,{type:oe.value?"success":"danger",size:"small"},{default:s(()=>[r(l(oe.value?"ÂºÄÊú∫":"ÂÖ≥Êú∫"),1)]),_:1},8,["type"])]),e("div",Ap,[v[22]||(v[22]=e("span",{class:"label"},"Êú∫Âú∫Âú®Á∫ø:",-1)),t(ee,{type:Ze.value?"success":"danger",size:"small"},{default:s(()=>[r(l(Ze.value?"Âú®Á∫ø":"Á¶ªÁ∫ø"),1)]),_:1},8,["type"])]),e("div",Lp,[v[23]||(v[23]=e("span",{class:"label"},"ÂØπÈ¢ëÁä∂ÊÄÅ:",-1)),t(ee,{type:Fe.value?"success":"warning",size:"small"},{default:s(()=>[r(l(Fe.value?"Â∑≤ÂØπÈ¢ë":"Êú™ÂØπÈ¢ë"),1)]),_:1},8,["type"])]),e("div",Vp,[v[24]||(v[24]=e("span",{class:"label"},"ÊúÄÂêéÊõ¥Êñ∞:",-1)),e("span",Up,l(We.value||"--"),1)]),e("div",Fp,[v[25]||(v[25]=e("span",{class:"label",style:{"font-weight":"600",color:"var(--el-color-primary-dark-2)"}},"ÂçáÁ∫ßÂª∫ËÆÆ:",-1)),e("span",Ip,l(ve.value||Me.value?"Ê£ÄÊµãÂà∞ËÆæÂ§áÈúÄË¶ÅÂçáÁ∫ß":"ÊâÄÊúâËÆæÂ§áÂõ∫‰ª∂Ê≠£Â∏∏"),1)])])]),_:1})]),_:1})])]),_:1}),t(Ot,{class:"upgrade-card",shadow:"hover",style:{"margin-bottom":"20px"}},{header:s(()=>[e("div",Jp,[t(T,null,{default:s(()=>[t(d(aa))]),_:1}),v[28]||(v[28]=e("span",null,"Âõ∫‰ª∂ÂçáÁ∫ßÊìç‰Ωú",-1)),t(ee,{type:"primary",size:"small",style:{"margin-left":"auto"}},{default:s(()=>[...v[27]||(v[27]=[r(" Topic: thing/product/{gateway_sn}/services | Method: ota_create ",-1)])]),_:1})])]),default:s(()=>[e("div",Ep,[t(u,{model:f.value,"label-width":"120px",size:"small"},{default:s(()=>[t(g,{label:"ËÆæÂ§áÁ±ªÂûã"},{default:s(()=>[t(Ye,{modelValue:f.value.deviceType,"onUpdate:modelValue":v[0]||(v[0]=G=>f.value.deviceType=G),placeholder:"ÈÄâÊã©ËÆæÂ§áÁ±ªÂûã",style:{width:"200px"}},{default:s(()=>[t(pt,{label:"È£ûÊú∫Âõ∫‰ª∂",value:"aircraft"}),t(pt,{label:"Êú∫Âú∫Âõ∫‰ª∂",value:"dock"})]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"ÂçáÁ∫ßÁ±ªÂûã"},{default:s(()=>[t(Ye,{modelValue:f.value.type,"onUpdate:modelValue":v[1]||(v[1]=G=>f.value.type=G),placeholder:"ÈÄâÊã©ÂçáÁ∫ßÁ±ªÂûã",style:{width:"200px"}},{default:s(()=>[t(pt,{label:"Âõ∫‰ª∂ÂçáÁ∫ß",value:"firmware"}),t(pt,{label:"Â∫îÁî®ÂçáÁ∫ß",value:"application"}),t(pt,{label:"Á≥ªÁªüÂçáÁ∫ß",value:"system"})]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"Âõ∫‰ª∂Êñá‰ª∂URL"},{default:s(()=>[t(b,{modelValue:f.value.fileUrl,"onUpdate:modelValue":v[2]||(v[2]=G=>f.value.fileUrl=G),placeholder:"Âõ∫‰ª∂Êñá‰ª∂‰∏ãËΩΩÂú∞ÂùÄ",style:{width:"400px"}},null,8,["modelValue"])]),_:1}),t(g,{label:"Âõ∫‰ª∂Êñá‰ª∂Âêç"},{default:s(()=>[t(b,{modelValue:f.value.fileName,"onUpdate:modelValue":v[3]||(v[3]=G=>f.value.fileName=G),placeholder:"Âõ∫‰ª∂Êñá‰ª∂ÂêçÁß∞",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),t(g,{label:"Âõ∫‰ª∂ÁâàÊú¨"},{default:s(()=>[t(b,{modelValue:f.value.productVersion,"onUpdate:modelValue":v[4]||(v[4]=G=>f.value.productVersion=G),placeholder:"Âõ∫‰ª∂ÁâàÊú¨Âè∑",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(g,{label:"Êñá‰ª∂Â§ßÂ∞è"},{default:s(()=>[t(b,{modelValue:f.value.fileSize,"onUpdate:modelValue":v[5]||(v[5]=G=>f.value.fileSize=G),placeholder:"Êñá‰ª∂Â§ßÂ∞è(Â≠óËäÇ)",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(g,{label:"MD5Ê†°È™å"},{default:s(()=>[t(b,{modelValue:f.value.md5,"onUpdate:modelValue":v[6]||(v[6]=G=>f.value.md5=G),placeholder:"Êñá‰ª∂MD5ÂÄº",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),t(g,{label:"ÂçáÁ∫ßÁ±ªÂûã"},{default:s(()=>[t(Ye,{modelValue:f.value.firmwareUpgradeType,"onUpdate:modelValue":v[7]||(v[7]=G=>f.value.firmwareUpgradeType=G),placeholder:"ÈÄâÊã©ÂçáÁ∫ßÁ±ªÂûã",style:{width:"200px"}},{default:s(()=>[t(pt,{label:"‰∏ÄËá¥ÊÄßÂçáÁ∫ß",value:2}),t(pt,{label:"ÊôÆÈÄöÂçáÁ∫ß",value:3})]),_:1},8,["modelValue"])]),_:1}),t(g,null,{default:s(()=>[t(w,{type:"primary",loading:k.value,onClick:y,disabled:!f.value.firmwareUrl},{default:s(()=>[...v[29]||(v[29]=[r(" ÂºÄÂßãÂçáÁ∫ß ",-1)])]),_:1},8,["loading","disabled"]),t(w,{onClick:x},{default:s(()=>[...v[30]||(v[30]=[r("ÈáçÁΩÆ",-1)])]),_:1}),t(w,{type:"warning",onClick:M},{default:s(()=>[...v[31]||(v[31]=[r("Ê£ÄÊü•Áä∂ÊÄÅ",-1)])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),t(Ot,{class:"upgrade-card",shadow:"hover",style:{"margin-bottom":"20px"}},{header:s(()=>[e("div",qp,[t(T,null,{default:s(()=>[t(d(Js))]),_:1}),v[34]||(v[34]=e("span",null,"ÂçáÁ∫ßÁä∂ÊÄÅÁõëÊéß",-1)),t(ee,{type:"info",size:"small",style:{"margin-left":"auto","margin-right":"10px"}},{default:s(()=>[...v[32]||(v[32]=[r(" Topic: thing/product/{gateway_sn}/services_reply | Method: ota_create ",-1)])]),_:1}),t(w,{type:"primary",size:"small",loading:ce.value,onClick:Q},{default:s(()=>[...v[33]||(v[33]=[r(" ÊâãÂä®ËÆ¢ÈòÖÁä∂ÊÄÅ ",-1)])]),_:1},8,["loading"])])]),default:s(()=>[e("div",Bp,[z.upgradeStatus?(_(),h("div",Qp,[t(ut,{gutter:20},{default:s(()=>[t(Ve,{span:8},{default:s(()=>[e("div",Gp,[v[35]||(v[35]=e("span",{class:"label"},"ÂçáÁ∫ßÁä∂ÊÄÅ:",-1)),t(ee,{type:it(z.upgradeStatus.status),size:"small"},{default:s(()=>[r(l(Ht(z.upgradeStatus.status)),1)]),_:1},8,["type"])])]),_:1}),t(Ve,{span:8},{default:s(()=>[e("div",Zp,[v[36]||(v[36]=e("span",{class:"label"},"ËøõÂ∫¶:",-1)),t(o,{percentage:z.upgradeStatus.progress||0,status:Je(z.upgradeStatus.status),style:{width:"150px"}},null,8,["percentage","status"])])]),_:1}),t(Ve,{span:8},{default:s(()=>[e("div",Kp,[v[37]||(v[37]=e("span",{class:"label"},"Ââ©‰ΩôÊó∂Èó¥:",-1)),e("span",Wp,l(z.upgradeStatus.remainingTime||"--"),1)])]),_:1})]),_:1}),z.upgradeStatus.error?(_(),h("div",Yp,[t(O,{title:z.upgradeStatus.error,type:"error",closable:!1,"show-icon":""},null,8,["title"])])):j("",!0)])):(_(),h("div",Xp,[t(X,{description:"Á≠âÂæÖÂçáÁ∫ßÁä∂ÊÄÅÊï∞ÊçÆ...","image-size":80})]))])]),_:1}),t(Ot,{class:"upgrade-card",shadow:"hover"},{header:s(()=>[e("div",e1,[t(T,null,{default:s(()=>[t(d(Qs))]),_:1}),v[39]||(v[39]=e("span",null,"ÂçáÁ∫ßÂéÜÂè≤ËÆ∞ÂΩï",-1)),t(w,{type:"primary",size:"small",onClick:Ie,style:{"margin-left":"auto"}},{default:s(()=>[...v[38]||(v[38]=[r(" Âà∑Êñ∞ËÆ∞ÂΩï ",-1)])]),_:1})])]),default:s(()=>[e("div",t1,[t($,{data:n.value,size:"small",height:"300",border:""},{default:s(()=>[t(K,{prop:"timestamp",label:"Êó∂Èó¥",width:"180"},{default:s(G=>[r(l(Wt(G.row.timestamp)),1)]),_:1}),t(K,{prop:"deviceType",label:"ËÆæÂ§áÁ±ªÂûã",width:"100"},{default:s(G=>[t(ee,{type:G.row.deviceType==="aircraft"?"primary":"info",size:"small"},{default:s(()=>[r(l(G.row.deviceType==="aircraft"?"È£ûÊú∫":"Êú∫Âú∫"),1)]),_:2},1032,["type"])]),_:1}),t(K,{prop:"type",label:"ÂçáÁ∫ßÁ±ªÂûã",width:"100"}),t(K,{prop:"version",label:"ÁâàÊú¨",width:"120"}),t(K,{prop:"status",label:"Áä∂ÊÄÅ",width:"100"},{default:s(G=>[t(ee,{type:it(G.row.status),size:"small"},{default:s(()=>[r(l(Ht(G.row.status)),1)]),_:2},1032,["type"])]),_:1}),t(K,{prop:"result",label:"ÁªìÊûú",width:"100"},{default:s(G=>[t(ee,{type:G.row.result===0?"success":"danger",size:"small"},{default:s(()=>[r(l(G.row.result===0?"ÊàêÂäü":"Â§±Ë¥•"),1)]),_:2},1032,["type"])]),_:1}),t(K,{prop:"error",label:"ÈîôËØØ‰ø°ÊÅØ"})]),_:1},8,["data"])])]),_:1}),e("div",s1,[t(I,null,{default:s(()=>[t(P,{title:"Ë∞ÉËØï‰ø°ÊÅØ",name:"debug"},{default:s(()=>[e("div",a1,[e("div",o1,[v[40]||(v[40]=e("strong",null,"Âõ∫‰ª∂Êï∞ÊçÆÁä∂ÊÄÅ:",-1)),r(" "+l(L.osdData?"Â∑≤Êé•Êî∂":"Êú™Êé•Êî∂"),1)]),e("div",l1,[v[41]||(v[41]=e("strong",null,"ÂçáÁ∫ßÁä∂ÊÄÅÊï∞ÊçÆ:",-1)),r(" "+l(z.upgradeStatus?"Â∑≤Êé•Êî∂":"Êú™Êé•Êî∂"),1)]),e("div",n1,[v[42]||(v[42]=e("strong",null,"ÂéÜÂè≤ËÆ∞ÂΩïÊï∞Èáè:",-1)),r(" "+l(n.value.length),1)]),z.upgradeStatusPayload?(_(),h("div",i1,[v[43]||(v[43]=e("div",{style:{"margin-bottom":"5px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ÊúÄÊñ∞ÂçáÁ∫ßÁä∂ÊÄÅÊï∞ÊçÆÔºö ",-1)),e("pre",r1,l(ts()),1)])):j("",!0)])]),_:1})]),_:1})])])}}},u1=_s(d1,[["__scopeId","data-v-50743dea"]]),p1={style:{padding:"8px 0",color:"var(--el-text-color-regular)","font-size":"13px",display:"flex","flex-direction":"column",gap:"10px"}},c1={style:{display:"flex","align-items":"center",gap:"8px"}},v1={key:0,style:{display:"flex","align-items":"center",gap:"8px"}},g1={style:{"margin-bottom":"15px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},m1={style:{color:"var(--el-text-color-regular)","font-size":"13px","line-height":"1.6"}},f1={style:{"margin-top":"10px"}},y1={style:{"margin-bottom":"15px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},_1={style:{"margin-bottom":"8px"}},x1={style:{color:"var(--el-text-color-regular)","font-size":"13px","font-weight":"600"}},b1={style:{display:"flex",gap:"15px","font-size":"12px"}},h1={style:{color:"var(--el-color-danger)","font-weight":"600"}},w1={key:0,style:{"margin-bottom":"15px"}},z1={style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px"}},$1=["onClick"],k1={style:{"font-family":"monospace",color:"var(--el-text-color-regular)","margin-bottom":"2px"}},S1={style:{color:"var(--el-text-color-primary)","font-weight":"500"}},T1={style:{"font-size":"12px"}},M1={style:{"font-size":"11px"}},D1={style:{"font-size":"11px",color:"var(--el-text-color-regular)"}},C1={style:{"margin-top":"15px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},O1={style:{"font-size":"11px",color:"var(--el-text-color-placeholder)","line-height":"1.4"}},P1={key:0},N1={key:1,style:{"margin-top":"15px"}},H1={style:{background:"var(--el-bg-color-page)",padding:"10px","border-radius":"4px",border:"1px solid var(--el-border-color-light)","font-size":"11px","max-height":"300px","overflow-y":"auto"}},R1={key:2,style:{"margin-top":"15px","text-align":"center",padding:"20px",color:"var(--el-text-color-regular)","font-size":"12px"}},j1={style:{"margin-bottom":"10px"}},A1={key:3,style:{"margin-top":"15px","text-align":"center",padding:"20px",color:"var(--el-text-color-placeholder)","font-size":"12px"}},L1={__name:"HmsTab",props:{airportSn:String,hmsPayload:[Object,String],hmsData:Array},emits:["subscribeHms"],setup(L,{emit:Ct}){const z=L,Se=Ct,k=S(!1),ce=S(!1),n=S({}),f=()=>{k.value=!k.value},W=async()=>{try{const y=await fetch("/docs/hms.json");y.ok?(n.value=await y.json(),console.log("‚úÖ HMSÂëäË≠¶Á†ÅÊò†Â∞ÑÊï∞ÊçÆÂä†ËΩΩÊàêÂäü")):console.error("‚ùå Âä†ËΩΩHMSÊò†Â∞ÑÊï∞ÊçÆÂ§±Ë¥•:",y.status)}catch(y){console.error("‚ùå Âä†ËΩΩHMSÊò†Â∞ÑÊï∞ÊçÆÂ§±Ë¥•:",y)}};xs(()=>{W()});const ve=async()=>{try{ce.value=!0;const y=z.airportSn;if(!y||y==="--"){A.error("Áº∫Â∞ëÁΩëÂÖ≥SNÔºàÊú∫Âú∫SNÔºâ");return}if(!Ts().isConnected){A.error("MQTTÊú™ËøûÊé•ÔºåËØ∑ÂÖàËøûÊé•MQTTÊúçÂä°");return}const M=`thing/product/${y}/events`;console.log("=== ÊâãÂä®ËÆ¢ÈòÖHMSÂëäË≠¶Topic ==="),console.log("Topic:",M),console.log("Gateway SN:",y),Se("subscribeHms",{topic:M,gatewaySn:y}),A.success("Â∑≤ÂèëÈÄÅËÆ¢ÈòÖËØ∑Ê±ÇÔºåËØ∑Êü•ÁúãÊéßÂà∂Âè∞Á°ÆËÆ§ËÆ¢ÈòÖÁªìÊûú"),console.log("üì° ËÆ¢ÈòÖËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅÔºåÁ≠âÂæÖÁà∂ÁªÑ‰ª∂Â§ÑÁêÜ...")}catch(y){console.error("ËÆ¢ÈòÖHMSÂëäË≠¶Â§±Ë¥•:",y),A.error("ËÆ¢ÈòÖÂ§±Ë¥•: "+((y==null?void 0:y.message)||"Êú™Áü•ÈîôËØØ"))}finally{ce.value=!1}},ye=y=>({0:"info",1:"warning",2:"danger"})[y]||"info",De=y=>({0:"ÈÄöÁü•",1:"ÊèêÈÜí",2:"Ë≠¶Âëä"})[y]||"Êú™Áü•",oe=y=>({0:"primary",1:"success",2:"warning",3:"info"})[y]||"info",le=y=>({0:"È£ûË°å‰ªªÂä°",1:"ËÆæÂ§áÁÆ°ÁêÜ",2:"Â™í‰Ωì",3:"HMS"})[y]||"Êú™Áü•",Me=()=>{if(z.hmsPayload)try{const y=typeof z.hmsPayload=="string"?JSON.parse(z.hmsPayload):z.hmsPayload;if(y.timestamp)return new Date(y.timestamp).toLocaleString()}catch(y){console.error("Ëß£ÊûêHMSÊï∞ÊçÆÂ§±Ë¥•:",y)}return"Êú™Ê£ÄÊµã"},nt=y=>{if(!y||!n.value)return null;const x=[y,`dock_tip_${y}`,`aircraft_tip_${y}`,`payload_tip_${y}`,`remote_controller_tip_${y}`];for(const M of x)if(n.value[M])return n.value[M];return null},lt=y=>{const x=nt(y);return x&&(x.zh||x.en)||"Êú™Áü•ÂëäË≠¶"},Ze=()=>{if(!z.hmsPayload)return"";try{const y=typeof z.hmsPayload=="string"?JSON.parse(z.hmsPayload):z.hmsPayload;return JSON.stringify(y,null,2)}catch(y){return console.error("Ê†ºÂºèÂåñHMSÊ∂àÊÅØÂ§±Ë¥•:",y),String(z.hmsPayload)}},Fe=y=>{if(!y)return"--";try{if(typeof y=="number")return new Date(y).toLocaleString();if(typeof y=="string"){const x=parseInt(y);if(!isNaN(x))return new Date(x).toLocaleString()}return"--"}catch(x){return console.error("Ê†ºÂºèÂåñÂëäË≠¶Êó∂Èó¥Â§±Ë¥•:",x),"--"}},We=y=>{const x=nt(y.code);x?A({message:`ÂëäË≠¶Á†Å: ${y.code}
‰∏≠ÊñáÊèèËø∞: ${x.zh||"Êó†"}
Ëã±ÊñáÊèèËø∞: ${x.en||"Êó†"}`,type:"info",duration:5e3,showClose:!0}):A.warning("Êú™ÊâæÂà∞ËØ•ÂëäË≠¶Á†ÅÁöÑËØ¶ÁªÜ‰ø°ÊÅØ")};return(y,x)=>(_(),h("div",p1,[t(d(ns),{shadow:"never"},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:f},[e("div",c1,[t(d(ps),{style:es({transform:k.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),x[4]||(x[4]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"HMSÂÅ•Â∫∑ÂëäË≠¶ÁõëÊéß",-1)),k.value?j("",!0):(_(),h("div",v1,[t(d(he),{size:"small",type:"success"},{default:s(()=>[...x[0]||(x[0]=[r("ÂÆûÊó∂ÁõëÊéß",-1)])]),_:1}),t(d(he),{size:"small",type:"info"},{default:s(()=>[...x[1]||(x[1]=[r("Topic: thing/product/{gateway_sn}/events",-1)])]),_:1}),t(d(he),{size:"small",type:"warning"},{default:s(()=>[...x[2]||(x[2]=[r("Direction: up",-1)])]),_:1}),t(d(he),{size:"small",type:"primary"},{default:s(()=>[...x[3]||(x[3]=[r("Method: hms",-1)])]),_:1})]))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",g1,[e("div",m1,[x[6]||(x[6]=e("div",{style:{"margin-bottom":"8px"}},[e("strong",null,"ÊñπÊ≥ïËØ¥ÊòéÔºö")],-1)),x[7]||(x[7]=e("div",null,[e("strong",null,"Topic:"),r(" thing/product/{gateway_sn}/events")],-1)),x[8]||(x[8]=e("div",null,[e("strong",null,"Direction:"),r(" up (ËÆæÂ§áÁ´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅ)")],-1)),x[9]||(x[9]=e("div",null,[e("strong",null,"Method:"),r(" hms")],-1)),x[10]||(x[10]=e("div",{style:{"margin-top":"8px",color:"var(--el-text-color-placeholder)","font-size":"12px"}}," ËØ∑ÊâãÂä®ËÆ¢ÈòÖÊ≠§TopicÊù•Êé•Êî∂ÂÆûÊó∂ÁöÑÂÅ•Â∫∑ÂëäË≠¶ÈÄöÁü• ",-1)),e("div",f1,[t(d(Dt),{type:"success",onClick:ve,loading:ce.value,size:"small"},{default:s(()=>[t(d(ps),null,{default:s(()=>[t(d(Ps))]),_:1}),x[5]||(x[5]=r(" ÊâãÂä®ËÆ¢ÈòÖHMSÂëäË≠¶ ",-1))]),_:1},8,["loading"])])])]),e("div",y1,[e("div",_1,[e("div",x1," ÂÅ•Â∫∑Ê£ÄÊµãÁä∂ÊÄÅ - ÊúÄÊñ∞Ê£ÄÊµã: "+l(Me()),1)]),e("div",b1,[e("div",null,[x[11]||(x[11]=e("span",{style:{color:"var(--el-text-color-regular)"}},"ÂëäË≠¶Êï∞Èáè:",-1)),e("span",h1,l(L.hmsData.length),1)]),e("div",null,[x[12]||(x[12]=e("span",{style:{color:"var(--el-text-color-regular)"}},"Ê£ÄÊµãÁä∂ÊÄÅ:",-1)),t(d(he),{type:L.hmsData.length>0?"danger":"success",size:"small"},{default:s(()=>[r(l(L.hmsData.length>0?"ÊúâÂëäË≠¶":"Ê≠£Â∏∏"),1)]),_:1},8,["type"])])])]),L.hmsData.length>0?(_(),h("div",w1,[e("div",z1," ÂÅ•Â∫∑ÂëäË≠¶ÂàóË°® ("+l(L.hmsData.length)+"Êù°)Ôºö ",1),t(d(ms),{data:L.hmsData,size:"small",height:"300",border:"",stripe:"",style:{"margin-bottom":"15px"}},{default:s(()=>[t(d(ae),{prop:"level",label:"ÂëäË≠¶Á≠âÁ∫ß",width:"100"},{default:s(M=>[t(d(he),{type:ye(M.row.level),size:"small"},{default:s(()=>[r(l(De(M.row.level)),1)]),_:2},1032,["type"])]),_:1}),t(d(ae),{prop:"module",label:"‰∫ã‰ª∂Ê®°Âùó",width:"100"},{default:s(M=>[t(d(he),{type:oe(M.row.module),size:"small"},{default:s(()=>[r(l(le(M.row.module)),1)]),_:2},1032,["type"])]),_:1}),t(d(ae),{prop:"in_the_sky",label:"È£ûË°åÁä∂ÊÄÅ",width:"100"},{default:s(M=>[t(d(he),{type:M.row.in_the_sky?"warning":"info",size:"small"},{default:s(()=>[r(l(M.row.in_the_sky?"Âú®Â§©‰∏ä":"Âú®Âú∞‰∏ä"),1)]),_:2},1032,["type"])]),_:1}),t(d(ae),{prop:"code",label:"ÂëäË≠¶Á†Å",width:"200"},{default:s(M=>[e("div",{style:{"font-size":"12px",cursor:"pointer"},onClick:Q=>We(M.row)},[e("div",k1,l(M.row.code),1),e("div",S1,l(lt(M.row.code)),1),x[13]||(x[13]=e("div",{style:{color:"var(--el-text-color-placeholder)","font-size":"10px","margin-top":"2px"}}," ÁÇπÂáªÊü•ÁúãËØ¶ÊÉÖ ",-1))],8,$1)]),_:1}),t(d(ae),{prop:"device_type",label:"ËÆæÂ§áÁ±ªÂûã",width:"120"},{default:s(M=>[e("span",T1,l(M.row.device_type),1)]),_:1}),t(d(ae),{prop:"imminent",label:"ÂèäÊó∂ÊÄß",width:"80"},{default:s(M=>[t(d(he),{type:M.row.imminent?"danger":"success",size:"small"},{default:s(()=>[r(l(M.row.imminent?"ÊòØ":"Âê¶"),1)]),_:2},1032,["type"])]),_:1}),t(d(ae),{prop:"args",label:"ÂèÇÊï∞",width:"120"},{default:s(M=>{var Q,Ie;return[e("div",M1,[e("div",null,"ÁªÑ‰ª∂: "+l(((Q=M.row.args)==null?void 0:Q.component_index)||"--"),1),e("div",null,"‰º†ÊÑüÂô®: "+l(((Ie=M.row.args)==null?void 0:Ie.sensor_index)||"--"),1)])]}),_:1}),t(d(ae),{prop:"timestamp",label:"ÂëäË≠¶Êó∂Èó¥",width:"150"},{default:s(M=>[e("div",D1,l(Fe(M.row.timestamp)),1)]),_:1})]),_:1},8,["data"])])):j("",!0),e("div",C1,[x[14]||(x[14]=e("div",{style:{"font-size":"12px",color:"var(--el-text-color-regular)","margin-bottom":"8px"}},[e("strong",null,"Ë∞ÉËØï‰ø°ÊÅØÔºö")],-1)),e("div",O1,[e("div",null,"hmsPayload: "+l(L.hmsPayload?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"ÂëäË≠¶Êï∞ÊçÆ: "+l(L.hmsData.length)+"Êù°",1),L.hmsPayload?(_(),h("div",P1,"hmsPayloadÁ±ªÂûã: "+l(typeof L.hmsPayload),1)):j("",!0)])]),L.hmsPayload&&L.hmsData.length>0?(_(),h("div",N1,[x[15]||(x[15]=e("div",{style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ÂÆåÊï¥HMSÊ∂àÊÅØÔºö ",-1)),e("pre",H1,l(Ze()),1)])):j("",!0),L.hmsPayload&&L.hmsData.length===0?(_(),h("div",R1,[e("div",j1,[t(d(ps),{size:"48",color:"var(--el-color-success)"},{default:s(()=>[t(d(oa))]),_:1})]),x[16]||(x[16]=e("div",{style:{"font-size":"14px","margin-bottom":"8px",color:"var(--el-color-success)"}},"Á≥ªÁªüÂÅ•Â∫∑Áä∂ÊÄÅÊ≠£Â∏∏",-1)),x[17]||(x[17]=e("div",{style:{color:"var(--el-text-color-placeholder)"}},"ÊöÇÊó†ÂÅ•Â∫∑ÂëäË≠¶",-1))])):j("",!0),L.hmsPayload?j("",!0):(_(),h("div",A1," Á≠âÂæÖÊé•Êî∂HMSÂÅ•Â∫∑Ê£ÄÊµãÊï∞ÊçÆ... "))],512),[[us,!k.value]])]),_:1})]),_:1})]))}};const V1={class:"aircraft-detail"},U1={class:"header-left"},F1={class:"header-right"},I1={style:{padding:"8px 0",display:"flex","justify-content":"space-between","align-items":"center"}},J1={style:{display:"flex",gap:"8px"}},E1={style:{"font-family":"monospace"}},q1={__name:"AircraftDetail",setup(L){const Ct=la(),z=na(),Se=Ts(),k=js(),ce=S(Ct.params.deviceSn||Ct.params.aircraftSn||"--"),n=S("airport-detail"),f=S(null),W=S(null),ve=S(null),ye=S(null),De=S([]),oe=S(!1),le=S(""),Me=S(""),nt=S(null),lt=S(null),Ze=S(!1),Fe=S(""),We=S(""),y=S(null),x=S(null),M=S(null),Q=S([]),Ie=S([]),it=()=>{z.go(-1)},Ht=()=>{var P;return Ct.params.airportSn||((P=k.currentDevice)==null?void 0:P.airport_sn)||ce.value||"--"},Je=()=>Ct.params.aircraftSn||ce.value||"--",Wt=Ge(()=>k.deviceList),ts=Ge(()=>Wt.value.filter($=>$.type==="airport"||$.airport_sn)),H=Ge(()=>Wt.value.filter($=>$.type==="aircraft"&&$.airport_sn)),v=$=>{console.log("Êú∫Âú∫Êï∞ÊçÆÊé•Êî∂‰∫ã‰ª∂:",$),f.value=$},T=$=>{console.log("Êú∫Âú∫ËÆ¢ÈòÖÁä∂ÊÄÅ‰∫ã‰ª∂:",$)},ee=$=>{console.log("È£ûÊú∫Êï∞ÊçÆÊé•Êî∂‰∫ã‰ª∂:",$)},Ve=$=>{console.log("È£ûÊú∫ËÆ¢ÈòÖÁä∂ÊÄÅ‰∫ã‰ª∂:",$)},ut=()=>{console.log("ËÆ¢ÈòÖHMS‰∫ã‰ª∂")},Ot=()=>{console.log("ËÆ¢ÈòÖÂçáÁ∫ß‰∫ã‰ª∂")},pt=()=>{console.log("ÂºÄÂßãÂçáÁ∫ß‰∫ã‰ª∂")},Ye=()=>{console.log("Ê£ÄÊü•ÂçáÁ∫ßÁä∂ÊÄÅ‰∫ã‰ª∂")},g=()=>{console.log("Âø´ÈÄüËé∑ÂèñÊñá‰ª∂ÂàóË°®")},b=()=>{console.log("Êñá‰ª∂‰∏ä‰º†‰∫ã‰ª∂")},w=()=>{console.log("Áä∂ÊÄÅÊõ¥Êñ∞‰∫ã‰ª∂")},u=()=>{console.log("ËÆ¢ÈòÖËøõÂ∫¶‰∫ã‰ª∂")},o=()=>{console.log("Âà∑Êñ∞‰ªªÂä°ËÆ∞ÂΩï")},O=$=>$?new Date($).toLocaleString():"--",X=$=>$?JSON.stringify($).substring(0,50)+"...":"--";xs(async()=>{console.log("AircraftDetailÈ°µÈù¢Â∑≤ÊåÇËΩΩ");try{if(await k.loadDevices(),console.log("ËÆæÂ§áÂàóË°®Â∑≤Âä†ËΩΩ:",k.deviceList.length,"‰∏™ËÆæÂ§á"),!Se.isConnected){console.log("MQTTÊú™ËøûÊé•ÔºåÂ∞ùËØï‰ΩøÁî®ÈªòËÆ§ËøûÊé•");try{await Se.connect(),console.log("MQTTÈªòËÆ§ËøûÊé•ÊàêÂäü")}catch($){console.error("MQTTÈªòËÆ§ËøûÊé•Â§±Ë¥•:",$),A.warning("MQTTËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•")}}setTimeout(async()=>{await K()},1e3)}catch($){console.error("È°µÈù¢ÂàùÂßãÂåñÂ§±Ë¥•:",$)}});const K=async()=>{try{if(!Se.isConnected){console.log("Á≠âÂæÖMQTTËøûÊé•...");return}const $=ts.value[0];if($){console.log("Ëá™Âä®ËÆ¢ÈòÖÈ¶ñ‰∏™Êú∫Âú∫:",$.sn);try{const I=`thing/product/${$.sn}/osd`;await Se.subscribeToTopics(I,1),console.log("Êú∫Âú∫OSDËÆ¢ÈòÖÊàêÂäü:",I)}catch(I){console.error("Êú∫Âú∫OSDËÆ¢ÈòÖÂ§±Ë¥•:",I)}}const P=H.value[0];if(P){console.log("Ëá™Âä®ËÆ¢ÈòÖÈ¶ñ‰∏™È£ûÊú∫:",P.sn);try{const I=`thing/product/${P.sn}/osd`;await Se.subscribeToTopics(I,1),console.log("È£ûÊú∫OSDËÆ¢ÈòÖÊàêÂäü:",I)}catch(I){console.error("È£ûÊú∫OSDËÆ¢ÈòÖÂ§±Ë¥•:",I)}}ce.value==="--"&&P&&(ce.value=P.sn,console.log("Ëá™Âä®ËÆæÁΩÆÂΩìÂâçËÆæÂ§áSN:",P.sn)),($||P)&&A.success("Â∑≤Ëá™Âä®ËÆ¢ÈòÖÈ¶ñ‰∏™ËÆæÂ§áÊï∞ÊçÆ")}catch($){console.error("Ëá™Âä®ËÆ¢ÈòÖËÆæÂ§áÂ§±Ë¥•:",$),A.warning("Ëá™Âä®ËÆ¢ÈòÖËÆæÂ§áÂ§±Ë¥•ÔºåËØ∑ÊâãÂä®ËÆ¢ÈòÖ")}};return($,P)=>{const I=B("el-button"),G=B("el-tag"),rt=B("el-header"),Ke=B("el-tab-pane"),we=B("el-table-column"),Xe=B("el-table"),c=B("el-tabs"),i=B("el-card"),m=B("el-main"),D=B("el-container");return _(),h("div",V1,[t(D,{style:{height:"100vh"}},{default:s(()=>[t(rt,{class:"detail-header"},{default:s(()=>[e("div",U1,[t(I,{type:"primary",icon:d(ia),onClick:it,style:{"margin-right":"16px"}},{default:s(()=>[...P[1]||(P[1]=[r(" ËøîÂõû ",-1)])]),_:1},8,["icon"]),e("h2",null,"È£ûÊú∫‰ø°ÊÅØËØ¶ÊÉÖ - "+l(ce.value),1)]),e("div",F1,[t(G,{type:d(Se).isConnected?"success":"danger",size:"large"},{default:s(()=>[r(l(d(Se).isConnected?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]),_:1},8,["type"])])]),_:1}),t(m,{class:"detail-main"},{default:s(()=>[t(i,{shadow:"never",style:{"margin-bottom":"12px"}},{default:s(()=>[t(c,{modelValue:n.value,"onUpdate:modelValue":P[0]||(P[0]=R=>n.value=R),type:"border-card"},{default:s(()=>[t(Ke,{label:"Êú∫Âú∫‰ø°ÊÅØ",name:"airport-detail"},{default:s(()=>[n.value==="airport-detail"?(_(),Xt(ri,{key:0,"device-sn":ce.value,"airport-sn":Ht(),onDataReceived:v,onSubscriptionStatus:T},null,8,["device-sn","airport-sn"])):j("",!0)]),_:1}),t(Ke,{label:"È£ûÊú∫‰ø°ÊÅØ",name:"aircraft-detail"},{default:s(()=>[n.value==="aircraft-detail"?(_(),Xt(nu,{key:0,"device-sn":ce.value,"aircraft-sn":Je(),onDataReceived:ee,onSubscriptionStatus:Ve},null,8,["device-sn","aircraft-sn"])):j("",!0)]),_:1}),t(Ke,{label:"Áõ¥Êí≠‰ø°ÊÅØ",name:"live-stream"},{default:s(()=>[n.value==="live-stream"?(_(),Xt(da,{key:0,"airport-sn":Ht(),"aircraft-sn":Je()},null,8,["airport-sn","aircraft-sn"])):j("",!0)]),_:1}),t(Ke,{label:"ËøúÁ®ãÊó•Âøó",name:"remote-log"},{default:s(()=>[t(vp,{sending:oe.value,airportSn:Ht(),requestTopic:le.value,replyTopic:Me.value,requestPayload:nt.value,replyPayload:lt.value,uploadSending:Ze.value,uploadRequestTopic:Fe.value,uploadReplyTopic:We.value,uploadRequestPayload:y.value,uploadReplyPayload:x.value,progressPayload:M.value,allEventsMessages:Q.value,onRequest:g,onUpload:b,onStatusUpdate:w,onSubscribeProgress:u},null,8,["sending","airportSn","requestTopic","replyTopic","requestPayload","replyPayload","uploadSending","uploadRequestTopic","uploadReplyTopic","uploadRequestPayload","uploadReplyPayload","progressPayload","allEventsMessages"])]),_:1}),t(Ke,{label:"ËÆ°ÂàíÂ∫ì‰ªªÂä°ËÆ∞ÂΩï",name:"task-records"},{default:s(()=>[e("div",I1,[P[3]||(P[3]=e("div",{style:{color:"var(--el-text-color-regular)","font-size":"13px"}},"‰ªªÂä°‰∏ãÂèëÂêéÁöÑÊú¨Âú∞ËÆ∞ÂΩïÔºàÂêéÁ´ØÊé•ÂÖ•ÂêéÂèØÊõøÊç¢‰∏∫ÁúüÂÆûÊï∞ÊçÆÔºâ",-1)),e("div",J1,[t(I,{size:"small",onClick:o},{default:s(()=>[...P[2]||(P[2]=[r("Âà∑Êñ∞ËÆ∞ÂΩï",-1)])]),_:1})])]),t(Xe,{data:Ie.value,size:"small",height:"360",border:""},{default:s(()=>[t(we,{prop:"taskId",label:"‰ªªÂä°ID",width:"160"}),t(we,{prop:"method",label:"ÊñπÊ≥ï",width:"140"}),t(we,{prop:"tid",label:"TID",width:"220"}),t(we,{prop:"gatewaySn",label:"Êú∫Âú∫SN",width:"160"}),t(we,{label:"ËØ∑Ê±ÇÂèÇÊï∞"},{default:s(R=>[e("span",E1,l(X(R.row.payload)),1)]),_:1}),t(we,{prop:"result",label:"ÁªìÊûúÁ†Å",width:"100"}),t(we,{label:"Êó∂Èó¥",width:"180"},{default:s(R=>[r(l(O(R.row.createdAt)),1)]),_:1})]),_:1},8,["data"])]),_:1}),t(Ke,{label:"ËøúÁ®ãÂçáÁ∫ßÂäüËÉΩ",name:"remote-upgrade"},{default:s(()=>[t(u1,{"device-sn":ce.value,"osd-data":f.value,"upgrade-status":W.value,"upgrade-status-payload":ve.value,onSubscribeUpgrade:Ot,onStartUpgrade:pt,onCheckStatus:Ye},null,8,["device-sn","osd-data","upgrade-status","upgrade-status-payload"])]),_:1}),t(Ke,{label:"HMS ÂäüËÉΩ",name:"hms"},{default:s(()=>[t(L1,{airportSn:Ht(),hmsPayload:ye.value,hmsData:De.value,onSubscribeHms:ut},null,8,["airportSn","hmsPayload","hmsData"])]),_:1}),t(Ke,{label:"ËøúÁ®ãË∞ÉËØï",name:"remote-debug"},{default:s(()=>[...P[4]||(P[4]=[e("div",{style:{padding:"8px 0",color:"var(--el-text-color-regular)","font-size":"13px"}}," Âú®Ê≠§Â§ÑÈõÜÊàêËøúÁ®ãË∞ÉËØïÊìç‰ΩúÔºàËøúÁ®ãÊéßÂà∂„ÄÅÂèÇÊï∞Êü•ËØ¢/ËÆæÁΩÆÁ≠âÔºâ„ÄÇ ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])}}},Z1=_s(q1,[["__scopeId","data-v-91f381b1"]]);export{Z1 as default};
