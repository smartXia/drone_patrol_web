import{_ as Re,r as w,k as te,m as G,al as De,x as Ie,N as Le,b as f,o as v,c as $,e as a,f as l,w as t,u as _,ak as oe,g as d,t as U,i as P,am as ae,an as se,Q as ne,C as re,ao as We,F as ie,h as ue,s as R,ap as ze,aq as Ne,ar as He,R as Ee,n as Be,G as c,E as Fe}from"./index-fba7872b.js";class Me{constructor(s){this.apiBaseUrl=s.apiBaseUrl,this.room=null,this.pc=null,this.stream=null}async getWhipAuth(s){try{const i=await fetch(`${this.apiBaseUrl}/api/whip/auth/${s}`);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("è·å–WHIPè®¤è¯ä¿¡æ¯å¤±è´¥:",i),i}}async startStream(s,i){try{console.log("å¼€å§‹WHIPæ¨æµï¼Œæˆ¿é—´å·:",s),this.pc=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}),i&&(i.srcObject=null);const S=await this.pc.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await this.pc.setLocalDescription(S);const D=`${this.apiBaseUrl}/api/whip/stream?room=${s}`;console.log("WHIPè¯·æ±‚URL:",D),console.log("WHIPè¯·æ±‚å‚æ•°:",{room:s});const I=await fetch(D,{method:"POST",headers:{"Content-Type":"application/sdp"},body:S.sdp});if(!I.ok)throw new Error(`WHIPè¯·æ±‚å¤±è´¥: ${I.status}`);const E=await I.text(),L=new RTCSessionDescription({type:"answer",sdp:E});return await this.pc.setRemoteDescription(L),this.pc.ontrack=T=>{console.log("æ¥æ”¶åˆ°å¤§ç–†æœºåœºè§†é¢‘æµ:",T.streams[0]),i&&T.streams[0]&&(i.srcObject=T.streams[0]),this.stream=T.streams[0]},this.pc.onconnectionstatechange=()=>{console.log("WebRTCè¿æ¥çŠ¶æ€:",this.pc.connectionState)},this.room=s,console.log("WHIPæ¥æ”¶å¤§ç–†æœºåœºè§†é¢‘æµå¼€å§‹æˆåŠŸ"),{success:!0,room:s,stream:this.stream}}catch(S){throw console.error("WHIPæ¨æµå¤±è´¥:",S),S}}async stopStream(){try{return this.pc&&(this.pc.close(),this.pc=null),this.stream&&(this.stream=null),this.room=null,console.log("WHIPæ¥æ”¶å¤§ç–†æœºåœºè§†é¢‘æµå·²åœæ­¢"),{success:!0}}catch(s){throw console.error("åœæ­¢WHIPæ¥æ”¶æµå¤±è´¥:",s),s}}getStreamStatus(){return{isStreaming:this.pc&&this.pc.connectionState==="connected",room:this.room,connectionState:this.pc?this.pc.connectionState:"disconnected"}}}const Oe={class:"camera-live-stream"},je={class:"control-bar"},qe={class:"control-left"},Ae={class:"control-right"},Ge={key:0,class:"camera-config"},Je={key:0,class:"config-tips"},Qe={key:1,class:"config-tips"},Ke={key:0,class:"video-placeholder"},Xe={key:1,class:"video-wrapper"},Ye={key:0,class:"video-overlay"},Ze={class:"video-info"},el={class:"stream-info"},ll={class:"info-item"},tl={class:"info-item"},ol={key:0,class:"info-item"},al={class:"video-controls"},sl={class:"screenshot-preview"},nl=["src"],rl={class:"diagnostic-content"},il={class:"diagnostic-actions"},ul={__name:"CameraLiveStream",props:{airportSn:{type:String,default:""},aircraftSn:{type:String,default:""}},setup(J){const s=J,i=w(null),S=w(!1),D=w(!1),I=w(!1),E=w(!1),L=w(!1),T=w(0),k=w("æœªè¿æ¥"),z=w(!1),B=w(""),F=w(!1),r=te({resolution:"1280x720",fps:25,quality:7}),b=te({room:"",authToken:"",txSecret:"",txTime:"",enableWhip:!0}),W=w(""),y=w(""),h=G(()=>{const o=s.airportSn;return o&&o!==""?[{sn:o,name:`æœºåœºè®¾å¤‡ (${o})`,type:"airport"}]:[]}),V=G(()=>{const o=s.aircraftSn;return o&&o!==""?[{sn:o,name:`é£æœºè®¾å¤‡ (${o})`,type:"aircraft"}]:[]});w({isStreaming:!1,room:"",connectionState:"disconnected"});const M=G(()=>(y.value||s.aircraftSn||s.airportSn,""));let O=null;const Q=new Me(De),de=o=>{o?(y.value=o,console.log("é€‰æ‹©è®¾å¤‡:",o),c.success(`å·²é€‰æ‹©è®¾å¤‡: ${o}`)):(y.value="",console.log("å–æ¶ˆé€‰æ‹©è®¾å¤‡"))},ce=async()=>{D.value=!0,k.value="è¿æ¥ä¸­...";try{const o=y.value||s.aircraftSn||s.airportSn;if(!o){c.warning("è¯·å…ˆé€‰æ‹©è®¾å¤‡æˆ–ç¡®ä¿è®¾å¤‡SNå·²ä¼ å…¥");return}console.log("å¼€å§‹è¿æ¥å¤§ç–†æœºåœºè®¾å¤‡ï¼Œè®¾å¤‡SN:",o);const e=await Q.startStream(o,i.value);if(e.success)b.room=e.room,S.value=!0,D.value=!1,k.value="å·²è¿æ¥",T.value=0,we(),c.success(`å·²è¿æ¥å¤§ç–†æœºåœºè®¾å¤‡ - æˆ¿é—´: ${e.room}`),console.log("å¤§ç–†æœºåœºè§†é¢‘æµä¿¡æ¯:",e);else throw new Error(e.error||"è¿æ¥å¤§ç–†æœºåœºè®¾å¤‡å¤±è´¥")}catch(o){D.value=!1,k.value="è¿æ¥å¤±è´¥",console.error("è¿æ¥å¤§ç–†æœºåœºè®¾å¤‡å¤±è´¥:",o),c.error(`è¿æ¥å¤§ç–†æœºåœºè®¾å¤‡å¤±è´¥: ${o.message}`)}},K=async()=>{try{const o=await Q.stopStream();o.success?c.info("å·²æ–­å¼€å¤§ç–†æœºåœºè®¾å¤‡è¿æ¥"):c.warning(`æ–­å¼€è¿æ¥å¤±è´¥: ${o.error}`)}catch(o){console.error("æ–­å¼€å¤§ç–†æœºåœºè®¾å¤‡è¿æ¥å¤±è´¥:",o),c.warning("æ–­å¼€è¿æ¥å¤±è´¥")}S.value=!1,k.value="æœªè¿æ¥",T.value=0,X(),b.room="",c.info("å·²æ–­å¼€è¿æ¥")},pe=()=>{I.value=!I.value},me=async()=>{if(!y.value&&!s.aircraftSn&&!s.airportSn){c.warning("è¯·å…ˆé€‰æ‹©è®¾å¤‡");return}const o=M.value;if(console.log("æµ‹è¯•è¿æ¥ - å®Œæ•´URL:",o),r.username&&r.password){const e=`${r.url.split("://")[0]}://${r.username}:${r.password}@${r.url.split("://")[1]}`;console.log("æœŸæœ›çš„URLæ ¼å¼:",e),console.log("å®é™…ç”Ÿæˆçš„URL:",o)}c.info("æ­£åœ¨æµ‹è¯•æ‘„åƒå¤´è¿æ¥...");try{const e=document.createElement("video");e.muted=!0,e.playsInline=!0;const p=setTimeout(()=>{e.src="",c.error("è¿æ¥æµ‹è¯•è¶…æ—¶ï¼Œè¯·æ£€æŸ¥æ‘„åƒå¤´åœ°å€å’Œç½‘ç»œ")},1e4);e.onloadeddata=()=>{clearTimeout(p),e.src="",c.success("æ‘„åƒå¤´è¿æ¥æµ‹è¯•æˆåŠŸï¼")},e.onerror=g=>{var m;clearTimeout(p),e.src="";let u="æ‘„åƒå¤´è¿æ¥å¤±è´¥";if((m=g.target)!=null&&m.error)switch(g.target.error.code){case 1:u="è¿æ¥è¢«ä¸­æ­¢ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ";break;case 2:u="ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥æ‘„åƒå¤´åœ°å€";break;case 3:u="è§†é¢‘è§£ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥è§†é¢‘æ ¼å¼";break;case 4:u="è§†é¢‘æºä¸æ”¯æŒ";break}c.error(`è¿æ¥æµ‹è¯•å¤±è´¥: ${u}`),r.url.includes("rtsp://")&&!r.username&&c.warning("æç¤ºï¼šRTSPæ‘„åƒå¤´é€šå¸¸éœ€è¦ç”¨æˆ·åå’Œå¯†ç è®¤è¯")},e.src=M.value,e.load()}catch(e){console.error("è¿æ¥æµ‹è¯•å¤±è´¥:",e),c.error("è¿æ¥æµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®")}},fe=()=>{F.value=!0},ve=async()=>{c.info("å¼€å§‹è¿è¡Œå®Œæ•´è¯Šæ–­...");const o=[];if(!y.value&&!s.aircraftSn&&!s.airportSn)o.push("âŒ æœªé€‰æ‹©è®¾å¤‡");else{const g=y.value||s.aircraftSn||s.airportSn;o.push(`âœ… å·²é€‰æ‹©è®¾å¤‡: ${g}`)}const e=y.value||s.aircraftSn||s.airportSn;if(e?o.push(`âœ… è®¾å¤‡SN: ${e}`):o.push("âŒ è®¾å¤‡SNæœªè®¾ç½®"),e)try{const u=new URL(r.url).hostname;o.push(`ğŸ” å°è¯•è¿æ¥ ${u}...`),await new Promise(m=>setTimeout(m,1e3)),o.push("âœ… ç½‘ç»œè¿æ¥æµ‹è¯•å®Œæˆ")}catch{o.push("âŒ URLæ ¼å¼é”™è¯¯")}const p=o.join(`
`);Fe.alert(p,"è¯Šæ–­ç»“æœ",{confirmButtonText:"ç¡®å®š",type:"info"})},ge=()=>{i.value&&(i.value.muted=!i.value.muted,E.value=i.value.muted)},Se=()=>{if(!i.value||!S.value){c.warning("è¯·å…ˆå¼€å§‹ç›´æ’­");return}try{const o=document.createElement("canvas"),e=o.getContext("2d");o.width=i.value.videoWidth,o.height=i.value.videoHeight,e.drawImage(i.value,0,0),B.value=o.toDataURL("image/png"),z.value=!0,c.success("æˆªå›¾æˆåŠŸ")}catch(o){c.error(`æˆªå›¾å¤±è´¥: ${o.message}`)}},_e=()=>{if(B.value){const o=document.createElement("a");o.download=`camera-screenshot-${new Date().getTime()}.png`,o.href=B.value,o.click()}},ye=()=>{L.value=!L.value,c.info(L.value?"å¼€å§‹å½•åˆ¶":"åœæ­¢å½•åˆ¶")},we=()=>{O=setInterval(()=>{T.value++},1e3)},X=()=>{O&&(clearInterval(O),O=null)},be=o=>{const e=Math.floor(o/3600),p=Math.floor(o%3600/60),g=o%60;return e>0?`${e.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`:`${p.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`},ke=()=>{k.value="åŠ è½½ä¸­..."},he=()=>{k.value="å·²è¿æ¥"},Ve=o=>{var g,u,m;console.error("è§†é¢‘æ’­æ”¾é”™è¯¯:",o),console.error("å½“å‰è§†é¢‘æº:",(g=i.value)==null?void 0:g.src),console.error("æ‘„åƒå¤´é…ç½®:",r),console.error("ç”Ÿæˆçš„å®Œæ•´URL:",M.value);const e=(u=i.value)==null?void 0:u.src;e&&(console.error("URLåˆ†æ:"),console.error("- åè®®:",e.split("://")[0]),console.error("- å®Œæ•´åœ°å€:",e),console.error("- æ˜¯å¦åŒ…å«è®¤è¯:",e.includes("@"))),k.value="æ’­æ”¾é”™è¯¯";let p="è§†é¢‘æ’­æ”¾å¤±è´¥";if((m=o.target)!=null&&m.error){const N=o.target.error;switch(N.code){case 1:p="è§†é¢‘åŠ è½½è¢«ä¸­æ­¢ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥";break;case 2:p="ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥æ‘„åƒå¤´åœ°å€å’Œç½‘ç»œè¿æ¥";break;case 3:p="è§†é¢‘è§£ç é”™è¯¯ï¼Œè¯·æ£€æŸ¥è§†é¢‘æ ¼å¼æ˜¯å¦æ”¯æŒ";break;case 4:p="è§†é¢‘æºä¸æ”¯æŒæˆ–æ ¼å¼é”™è¯¯";break;default:p=`è§†é¢‘æ’­æ”¾é”™è¯¯ (é”™è¯¯ä»£ç : ${N.code})`}}c.error(p),r.url&&!r.username&&c.warning("æç¤ºï¼šå¦‚æœæ‘„åƒå¤´éœ€è¦è®¤è¯ï¼Œè¯·å¡«å†™ç”¨æˆ·åå’Œå¯†ç ")},xe=()=>{k.value="æ’­æ”¾ä¸­"},Ce=()=>{k.value="å·²æš‚åœ"};return Ie(async()=>{const o=localStorage.getItem("camera-config");if(o)try{Object.assign(r,JSON.parse(o))}catch(e){console.error("åŠ è½½æ‘„åƒå¤´é…ç½®å¤±è´¥:",e)}s.aircraftSn&&s.aircraftSn!==""?(W.value=s.aircraftSn,y.value=s.aircraftSn,console.log("è‡ªåŠ¨é€‰æ‹©é£æœºè®¾å¤‡:",s.aircraftSn)):s.airportSn&&s.airportSn!==""?(W.value=s.airportSn,y.value=s.airportSn,console.log("è‡ªåŠ¨é€‰æ‹©æœºåœºè®¾å¤‡:",s.airportSn)):h.value.length>0?(W.value=h.value[0].sn,y.value=h.value[0].sn,console.log("è‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªæœºåœºè®¾å¤‡:",h.value[0].sn)):V.value.length>0&&(W.value=V.value[0].sn,y.value=V.value[0].sn,console.log("è‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªé£æœºè®¾å¤‡:",V.value[0].sn))}),Le(()=>{K(),X()}),(o,e)=>{const p=f("el-icon"),g=f("el-tag"),u=f("el-button"),m=f("el-option"),N=f("el-option-group"),q=f("el-select"),Y=f("el-text"),x=f("el-form-item"),C=f("el-col"),H=f("el-row"),$e=f("el-slider"),Z=f("el-form"),ee=f("el-divider"),j=f("el-input"),Te=f("el-switch"),le=f("el-dialog"),Ue=f("el-alert"),A=f("el-card"),Pe=f("el-space");return v(),$("div",Oe,[a("div",je,[a("div",qe,[l(p,{class:"camera-icon"},{default:t(()=>[l(_(oe))]),_:1}),e[14]||(e[14]=a("span",null,"å¤§ç–†æœºåœºæ‘„åƒå¤´",-1)),l(g,{type:S.value?"success":"info",size:"small",class:"status-tag"},{default:t(()=>[d(U(S.value?"æ¥æ”¶ä¸­":"æœªè¿æ¥"),1)]),_:1},8,["type"])]),a("div",Ae,[S.value?(v(),P(u,{key:1,type:"danger",size:"small",onClick:K,icon:_(se)},{default:t(()=>[...e[16]||(e[16]=[d(" æ–­å¼€è¿æ¥ ",-1)])]),_:1},8,["icon"])):(v(),P(u,{key:0,type:"primary",size:"small",onClick:ce,loading:D.value,icon:_(ae)},{default:t(()=>[...e[15]||(e[15]=[d(" è¿æ¥å¤§ç–†æœºåœº ",-1)])]),_:1},8,["loading","icon"])),l(u,{size:"small",onClick:me,icon:_(ne),type:"info"},{default:t(()=>[...e[17]||(e[17]=[d(" æµ‹è¯•è¿æ¥ ",-1)])]),_:1},8,["icon"]),l(u,{size:"small",onClick:fe,icon:_(re),type:"warning"},{default:t(()=>[...e[18]||(e[18]=[d(" è¯Šæ–­å·¥å…· ",-1)])]),_:1},8,["icon"]),l(u,{size:"small",onClick:pe,icon:_(We)},{default:t(()=>[...e[19]||(e[19]=[d(" å…¨å± ",-1)])]),_:1},8,["icon"])])]),S.value?R("",!0):(v(),$("div",Ge,[l(Z,{model:r,"label-width":"100px",size:"small"},{default:t(()=>[l(H,{gutter:16},{default:t(()=>[l(C,{span:12},{default:t(()=>[l(x,{label:"é€‰æ‹©è®¾å¤‡"},{default:t(()=>[l(q,{modelValue:W.value,"onUpdate:modelValue":e[0]||(e[0]=n=>W.value=n),placeholder:"é€‰æ‹©æœºåœºæˆ–é£æœºè®¾å¤‡",onChange:de,clearable:"",disabled:h.value.length+V.value.length<=1},{default:t(()=>[h.value.length>0?(v(),P(N,{key:0,label:"æœºåœºè®¾å¤‡"},{default:t(()=>[(v(!0),$(ie,null,ue(h.value,n=>(v(),P(m,{key:n.sn,label:`${n.name||n.sn} (${n.sn})`,value:n.sn},null,8,["label","value"]))),128))]),_:1})):R("",!0),V.value.length>0?(v(),P(N,{key:1,label:"é£æœºè®¾å¤‡"},{default:t(()=>[(v(!0),$(ie,null,ue(V.value,n=>(v(),P(m,{key:n.sn,label:`${n.name||n.sn} (${n.sn})`,value:n.sn},null,8,["label","value"]))),128))]),_:1})):R("",!0),h.value.length===0&&V.value.length===0?(v(),P(m,{key:2,disabled:""},{default:t(()=>[...e[20]||(e[20]=[d(" æš‚æ— å¯ç”¨è®¾å¤‡ ",-1)])]),_:1})):R("",!0)]),_:1},8,["modelValue","disabled"]),h.value.length===0&&V.value.length===0?(v(),$("div",Je,[l(Y,{size:"small",type:"warning"},{default:t(()=>[...e[21]||(e[21]=[d(" è¯·ç¡®ä¿è·¯ç”±å‚æ•°ä¸­åŒ…å«è®¾å¤‡SNï¼Œæˆ–æ£€æŸ¥ç½‘ç»œè¿æ¥ ",-1)])]),_:1})])):R("",!0),h.value.length+V.value.length===1?(v(),$("div",Qe,[l(Y,{size:"small",type:"info"},{default:t(()=>[...e[22]||(e[22]=[d(" å·²è‡ªåŠ¨é€‰æ‹©å”¯ä¸€å¯ç”¨è®¾å¤‡ ",-1)])]),_:1})])):R("",!0)]),_:1})]),_:1}),l(C,{span:12},{default:t(()=>[l(x,{label:"å½“å‰è®¾å¤‡"},{default:t(()=>[y.value?(v(),P(g,{key:0,type:"success",size:"large"},{default:t(()=>[d(U(y.value),1)]),_:1})):(v(),P(g,{key:1,type:"info",size:"large"},{default:t(()=>[...e[23]||(e[23]=[d(" æœªé€‰æ‹©è®¾å¤‡ ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1}),l(H,{gutter:16},{default:t(()=>[l(C,{span:8},{default:t(()=>[l(x,{label:"åˆ†è¾¨ç‡"},{default:t(()=>[l(q,{modelValue:r.resolution,"onUpdate:modelValue":e[1]||(e[1]=n=>r.resolution=n),placeholder:"é€‰æ‹©åˆ†è¾¨ç‡"},{default:t(()=>[l(m,{label:"1920x1080",value:"1920x1080"}),l(m,{label:"1280x720",value:"1280x720"}),l(m,{label:"854x480",value:"854x480"}),l(m,{label:"640x360",value:"640x360"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(C,{span:8},{default:t(()=>[l(x,{label:"å¸§ç‡"},{default:t(()=>[l(q,{modelValue:r.fps,"onUpdate:modelValue":e[2]||(e[2]=n=>r.fps=n),placeholder:"é€‰æ‹©å¸§ç‡"},{default:t(()=>[l(m,{label:"30 FPS",value:30}),l(m,{label:"25 FPS",value:25}),l(m,{label:"15 FPS",value:15}),l(m,{label:"10 FPS",value:10})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(C,{span:8},{default:t(()=>[l(x,{label:"è´¨é‡"},{default:t(()=>[l($e,{modelValue:r.quality,"onUpdate:modelValue":e[3]||(e[3]=n=>r.quality=n),min:1,max:10,step:1,"show-stops":"","show-tooltip":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),l(ee,{"content-position":"left"},{default:t(()=>[...e[24]||(e[24]=[d("å¤§ç–†æœºåœºè§†é¢‘æµé…ç½®",-1)])]),_:1}),l(Z,{model:b,"label-width":"120px",size:"small"},{default:t(()=>[l(H,{gutter:16},{default:t(()=>[l(C,{span:12},{default:t(()=>[l(x,{label:"æˆ¿é—´å·"},{default:t(()=>[l(j,{modelValue:b.room,"onUpdate:modelValue":e[4]||(e[4]=n=>b.room=n),readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),l(C,{span:12},{default:t(()=>[l(x,{label:"è®¤è¯Token"},{default:t(()=>[l(j,{modelValue:b.authToken,"onUpdate:modelValue":e[5]||(e[5]=n=>b.authToken=n),readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(H,{gutter:16},{default:t(()=>[l(C,{span:12},{default:t(()=>[l(x,{label:"ç­¾åå¯†é’¥"},{default:t(()=>[l(j,{modelValue:b.txSecret,"onUpdate:modelValue":e[6]||(e[6]=n=>b.txSecret=n),readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),l(C,{span:12},{default:t(()=>[l(x,{label:"æ—¶é—´æˆ³"},{default:t(()=>[l(j,{modelValue:b.txTime,"onUpdate:modelValue":e[7]||(e[7]=n=>b.txTime=n),readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(H,{gutter:16},{default:t(()=>[l(C,{span:24},{default:t(()=>[l(x,{label:"å¯ç”¨å¤§ç–†æœºåœºè§†é¢‘æµ"},{default:t(()=>[l(Te,{modelValue:b.enableWhip,"onUpdate:modelValue":e[8]||(e[8]=n=>b.enableWhip=n)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])),a("div",{class:Be(["video-container",{fullscreen:I.value}])},[S.value?(v(),$("div",Xe,[a("video",{ref_key:"videoElement",ref:i,autoplay:"",muted:"",playsinline:"",class:"video-stream",onLoadstart:ke,onLoadeddata:he,onError:Ve,onPlay:xe,onPause:Ce},null,544),S.value?(v(),$("div",Ye,[a("div",Ze,[a("div",el,[a("span",ll,[l(p,null,{default:t(()=>[l(_(ze))]),_:1}),d(" "+U(be(T.value)),1)]),a("span",tl,[l(p,null,{default:t(()=>[l(_(ne))]),_:1}),d(" "+U(k.value),1)]),r.resolution?(v(),$("span",ol,[l(p,null,{default:t(()=>[l(_(re))]),_:1}),d(" "+U(r.resolution),1)])):R("",!0)])]),a("div",al,[l(u,{circle:"",size:"small",onClick:ge,icon:E.value?_(Ne):_(He)},null,8,["icon"]),l(u,{circle:"",size:"small",onClick:Se,icon:_(Ee)},null,8,["icon"]),l(u,{circle:"",size:"small",onClick:ye,type:L.value?"danger":"default",icon:L.value?_(se):_(ae)},null,8,["type","icon"])])])):R("",!0)])):(v(),$("div",Ke,[l(p,{class:"placeholder-icon"},{default:t(()=>[l(_(oe))]),_:1}),e[25]||(e[25]=a("p",null,'ç‚¹å‡»"å¼€å§‹ç›´æ’­"è¿æ¥å¤§ç–†æœºåœºæ‘„åƒå¤´',-1)),e[26]||(e[26]=a("p",{class:"placeholder-desc"},"ä½¿ç”¨ WHIP WebRTC åè®®æ¥æ”¶å¤§ç–†æœºåœºè§†é¢‘æµ",-1))]))],2),l(le,{modelValue:z.value,"onUpdate:modelValue":e[10]||(e[10]=n=>z.value=n),title:"æˆªå›¾é¢„è§ˆ",width:"800px",onClose:e[11]||(e[11]=n=>z.value=!1)},{footer:t(()=>[l(u,{onClick:e[9]||(e[9]=n=>z.value=!1)},{default:t(()=>[...e[27]||(e[27]=[d("å…³é—­",-1)])]),_:1}),l(u,{type:"primary",onClick:_e},{default:t(()=>[...e[28]||(e[28]=[d("ä¸‹è½½æˆªå›¾",-1)])]),_:1})]),default:t(()=>[a("div",sl,[a("img",{src:B.value,alt:"æˆªå›¾é¢„è§ˆ",class:"screenshot-image"},null,8,nl)])]),_:1},8,["modelValue"]),l(le,{modelValue:F.value,"onUpdate:modelValue":e[13]||(e[13]=n=>F.value=n),title:"æ‘„åƒå¤´è¯Šæ–­å·¥å…·",width:"600px","close-on-click-modal":!1},{footer:t(()=>[l(u,{onClick:e[12]||(e[12]=n=>F.value=!1)},{default:t(()=>[...e[50]||(e[50]=[d("å…³é—­",-1)])]),_:1}),l(u,{type:"primary",onClick:ve},{default:t(()=>[...e[51]||(e[51]=[d("è¿è¡Œå®Œæ•´è¯Šæ–­",-1)])]),_:1})]),default:t(()=>[a("div",rl,[l(Ue,{title:"è¯Šæ–­ä¿¡æ¯",type:"info",closable:!1,"show-icon":""},{default:t(()=>[e[33]||(e[33]=a("p",null,"å½“å‰é…ç½®ä¿¡æ¯ï¼š",-1)),a("ul",null,[a("li",null,[e[29]||(e[29]=a("strong",null,"æ‘„åƒå¤´åœ°å€ï¼š",-1)),d(U(r.url||"æœªè®¾ç½®"),1)]),a("li",null,[e[30]||(e[30]=a("strong",null,"ç”¨æˆ·åï¼š",-1)),d(U(r.username||"æœªè®¾ç½®"),1)]),a("li",null,[e[31]||(e[31]=a("strong",null,"å¯†ç ï¼š",-1)),d(U(r.password?"***":"æœªè®¾ç½®"),1)]),a("li",null,[e[32]||(e[32]=a("strong",null,"å®Œæ•´åœ°å€ï¼š",-1)),d(U(M.value||"æœªç”Ÿæˆ"),1)])])]),_:1}),l(ee),a("div",il,[e[49]||(e[49]=a("h4",null,"å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆï¼š",-1)),l(Pe,{direction:"vertical",size:"large",style:{width:"100%"}},{default:t(()=>[l(A,{shadow:"never",class:"diagnostic-card"},{header:t(()=>[...e[34]||(e[34]=[a("span",null,"1. RTSPè¿æ¥é—®é¢˜",-1)])]),default:t(()=>[e[35]||(e[35]=a("p",null,"â€¢ ç¡®ä¿æ‘„åƒå¤´æ”¯æŒRTSPåè®®",-1)),e[36]||(e[36]=a("p",null,"â€¢ æ£€æŸ¥IPåœ°å€å’Œç«¯å£æ˜¯å¦æ­£ç¡®",-1)),e[37]||(e[37]=a("p",null,"â€¢ éªŒè¯ç”¨æˆ·åå’Œå¯†ç ",-1)),e[38]||(e[38]=a("p",null,"â€¢ å°è¯•ä¸åŒçš„RTSPè·¯å¾„ï¼ˆå¦‚ï¼š/stream1, /live, /ch1ï¼‰",-1))]),_:1}),l(A,{shadow:"never",class:"diagnostic-card"},{header:t(()=>[...e[39]||(e[39]=[a("span",null,"2. ç½‘ç»œè¿æ¥é—®é¢˜",-1)])]),default:t(()=>[e[40]||(e[40]=a("p",null,"â€¢ æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸",-1)),e[41]||(e[41]=a("p",null,"â€¢ ç¡®è®¤æ‘„åƒå¤´å’Œç”µè„‘åœ¨åŒä¸€ç½‘ç»œ",-1)),e[42]||(e[42]=a("p",null,"â€¢ å°è¯•pingæ‘„åƒå¤´IPåœ°å€",-1)),e[43]||(e[43]=a("p",null,"â€¢ æ£€æŸ¥é˜²ç«å¢™è®¾ç½®",-1))]),_:1}),l(A,{shadow:"never",class:"diagnostic-card"},{header:t(()=>[...e[44]||(e[44]=[a("span",null,"3. è§†é¢‘æ ¼å¼é—®é¢˜",-1)])]),default:t(()=>[e[45]||(e[45]=a("p",null,"â€¢ ç¡®ä¿æµè§ˆå™¨æ”¯æŒè¯¥è§†é¢‘æ ¼å¼",-1)),e[46]||(e[46]=a("p",null,"â€¢ å°è¯•ä¸åŒçš„åˆ†è¾¨ç‡è®¾ç½®",-1)),e[47]||(e[47]=a("p",null,"â€¢ æ£€æŸ¥æ‘„åƒå¤´ç¼–ç æ ¼å¼ï¼ˆH.264æ¨èï¼‰",-1)),e[48]||(e[48]=a("p",null,"â€¢ å°è¯•é™ä½å¸§ç‡è®¾ç½®",-1))]),_:1})]),_:1})])])]),_:1},8,["modelValue"])])}}},cl=Re(ul,[["__scopeId","data-v-3122ba93"]]);export{cl as C};
