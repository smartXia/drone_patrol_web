import{_ as V,H as b,ai as z,M as A,r as o,m as u,x as J,b as r,o as l,c as g,f as a,w as t,e as i,u as h,ak as M,i as y,g as d,t as S,s as p,aj as O}from"./index-fba7872b.js";import{C as j}from"./CameraLiveStream-96cf9863.js";const E={class:"camera-live-page"},H={class:"header-content"},T={class:"header-left"},q={key:0,class:"device-info"},F={class:"header-right"},G={__name:"CameraLive",setup(K){const C=b(),_=z(),m=A(),L=o(null);o(0),o(!1),o(""),o("");const n=()=>{var e;return _.params.airportSn||((e=m.currentDevice)==null?void 0:e.airport_sn)||m.currentDeviceSn||"--"},c=()=>_.params.aircraftSn||_.params.deviceSn||"--",f=u(()=>m.deviceList);u(()=>f.value.filter(e=>e.type==="airport"||e.airport_sn)),u(()=>f.value.filter(e=>e.type==="aircraft"&&e.airport_sn));const k=()=>{C.push("/")};return J(()=>{const e=localStorage.getItem("camera-list");if(e)try{cameraList.value=JSON.parse(e)}catch(s){console.error("加载摄像头列表失败:",s)}cameraList.value.length>0&&(currentCameraId.value=cameraList.value[0].id,switchCamera(cameraList.value[0])),localStorage.setItem("camera-list",JSON.stringify(cameraList.value))}),(e,s)=>{const x=r("el-icon"),v=r("el-tag"),w=r("el-button"),N=r("el-header"),B=r("el-col"),D=r("el-row"),I=r("el-main"),R=r("el-container");return l(),g("div",E,[a(R,{class:"page-container"},{default:t(()=>[a(N,{class:"page-header"},{default:t(()=>[i("div",H,[i("div",T,[a(x,{class:"header-icon"},{default:t(()=>[a(h(M))]),_:1}),s[0]||(s[0]=i("h1",null,"机场直播摄像头",-1)),n()!=="--"||c()!=="--"?(l(),g("div",q,[n()!=="--"?(l(),y(v,{key:0,size:"small",type:"success"},{default:t(()=>[d(" 机场: "+S(n()),1)]),_:1})):p("",!0),c()!=="--"?(l(),y(v,{key:1,size:"small",type:"info",style:{"margin-left":"8px"}},{default:t(()=>[d(" 飞机: "+S(c()),1)]),_:1})):p("",!0)])):p("",!0)]),i("div",F,[a(w,{type:"primary",onClick:k,icon:h(O)},{default:t(()=>[...s[1]||(s[1]=[d(" 返回面板 ",-1)])]),_:1},8,["icon"])])])]),_:1}),a(I,{class:"page-main"},{default:t(()=>[a(D,{gutter:16},{default:t(()=>[a(B,{span:24},{default:t(()=>[a(j,{ref_key:"cameraStreamRef",ref:L,"airport-sn":n(),"aircraft-sn":c()},null,8,["airport-sn","aircraft-sn"])]),_:1})]),_:1})]),_:1})]),_:1})])}}},U=V(G,[["__scopeId","data-v-52de0e90"]]);export{U as default};
