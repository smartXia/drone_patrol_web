const c={key:{}.VITE_AMAP_KEY||"d593eb16f78b90ac373b5770434f4b89",securityKey:{}.VITE_AMAP_SECURITY_KEY||"81c6f50547753df15a0b661c5302deb5",version:"1.4.10",plugins:["AMap.GeometryUtil","AMap.Scale","AMap.ToolBar"],defaultConfig:{zoom:15,mapStyle:"amap://styles/normal",center:[118.654765,31.971145],viewMode:"2D",pitch:0,rotation:0},mapStyles:{normal:"amap://styles/normal",dark:"amap://styles/dark",light:"amap://styles/light",fresh:"amap://styles/fresh",grey:"amap://styles/grey",graffiti:"amap://styles/graffiti",macaron:"amap://styles/macaron",blue:"amap://styles/blue",darkblue:"amap://styles/darkblue",wine:"amap://styles/wine"}},p=()=>{const e=typeof window.AMap<"u",r=window.AMapLoaded===!0;return console.log("ðŸ” APIåŠ è½½çŠ¶æ€æ£€æŸ¥:",{hasAMap:e,hasWindowFlag:r,AMapType:typeof window.AMap,windowAMapLoaded:window.AMapLoaded}),e&&r},A=(e=1e4)=>new Promise((r,a)=>{if(typeof window.AMap<"u"){console.log("âœ… AMapå·²å¯ç”¨ï¼Œç›´æŽ¥è¿”å›ž"),r(window.AMap);return}console.log("â³ ç­‰å¾…é«˜å¾·åœ°å›¾APIåŠ è½½...");const n=Date.now(),t=setInterval(()=>{typeof window.AMap<"u"?(clearInterval(t),console.log("âœ… é«˜å¾·åœ°å›¾APIåŠ è½½å®Œæˆ"),r(window.AMap)):Date.now()-n>e&&(clearInterval(t),console.error("âŒ é«˜å¾·åœ°å›¾APIåŠ è½½è¶…æ—¶"),a(new Error(`é«˜å¾·åœ°å›¾APIåŠ è½½è¶…æ—¶ (${e}ms)ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æˆ–APIå¯†é’¥æ˜¯å¦æ­£ç¡®`)))},200)}),y=()=>({loaded:p(),hasAMap:typeof window.AMap<"u",hasWindowFlag:window.AMapLoaded===!0,key:c.key,version:c.version}),w={wgs84ToGcj02:(e,r)=>{if(e==null||r===null||r===void 0)return console.warn("âš ï¸ åæ ‡è½¬æ¢: è¾“å…¥å‚æ•°ä¸ºnullæˆ–undefined",{lng:e,lat:r}),[0,0];if(typeof e!="number"||typeof r!="number")return console.warn("âš ï¸ åæ ‡è½¬æ¢: è¾“å…¥å‚æ•°ä¸æ˜¯æ•°å­—ç±»åž‹",{lng:e,lat:r}),[0,0];if(isNaN(e)||isNaN(r))return console.warn("âš ï¸ åæ ‡è½¬æ¢: è¾“å…¥å‚æ•°ä¸ºNaN",{lng:e,lat:r}),[0,0];const a=6378245,n=.006693421622965943;if(d(e,r))return[e,r];try{let t=f(e-105,r-35),i=h(e-105,r-35);const u=r/180*Math.PI;let s=Math.sin(u);s=1-n*s*s;const M=Math.sqrt(s);t=t*180/(a*(1-n)/(s*M)*Math.PI),i=i*180/(a/M*Math.cos(u)*Math.PI);const o=[e+i,r+t];return isNaN(o[0])||isNaN(o[1])?(console.warn("âš ï¸ åæ ‡è½¬æ¢ç»“æžœåŒ…å«NaN",{input:[e,r],output:o}),[e,r]):o}catch(t){return console.error("âŒ åæ ‡è½¬æ¢å¤±è´¥:",t,{lng:e,lat:r}),[e,r]}},gcj02ToWgs84:(e,r)=>{if(e==null||r===null||r===void 0)return console.warn("âš ï¸ åæ ‡è½¬æ¢: è¾“å…¥å‚æ•°ä¸ºnullæˆ–undefined",{lng:e,lat:r}),[0,0];if(typeof e!="number"||typeof r!="number")return console.warn("âš ï¸ åæ ‡è½¬æ¢: è¾“å…¥å‚æ•°ä¸æ˜¯æ•°å­—ç±»åž‹",{lng:e,lat:r}),[0,0];if(isNaN(e)||isNaN(r))return console.warn("âš ï¸ åæ ‡è½¬æ¢: è¾“å…¥å‚æ•°ä¸ºNaN",{lng:e,lat:r}),[0,0];const a=6378245,n=.006693421622965943;if(d(e,r))return[e,r];try{let t=f(e-105,r-35),i=h(e-105,r-35);const u=r/180*Math.PI;let s=Math.sin(u);s=1-n*s*s;const M=Math.sqrt(s);t=t*180/(a*(1-n)/(s*M)*Math.PI),i=i*180/(a/M*Math.cos(u)*Math.PI);const o=[e-i,r-t];return isNaN(o[0])||isNaN(o[1])?(console.warn("âš ï¸ åæ ‡è½¬æ¢ç»“æžœåŒ…å«NaN",{input:[e,r],output:o}),[e,r]):o}catch(t){return console.error("âŒ åæ ‡è½¬æ¢å¤±è´¥:",t,{lng:e,lat:r}),[e,r]}},batchWgs84ToGcj02:e=>Array.isArray(e)?e.map((r,a)=>{if(!Array.isArray(r)||r.length<2)return console.warn(`âš ï¸ æ‰¹é‡åæ ‡è½¬æ¢: ç¬¬${a}ä¸ªåæ ‡æ— æ•ˆ`,r),[0,0];const[n,t]=r;return n==null||t===null||t===void 0?(console.warn(`âš ï¸ æ‰¹é‡åæ ‡è½¬æ¢: ç¬¬${a}ä¸ªåæ ‡åŒ…å«nullå€¼`,r),[0,0]):w.wgs84ToGcj02(n,t)}):(console.warn("âš ï¸ æ‰¹é‡åæ ‡è½¬æ¢: è¾“å…¥ä¸æ˜¯æ•°ç»„",e),[])};function d(e,r){return e<72.004||e>137.8347||r<.8293||r>55.8271}function f(e,r){let a=-100+2*e+3*r+.2*r*r+.1*e*r+.2*Math.sqrt(Math.abs(e));return a+=(20*Math.sin(6*e*Math.PI)+20*Math.sin(2*e*Math.PI))*2/3,a+=(20*Math.sin(r*Math.PI)+40*Math.sin(r/3*Math.PI))*2/3,a+=(160*Math.sin(r/12*Math.PI)+320*Math.sin(r*Math.PI/30))*2/3,a}function h(e,r){let a=300+e+2*r+.1*e*e+.1*e*r+.1*Math.sqrt(Math.abs(e));return a+=(20*Math.sin(6*e*Math.PI)+20*Math.sin(2*e*Math.PI))*2/3,a+=(20*Math.sin(e*Math.PI)+40*Math.sin(e/3*Math.PI))*2/3,a+=(150*Math.sin(e/12*Math.PI)+300*Math.sin(e/30*Math.PI))*2/3,a}export{c as A,w as C,y as g,A as w};
