import{_ as _s,L as Ts,M as js,r as M,m as Ke,x as xs,N as As,b as E,o as y,c as h,f as t,w as s,e,g as i,t as o,u as d,s as L,O as Zs,P as Is,Q as Ps,C as Js,R as Rs,F as gs,h as ms,S as Es,U as qs,V as es,W as Bs,G as V,v as Os,X as Vs,i as Xt,Y as Ks,Z as ps,$ as Ss,a0 as Ns,a1 as ke,a2 as rs,B as ds,a3 as Hs,a4 as St,I as us,a5 as ns,a6 as Us,a7 as Ds,a8 as ys,a9 as re,aa as Ws,ab as Ys,ac as Xs,ad as eo,q as Qs,ae as to,af as so,ag as oo,ah as ao,ai as lo,H as no,aj as io}from"./index-e771dba6.js";import{g as Fs,w as ro,C as Cs,A as fs}from"./amap-ee4ac7b4.js";import{C as uo}from"./CameraLiveStream-a3940bc5.js";const po={class:"airport-info-tab"},co={key:0,class:"waiting-container"},vo={style:{"margin-top":"10px"}},go={style:{"margin-top":"15px"}},mo={style:{"margin-top":"15px",padding:"10px",background:"var(--el-color-info-light-9)","border-radius":"4px","font-size":"12px"}},fo={key:0},yo={class:"data-container"},_o={style:{"margin-bottom":"15px",color:"var(--el-text-color-primary)","border-left":"4px solid var(--el-color-primary)","padding-left":"10px"}},xo={key:0,style:{"font-size":"12px",color:"var(--el-color-success)","margin-left":"10px"}},bo={style:{"margin-bottom":"15px"}},ho={style:{color:"var(--el-text-color-primary)","font-weight":"500"}},wo={style:{"font-size":"10px",color:"#999","margin-top":"2px"}},zo={class:"card-header"},$o={key:0,style:{"margin-left":"4px"}},ko={class:"info-content"},So={class:"info-item"},To={class:"value"},Mo={class:"info-item"},Do={class:"value"},Co={class:"info-item"},Oo={class:"value"},Po={class:"info-item"},No={class:"value"},Ho={class:"info-item"},Ro={class:"info-item"},jo={class:"info-item"},Ao={class:"info-item"},Lo={class:"info-item"},Vo={class:"value"},Uo={class:"info-item"},Fo={class:"info-item"},Io={class:"info-item"},Jo={class:"value"},Eo={class:"info-item"},qo={class:"value"},Bo={class:"card-header"},Qo={key:0,style:{"margin-left":"4px"}},Go={key:1,style:{"margin-left":"4px","font-size":"10px"}},Zo={class:"info-content"},Ko={key:0,style:{background:"var(--el-color-warning-light-9)",padding:"5px","border-radius":"4px","margin-bottom":"8px","font-size":"12px",color:"var(--el-color-warning)"}},Wo={class:"info-item"},Yo={class:"value"},Xo={class:"info-item"},ea={class:"value",title:"Ê†ºÂºè: {domain-type-subtype}"},ta={class:"info-item"},sa={class:"info-item"},oa={class:"info-item"},aa={class:"value"},la={class:"info-item"},na={class:"value"},ia={class:"info-item"},ra={class:"value"},da={class:"info-item"},ua={class:"value"},pa={class:"info-item"},ca={class:"value"},va={class:"info-item"},ga={class:"info-item"},ma={class:"value"},fa={class:"card-header"},ya={key:0,style:{"margin-left":"4px"}},_a={class:"info-content"},xa={class:"info-item"},ba={class:"value"},ha={class:"info-item"},wa={class:"value"},za={class:"info-item"},$a={class:"value"},ka={class:"info-item"},Sa={class:"value"},Ta={class:"info-item"},Ma={class:"value"},Da={class:"info-item"},Ca={class:"info-item"},Oa={class:"value"},Pa={class:"info-item"},Na={class:"value"},Ha={class:"info-item"},Ra={class:"info-item"},ja={class:"info-item"},Aa={class:"value"},La={class:"info-item"},Va={key:0,class:"info-item"},Ua={class:"value"},Fa={class:"info-item"},Ia={class:"card-header"},Ja={key:0,style:{"margin-left":"4px"}},Ea={class:"info-content"},qa={class:"info-item"},Ba={class:"info-item"},Qa={class:"info-item"},Ga={class:"value"},Za={class:"info-item"},Ka={class:"value"},Wa={class:"info-item"},Ya={class:"value"},Xa={class:"info-item"},el={class:"value"},tl={class:"info-item"},sl={class:"value"},ol={class:"info-item"},al={class:"value"},ll={class:"info-item"},nl={class:"value"},il={class:"info-item"},rl={class:"info-item"},dl={class:"value"},ul={class:"info-item"},pl={class:"value"},cl={class:"info-item"},vl={class:"value"},gl={class:"card-header"},ml={class:"info-content"},fl={class:"info-item",style:{background:"var(--el-color-warning-light-9)",padding:"5px","border-radius":"4px","margin-bottom":"8px","font-size":"12px"}},yl={style:{"margin-top":"2px"}},_l={key:0,class:"info-item"},xl={class:"value"},bl={key:1,class:"info-item"},hl={class:"value"},wl={key:2,class:"info-item"},zl={style:{"margin-top":"5px"}},$l={style:{"font-weight":"bold",color:"var(--el-color-primary)"}},kl={style:{"margin-top":"2px"}},Sl={style:{color:"var(--el-color-success)"}},Tl={style:{"margin-left":"10px",color:"var(--el-color-warning)"}},Ml={key:0,style:{"margin-top":"5px"}},Dl={style:{"font-weight":"bold"}},Cl={style:{"font-size":"11px",color:"var(--el-color-text-regular)"}},Ol={key:0,style:{"margin-top":"3px"}},Pl={key:0,style:{color:"var(--el-color-primary)"}},Nl={key:3,class:"info-item"},Hl={style:{"margin-top":"5px"}},Rl={key:4,style:{"text-align":"center",padding:"20px",color:"var(--el-color-text-secondary)"}},jl={class:"card-header"},Al={class:"info-content"},Ll={class:"info-item"},Vl={class:"info-item"},Ul={class:"info-item"},Fl={class:"value",style:{"font-size":"10px"}},Il={class:"info-item"},Jl={class:"value",style:{"font-size":"10px"}},El={class:"info-item"},ql={class:"card-header"},Bl={class:"info-content"},Ql={class:"info-item"},Gl={class:"value"},Zl={class:"info-item"},Kl={class:"value"},Wl={class:"info-item"},Yl={class:"value"},Xl={class:"info-item"},en={class:"value"},tn={class:"info-item"},sn={class:"value"},on={class:"info-item"},an={class:"value"},ln={class:"card-header"},nn={class:"info-content"},rn={class:"info-item"},dn={class:"value"},un={class:"info-item"},pn={class:"value"},cn={class:"info-item"},vn={class:"info-item"},gn={class:"info-item"},mn={class:"value"},fn={class:"info-item"},yn={class:"value"},_n={class:"info-item"},xn={class:"value"},bn={class:"info-item"},hn={class:"value"},wn={style:{position:"fixed",top:"50%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},zn={style:{position:"fixed",top:"60%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},$n={class:"info-content"},kn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Sn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Tn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Mn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Dn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},Cn={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},On={style:{padding:"10px"}},Pn={style:{"margin-bottom":"15px"}},Nn={style:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"}},Hn={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},Rn={key:0,style:{"margin-left":"4px"}},jn={key:1,style:{color:"var(--el-color-warning)"}},An={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},Ln={key:0,style:{"margin-left":"4px"}},Vn={key:1,style:{color:"var(--el-color-warning)"}},Un={key:2,style:{"font-size":"10px",color:"#666","margin-top":"2px"}},Fn={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},In={key:0,style:{"margin-left":"4px"}},Jn={key:1,style:{color:"var(--el-color-warning)"}},En={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},qn={key:0,style:{"margin-left":"4px"}},Bn={key:1,style:{color:"var(--el-color-warning)"}},Qn={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},Gn={key:0,style:{"margin-left":"4px"}},Zn={key:1,style:{color:"var(--el-color-warning)"}},Kn={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},Wn={key:0,style:{"margin-left":"4px"}},Yn={key:1,style:{color:"var(--el-color-warning)"}},Xn={key:0,style:{background:"var(--el-color-success-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},ei={key:1,style:{background:"var(--el-color-info-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},ti={key:2,style:{background:"var(--el-color-warning-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},si={key:3,style:{background:"var(--el-color-danger-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},oi={key:4,style:{background:"var(--el-color-success-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},ai={key:5,style:{background:"var(--el-color-primary-light-9)",padding:"10px","border-radius":"4px"}},li={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},ni={key:1,class:"waiting-data",style:{margin:"20px 0",padding:"20px","text-align":"center",background:"var(--el-color-warning-light-9)","border-radius":"8px"}},ii={__name:"AirportInfoTab",props:{deviceSn:String,airportSn:String},emits:["dataReceived","subscriptionStatus"],setup(F,{emit:Tt}){const k=F,De=Tt,T=Ts(),me=js(),n=M(null),m=M(!1),Z=M("Êú™ËÆ¢ÈòÖ"),fe=M(!1),be=M("disconnected"),Pe=M("disconnected"),de=M(null),ue=M(null),Oe=M(!1),nt=M(null),lt=M(null),We=M(null),Ve=M(null),Xe=M(null),_=M(null),x=M(null),O=M(null),q=M(null),Ue=Ke(()=>{var a;return`thing/product/${k.airportSn||((a=me.currentDevice)==null?void 0:a.airport_sn)||k.deviceSn}/osd`}),it=Ke(()=>Ue.value),Ot=Ke(()=>Ve.value&&Xe.value&&We.value?`${Ve.value}-${Xe.value}-${We.value}`:We.value||"--"),Fe=()=>{var u;return k.airportSn||((u=me.currentDevice)==null?void 0:u.airport_sn)||k.deviceSn||"--"},Wt=u=>u?new Date(u).toLocaleString():"--",ts=(u,a)=>{u&&((u.job_number!==void 0||u.acc_time!==void 0||u.working_voltage!==void 0||u.working_current!==void 0||u.backup_battery!==void 0)&&(_.value={...a,data:u},console.log("üìä Êú∫Âú∫Âü∫Á°Ä‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:",u)),(u.wireless_link!==void 0||u.flighttask_prepare_capacity!==void 0||u.media_file_detail!==void 0)&&(x.value={...a,data:u},console.log("üì° Âõæ‰º†ÈìæË∑Ø‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:",u)),(u.temperature!==void 0||u.humidity!==void 0||u.latitude!==void 0||u.longitude!==void 0||u.network_state!==void 0||u.drone_in_dock!==void 0)&&(O.value={...a,data:u},console.log("üå°Ô∏è ÁéØÂ¢ÉÁä∂ÊÄÅ‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:",u)),(u.battery!==void 0||u.firmware_version!==void 0||u.maintain_status!==void 0||u.position_state!==void 0)&&(q.value={...a,data:u},console.log("‚úàÔ∏è È£ûÊú∫‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞:",u)))},A=u=>u?new Date(u).toLocaleTimeString():"--",p=u=>{if(!u)return"--";let a;if(typeof u=="string"?a=new Date(u).getTime():a=u,isNaN(a)||a<=0)return"Êó†ÊïàÊó∂Èó¥";const Q=Date.now(),U=Math.floor((Q-a)/1e3);return U<0?"Êú™Êù•Êó∂Èó¥":U>365*24*3600?"Âæà‰πÖ‰ª•Ââç":U<60?`${U}ÁßíÂâç`:U<3600?`${Math.floor(U/60)}ÂàÜÈíüÂâç`:U<86400?`${Math.floor(U/3600)}Â∞èÊó∂Ââç`:`${Math.floor(U/86400)}Â§©Ââç`},C=u=>{if(!u)return!0;let a;if(typeof u=="string"?a=new Date(u).getTime():a=u,isNaN(a)||a<=0)return!0;const Q=Date.now();return Math.floor((Q-a)/1e3)>300},se=u=>{if(!u)return"--";const a=Math.floor(u/3600),Q=Math.floor(u%3600/60);return`${a}Â∞èÊó∂${Q}ÂàÜÈíü`},Le=u=>{Oe.value=!1,u()},dt=u=>!u||u===65535||u<0||u>5?"--":u,Mt=u=>({0:"success",1:"info",2:"info",3:"warning",4:"primary",5:"warning"})[u]||"info",ut=u=>({0:"Á©∫Èó≤‰∏≠",1:"Áé∞Âú∫Ë∞ÉËØï",2:"ËøúÁ®ãË∞ÉËØï",3:"Âõ∫‰ª∂ÂçáÁ∫ß‰∏≠",4:"‰Ωú‰∏ö‰∏≠",5:"ÂæÖÊ†áÂÆö"})[u]||"Êú™Áü•Áä∂ÊÄÅ",et=u=>({0:"danger",1:"success",2:"warning",3:"warning"})[u]||"info",c=u=>({0:"Ëà™ÂêëÂíåÁªèÁ∫¨Â∫¶ÈÉΩÊó†Êïà",1:"Ëà™ÂêëÂíåÁªèÁ∫¨Â∫¶ÈÉΩÊúâÊïà",2:"Ëà™ÂêëÊúâÊïàÔºåÁªèÁ∫¨Â∫¶Êó†Êïà",3:"ÁªèÁ∫¨Â∫¶ÊúâÊïàÔºåËà™ÂêëÊó†Êïà"})[u]||"Êú™Áü•Áä∂ÊÄÅ",b=u=>({0:"info",1:"primary",2:"warning",3:"success",4:"info",5:"info",6:"info",7:"primary",8:"warning",9:"success",10:"primary",11:"primary",12:"info",13:"success",14:"success",15:"info"})[u]||"info",z=u=>({0:"Á©∫Èó≤Ê®°Âºè",1:"Âà∂ÂÜ∑Ê®°Âºè",2:"Âà∂ÁÉ≠Ê®°Âºè",3:"Èô§ÊπøÊ®°Âºè",4:"Âà∂ÂÜ∑ÈÄÄÂá∫Ê®°Âºè",5:"Âà∂ÁÉ≠ÈÄÄÂá∫Ê®°Âºè",6:"Èô§ÊπøÈÄÄÂá∫Ê®°Âºè",7:"Âà∂ÂÜ∑ÂáÜÂ§áÊ®°Âºè",8:"Âà∂ÁÉ≠ÂáÜÂ§áÊ®°Âºè",9:"Èô§ÊπøÂáÜÂ§áÊ®°Âºè",10:"È£éÂÜ∑ÂáÜÂ§á‰∏≠",11:"È£éÂÜ∑‰∏≠",12:"È£éÂÜ∑ÈÄÄÂá∫‰∏≠",13:"Èô§ÈõæÂáÜÂ§á‰∏≠",14:"Èô§Èõæ‰∏≠",15:"Èô§ÈõæÈÄÄÂá∫‰∏≠"})[u]||"Êú™Áü•Áä∂ÊÄÅ",$=u=>({0:"Ëá™ÈÄÇÂ∫î",1:"ÊµÅÁïÖ",2:"Ê†áÊ∏Ö",3:"È´òÊ∏Ö",4:"Ë∂ÖÊ∏Ö"})[u]||"Êú™Áü•Ë¥®Èáè",N=u=>u===1?"success":"danger",le=u=>u===1?"Ëà±ÂÜÖ":"Ëà±Â§ñ",f=u=>({0:"info",1:"success",2:"warning",3:"danger"})[u]||"info",l=u=>({0:"ÂÖ≥Èó≠",1:"ÊâìÂºÄ",2:"ÂçäÂºÄ",3:"Ëà±ÁõñÁä∂ÊÄÅÂºÇÂ∏∏"})[u]||"Êú™Áü•Áä∂ÊÄÅ",w=u=>({0:"success",1:"info",2:"warning",3:"danger"})[u]||"info",D=u=>({0:"Êó†Èõ®",1:"Â∞èÈõ®",2:"‰∏≠Èõ®",3:"Â§ßÈõ®"})[u]||"Êú™Áü•",oe=u=>({1:"success",2:"warning"})[u]||"info",B=u=>({1:"ËÆ°ÂàíÊ®°Âºè",2:"ÂæÖÂëΩÊ®°Âºè"})[u]||"Êú™Áü•Ê®°Âºè",Ie=u=>u===0||u===1?"danger":u===2||u===3?"warning":u===4||u===5?"success":"info",K=u=>u===0?"Êó†‰ø°Âè∑":u===1?"Â∑Æ":u===2?"ËæÉÂ∑Æ":u===3?"‰∏ÄËà¨":u===4?"ËæÉÂ•Ω":u===5?"Â•Ω":"Êú™Áü•",he=async()=>{if(!T.isConnected){V.warning("MQTTÊú™ËøûÊé•ÔºåÊó†Ê≥ïËÆ¢ÈòÖÊú∫Âú∫OSDÊï∞ÊçÆ"),Z.value="MQTTÊú™ËøûÊé•";return}fe.value=!0,Z.value="ËÆ¢ÈòÖ‰∏≠...";try{await T.subscribeToTopics(Ue.value,1),Pe.value="connected",Z.value="Â∑≤ËÆ¢ÈòÖ",V.success(`Â∑≤ËÆ¢ÈòÖÊú∫Âú∫OSD‰∏ªÈ¢ò: ${Ue.value}`),console.log("Êú∫Âú∫OSDËÆ¢ÈòÖÊàêÂäü:",Ue.value),De("subscriptionStatus","success")}catch(u){Z.value="ËÆ¢ÈòÖÂ§±Ë¥•",console.error("ËÆ¢ÈòÖÊú∫Âú∫OSD‰∏ªÈ¢òÂ§±Ë¥•:",u),V.error("ËÆ¢ÈòÖÊú∫Âú∫OSD‰∏ªÈ¢òÂ§±Ë¥•"),Pe.value="disconnected",De("subscriptionStatus","error")}finally{fe.value=!1}},Ye=he,v=async()=>{if(!T.isConnected){V.warning("MQTTÊú™ËøûÊé•ÔºåÊó†Ê≥ïËÆ¢ÈòÖËÆæÂ§áÁä∂ÊÄÅÊï∞ÊçÆ");return}try{const u=Fe(),a=`thing/product/${u}/state`;await T.subscribeToTopics(a,1),be.value="connected",V.success(`Â∑≤ËÆ¢ÈòÖËÆæÂ§áÁä∂ÊÄÅ‰∏ªÈ¢ò: ${a}`),console.log("ËÆæÂ§áÁä∂ÊÄÅËÆ¢ÈòÖÊàêÂäü:",{stateTopic:a,airportSn:u,direction:"up",frequency:"Áä∂ÊÄÅÂèòÂåñÊó∂‰∏äÊä•"})}catch(u){console.error("ËÆ¢ÈòÖËÆæÂ§áÁä∂ÊÄÅ‰∏ªÈ¢òÂ§±Ë¥•:",u),V.error("ËÆ¢ÈòÖËÆæÂ§áÁä∂ÊÄÅ‰∏ªÈ¢òÂ§±Ë¥•"),be.value="disconnected"}},r=()=>{var u,a;try{if(console.log("üîç Ê£ÄÊü•Êú∫Âú∫OSDÊ∂àÊÅØ:",{osdTopic:Ue.value,messageHistoryLength:T.messageHistory.length,hasReceivedData:m.value,currentTimestamp:(u=n.value)==null?void 0:u.timestamp,allTopics:T.messageHistory.map(U=>U.topic)}),!Ue.value){console.log("‚ùå Êú∫Âú∫OSD‰∏ªÈ¢ò‰∏∫Á©∫");return}const Q=T.messageHistory.filter(U=>U.topic===Ue.value);if(console.log("üì® ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØÊï∞Èáè:",Q.length),console.log("üì® ÂåπÈÖçÁöÑÊ∂àÊÅØ:",Q),Q.length>0){const U=Q[0];console.log("üì® ÊúÄÊñ∞Ê∂àÊÅØ:",U);const j=!n.value||U.timestamp>n.value.timestamp;if(console.log("üÜï ÊòØÂê¶‰∏∫Êñ∞Ê∂àÊÅØ:",j,{currentTimestamp:(a=n.value)==null?void 0:a.timestamp,newTimestamp:U.timestamp}),j){console.log("‚úÖ Â§ÑÁêÜÊñ∞ÁöÑÊú∫Âú∫OSDÊï∞ÊçÆ:",U);let P=null;try{P=JSON.parse(U.payload),console.log("üìã Ëß£ÊûêÂêéÁöÑOSDÊï∞ÊçÆ:",P)}catch(H){console.error("‚ùå Ëß£ÊûêOSDÊï∞ÊçÆÂ§±Ë¥•:",H);return}if(ts(P.data,U),n.value){const I={...n.value.data||{},...P.data};n.value={...U,data:I},console.log("üîÑ Â±ÄÈÉ®Êõ¥Êñ∞OSDÊï∞ÊçÆ:",{updatedFields:Object.keys(P.data||{}),mergedData:I})}else n.value=U;m.value=!0,Z.value="Â∑≤Êé•Êî∂Êï∞ÊçÆ",De("dataReceived",U),console.log("‚úÖ Êú∫Âú∫Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞ÔºåÊó∂Èó¥Êà≥ÊòæÁ§∫Âú®Ê†áÈ¢òÊóÅËæπ")}else console.log("‚è≠Ô∏è Ê∂àÊÅØÂ∑≤Â§ÑÁêÜËøáÔºåË∑≥Ëøá")}else console.log("üì≠ Ê≤°ÊúâÊâæÂà∞ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØ")}catch(Q){console.error("‚ùå Â§ÑÁêÜÊú∫Âú∫OSDÊ∂àÊÅØÂ§±Ë¥•:",Q)}},g=()=>{var u,a;try{const Q=`thing/product/${Fe()}/state`;console.log("üîç Ê£ÄÊü•ËÆæÂ§áÁä∂ÊÄÅÊ∂àÊÅØ:",{stateTopic:Q,messageHistoryLength:T.messageHistory.length,stateDataStatus:be.value,currentTimestamp:(u=de.value)==null?void 0:u.timestamp}),console.log("üìã ÊâÄÊúâÊ∂àÊÅØ‰∏ªÈ¢ò:",T.messageHistory.map(j=>{var P;return{topic:j.topic,timestamp:j.timestamp,payload:((P=j.payload)==null?void 0:P.substring(0,100))+"..."}}));const U=T.messageHistory.filter(j=>j.topic===Q);if(console.log("üì® ÂåπÈÖçÁä∂ÊÄÅ‰∏ªÈ¢òÁöÑÊ∂àÊÅØÊï∞Èáè:",U.length),console.log("üì® ÂåπÈÖçÁöÑÁä∂ÊÄÅÊ∂àÊÅØ:",U),U.length===0){const j=T.messageHistory.filter(P=>P.topic.includes("state")||P.topic.includes("thing/product"));console.log("üîç Êü•ÊâæÂåÖÂê´stateÊàñthing/productÁöÑÊ∂àÊÅØ:",j)}if(U.length>0){const j=U[0];console.log("üì® ÊúÄÊñ∞Áä∂ÊÄÅÊ∂àÊÅØ:",j);const P=!de.value||j.timestamp>de.value.timestamp;if(console.log("üÜï ÊòØÂê¶‰∏∫Êñ∞Áä∂ÊÄÅÊ∂àÊÅØ:",P,{currentTimestamp:(a=de.value)==null?void 0:a.timestamp,newTimestamp:j.timestamp}),P){console.log("‚úÖ Â§ÑÁêÜÊñ∞ÁöÑËÆæÂ§áÁä∂ÊÄÅÊï∞ÊçÆ:",j);let H=null;try{H=JSON.parse(j.payload),console.log("üìã Ëß£ÊûêÂêéÁöÑÁä∂ÊÄÅÊï∞ÊçÆ:",H)}catch(I){console.error("‚ùå Ëß£ÊûêÁä∂ÊÄÅÊï∞ÊçÆÂ§±Ë¥•:",I);return}if(de.value){const Ne={...de.value.data||{},...H.data};de.value={...j,data:Ne},console.log("üîÑ Â±ÄÈÉ®Êõ¥Êñ∞Áä∂ÊÄÅÊï∞ÊçÆ:",{updatedFields:Object.keys(H.data||{}),mergedData:Ne})}else de.value=j;if(be.value="connected",H.data&&H.data.payload){const I=H.data.payload;ue.value=I.gimbal_pitch||I.pitch,nt.value=I.gimbal_yaw||I.yaw,lt.value=I.gimbal_roll||I.roll,We.value=I.payload_index||I.index,Ve.value=I.type,Xe.value=I.subtype;const Ne=Ve.value&&Xe.value&&We.value?`${Ve.value}-${Xe.value}-${We.value}`:We.value;console.log("üì∑ DJI Dock3 Ë¥üËΩΩÂ±ûÊÄßÊï∞ÊçÆÊõ¥Êñ∞:",{gimbalPitch:ue.value,gimbalYaw:nt.value,gimbalRoll:lt.value,payloadIndex:Ne,payloadType:Ve.value,payloadSubtype:Xe.value,rawPayload:I,timestamp:j.timestamp,topic:j.topic}),V.success(`Ë¥üËΩΩÂ±ûÊÄßÂ∑≤Êõ¥Êñ∞: ${Ne}`)}else console.log("‚ö†Ô∏è Áä∂ÊÄÅÊ∂àÊÅØ‰∏≠Ê≤°ÊúâË¥üËΩΩÂ±ûÊÄßÊï∞ÊçÆ"),console.log("üìã Ê∂àÊÅØÁªìÊûÑ:",{hasData:!!H.data,hasPayload:!!(H.data&&H.data.payload),messageKeys:Object.keys(j),dataKeys:H.data?Object.keys(H.data):[]})}else console.log("‚è≠Ô∏è Áä∂ÊÄÅÊ∂àÊÅØÂ∑≤Â§ÑÁêÜËøáÔºåË∑≥Ëøá")}else console.log("üì≠ Ê≤°ÊúâÊâæÂà∞ÂåπÈÖçÁä∂ÊÄÅ‰∏ªÈ¢òÁöÑÊ∂àÊÅØ")}catch(Q){console.error("‚ùå Â§ÑÁêÜËÆæÂ§áÁä∂ÊÄÅÊï∞ÊçÆÂ§±Ë¥•:",Q)}};let S=null;const R=()=>{S&&clearInterval(S),S=setInterval(()=>{r(),g()},2e3)},ye=()=>{S&&(clearInterval(S),S=null)},Ce=()=>{console.log("üîç ÊâãÂä®Ê£ÄÊü•Áä∂ÊÄÅÊ∂àÊÅØ"),console.log("üìä ÂΩìÂâçÁä∂ÊÄÅ:",{mqttConnected:T.isConnected,messageHistoryLength:T.messageHistory.length,stateTopic:`thing/product/${Fe()}/state`,stateDataStatus:be.value}),console.log("üìã ÊâÄÊúâÊ∂àÊÅØ:",T.messageHistory);const u=`thing/product/${Fe()}/state`,a=T.messageHistory.filter(Q=>Q.topic===u);if(console.log("üì® Áä∂ÊÄÅ‰∏ªÈ¢òÊ∂àÊÅØ:",a),a.length>0)V.success(`ÊâæÂà∞ ${a.length} Êù°Áä∂ÊÄÅÊ∂àÊÅØ`),g();else{V.warning("Êú™ÊâæÂà∞Áä∂ÊÄÅÊ∂àÊÅØ");const Q=T.messageHistory.map(U=>U.topic);console.log("üìã ÊâÄÊúâÊ∂àÊÅØ‰∏ªÈ¢ò:",Q)}},Ae=()=>{if(console.log("üîÑ Âà∑Êñ∞Êú∫Âú∫ËÆ¢ÈòÖÁä∂ÊÄÅ"),console.log("üìä ÂΩìÂâçÁä∂ÊÄÅ:",{mqttConnected:T.isConnected,messageHistoryLength:T.messageHistory.length,airportOsdTopic:it.value,hasReceivedData:m.value}),T.isConnected)if(Z.value="MQTTÂ∑≤ËøûÊé•ÔºåÁ≠âÂæÖÊï∞ÊçÆ...",console.log("‚úÖ MQTTÂ∑≤ËøûÊé•"),T.messageHistory.length>0){console.log("üì® Ê∂àÊÅØÂéÜÂè≤:",T.messageHistory);const u=T.messageHistory.filter(a=>a.topic===it.value);u.length>0?(console.log("üéØ ÊâæÂà∞ÂåπÈÖçÁöÑÊ∂àÊÅØ:",u),Z.value=`ÊâæÂà∞ ${u.length} Êù°Ê∂àÊÅØÔºåÊ≠£Âú®Â§ÑÁêÜ...`,r()):(console.log("‚ùå Ê≤°ÊúâÊâæÂà∞ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØ"),Z.value="MQTTÂ∑≤ËøûÊé•Ôºå‰ΩÜÊú™ÊâæÂà∞ÂåπÈÖçÁöÑÊ∂àÊÅØ")}else console.log("üì≠ Ê∂àÊÅØÂéÜÂè≤‰∏∫Á©∫"),Z.value="MQTTÂ∑≤ËøûÊé•ÔºåÊ∂àÊÅØÂéÜÂè≤‰∏∫Á©∫";else Z.value="MQTTÊú™ËøûÊé•",console.log("‚ùå MQTTÊú™ËøûÊé•")};return xs(()=>{console.log("Êú∫Âú∫‰ø°ÊÅØÁªÑ‰ª∂ÊåÇËΩΩÔºåÂºÄÂßãËÆ¢ÈòÖÊï∞ÊçÆ"),he(),v(),R()}),As(()=>{console.log("Êú∫Âú∫‰ø°ÊÅØÁªÑ‰ª∂Âç∏ËΩΩÔºåÂÅúÊ≠¢ÁõëÂê¨"),ye(),Ue.value&&T.unsubscribeTopics(Ue.value);const u=`thing/product/${Fe()}/state`;T.unsubscribeTopics(u)}),(u,a)=>{const Q=E("el-button"),U=E("el-alert"),j=E("el-col"),P=E("el-icon"),H=E("el-tag"),I=E("el-card"),Ne=E("el-row"),Je=E("el-tab-pane"),Dt=E("el-tabs"),Ct=E("el-drawer");return y(),h("div",po,[m.value?L("",!0):(y(),h("div",co,[t(U,{title:"Á≠âÂæÖÊé•Êî∂Êú∫Âú∫OSDÊï∞ÊçÆ",type:"info",closable:!1,"show-icon":""},{default:s(()=>{var J,G;return[e("div",vo,[e("p",null,[a[2]||(a[2]=e("strong",null,"ËÆ¢ÈòÖÁä∂ÊÄÅ:",-1)),i(" "+o(Z.value),1)]),e("p",null,[a[3]||(a[3]=e("strong",null,"ËÆ¢ÈòÖ‰∏ªÈ¢ò:",-1)),a[4]||(a[4]=i()),e("code",null,o(it.value||"thing/product/"+Fe()+"/osd"),1)]),a[12]||(a[12]=e("p",null,[e("strong",null,"Á≠âÂæÖÊï∞ÊçÆ‰∏≠..."),i(" ËØ∑Á°Æ‰øùËÆæÂ§áÂ∑≤ËøûÊé•Âπ∂Ê≠£Âú®ÂèëÈÄÅOSDÊï∞ÊçÆ")],-1)),e("div",go,[t(Q,{type:"primary",size:"small",loading:fe.value,onClick:d(Ye)},{default:s(()=>[i(o(fe.value?"ËÆ¢ÈòÖ‰∏≠...":"ÊâãÂä®ËÆ¢ÈòÖ"),1)]),_:1},8,["loading","onClick"]),t(Q,{size:"small",onClick:Ae,style:{"margin-left":"10px"}},{default:s(()=>[...a[5]||(a[5]=[i(" Âà∑Êñ∞Áä∂ÊÄÅ ",-1)])]),_:1}),t(Q,{size:"small",onClick:Ce,type:"info",style:{"margin-left":"10px"}},{default:s(()=>[...a[6]||(a[6]=[i(" Ê£ÄÊü•Áä∂ÊÄÅÊ∂àÊÅØ ",-1)])]),_:1})]),e("div",mo,[a[11]||(a[11]=e("div",null,[e("strong",null,"Ë∞ÉËØï‰ø°ÊÅØ:")],-1)),e("div",null,"MQTTËøûÊé•: "+o(d(T).isConnected?"‚úÖ Â∑≤ËøûÊé•":"‚ùå Êú™ËøûÊé•"),1),e("div",null,"Ê∂àÊÅØÂéÜÂè≤Êï∞Èáè: "+o(d(T).messageHistory.length),1),e("div",null,[a[7]||(a[7]=i("Êú∫Âú∫OSD‰∏ªÈ¢ò: ",-1)),e("code",null,o(it.value),1)]),e("div",null,[a[8]||(a[8]=i("ËÆæÂ§áÁä∂ÊÄÅ‰∏ªÈ¢ò: ",-1)),e("code",null,"thing/product/"+o(Fe())+"/state",1)]),e("div",null,[a[9]||(a[9]=i("Êú∫Âú∫Â∫èÂàóÂè∑: ",-1)),e("code",null,o(Fe()),1)]),e("div",null,"Â∑≤Êé•Êî∂Êï∞ÊçÆ: "+o(m.value?"‚úÖ ÊòØ":"‚ùå Âê¶"),1),e("div",null,"Áä∂ÊÄÅÊï∞ÊçÆËøûÊé•: "+o(be.value==="connected"?"‚úÖ Â∑≤ËøûÊé•":"‚ùå Êú™ËøûÊé•"),1),e("div",null,"Ë¥üËΩΩÂ±ûÊÄß: "+o(ue.value!==null?"‚úÖ ÊúâÊï∞ÊçÆ":"‚ùå Êó†Êï∞ÊçÆ"),1),d(T).messageHistory.length>0?(y(),h("div",fo,[e("div",null,[a[10]||(a[10]=i("ÊúÄÊñ∞Ê∂àÊÅØ‰∏ªÈ¢ò: ",-1)),e("code",null,o((J=d(T).messageHistory[0])==null?void 0:J.topic),1)]),e("div",null,"ÊúÄÊñ∞Ê∂àÊÅØÊó∂Èó¥: "+o(new Date((G=d(T).messageHistory[0])==null?void 0:G.timestamp).toLocaleString()),1)])):L("",!0)])])]}),_:1})])),e("div",yo,[t(Ne,{gutter:8,class:"data-grid"},{default:s(()=>[t(j,{span:12},{default:s(()=>{var J;return[e("h3",_o,[a[13]||(a[13]=i(" üè¢ Êú∫Âú∫‰ø°ÊÅØ ",-1)),(J=n.value)!=null&&J.timestamp?(y(),h("span",xo," (Êï∞ÊçÆÂ∑≤Êõ¥Êñ∞: "+o(A(n.value.timestamp))+") ",1)):L("",!0)])]}),_:1}),t(j,{span:12,style:{"text-align":"right"}},{default:s(()=>{var J,G;return[e("div",bo,[a[14]||(a[14]=e("span",{style:{color:"var(--el-text-color-regular)","font-size":"14px"}},"Êú∫Âú∫Â∫èÂàóÂè∑: ",-1)),e("span",ho,o(Fe()),1),e("div",wo," Ë∞ÉËØï: gateway="+o((J=n.value)==null?void 0:J.gateway)+", deviceSn="+o(F.deviceSn)+", currentDevice.airport_sn="+o((G=d(me).currentDevice)==null?void 0:G.airport_sn),1)])]}),_:1}),t(j,{span:4},{default:s(()=>[t(I,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",zo,[t(P,null,{default:s(()=>[t(d(Zs))]),_:1}),a[15]||(a[15]=e("span",null,"ÁéØÂ¢ÉÁä∂ÊÄÅ",-1)),t(H,{size:"small",type:O.value?C(O.value.timestamp)?"warning":"success":"info"},{default:s(()=>[i(o(O.value?p(O.value.timestamp):"Á≠âÂæÖ")+" ",1),O.value&&C(O.value.timestamp)?(y(),h("span",$o,"‚ö†Ô∏è")):L("",!0)]),_:1},8,["type"])])]),default:s(()=>{var J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He,W,Y,_e,Ee,qe,Re,je,Be,Te,Me,pt,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,Qe,Ge,Ze,Pt,Nt,Ht,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt;return[e("div",ko,[e("div",So,[a[16]||(a[16]=e("span",{class:"label"},"Ëà±ÂÜÖÊ∏©Â∫¶:",-1)),e("span",To,o(((G=(J=O.value)==null?void 0:J.data)==null?void 0:G.temperature)||((ie=(ne=n.value)==null?void 0:ne.data)==null?void 0:ie.temperature)||"--")+"¬∞C",1)]),e("div",Mo,[a[17]||(a[17]=e("span",{class:"label"},"ÁéØÂ¢ÉÊ∏©Â∫¶:",-1)),e("span",Do,o(((ce=(pe=O.value)==null?void 0:pe.data)==null?void 0:ce.environment_temperature)||((ge=(ve=n.value)==null?void 0:ve.data)==null?void 0:ge.environment_temperature)||"--")+"¬∞C",1)]),e("div",Co,[a[18]||(a[18]=e("span",{class:"label"},"ÊπøÂ∫¶:",-1)),e("span",Oo,o(((ze=(we=O.value)==null?void 0:we.data)==null?void 0:ze.humidity)||(($e=(ae=n.value)==null?void 0:ae.data)==null?void 0:$e.humidity)||"--")+"%",1)]),e("div",Po,[a[19]||(a[19]=e("span",{class:"label"},"È£éÈÄü:",-1)),e("span",No,o(((He=(Se=O.value)==null?void 0:Se.data)==null?void 0:He.wind_speed)||((Y=(W=n.value)==null?void 0:W.data)==null?void 0:Y.wind_speed)||"--")+"m/s",1)]),e("div",Ho,[a[20]||(a[20]=e("span",{class:"label"},"ÈôçÈõ®Èáè:",-1)),t(H,{type:w(((Ee=(_e=O.value)==null?void 0:_e.data)==null?void 0:Ee.rainfall)||((Re=(qe=n.value)==null?void 0:qe.data)==null?void 0:Re.rainfall)),size:"small"},{default:s(()=>{var X,ee,te,xe;return[i(o(D(((ee=(X=O.value)==null?void 0:X.data)==null?void 0:ee.rainfall)||((xe=(te=n.value)==null?void 0:te.data)==null?void 0:xe.rainfall))),1)]}),_:1},8,["type"])]),e("div",Ro,[a[21]||(a[21]=e("span",{class:"label"},"È£ûË°åÂô®Âú®Ëà±:",-1)),t(H,{type:N(((Be=(je=O.value)==null?void 0:je.data)==null?void 0:Be.drone_in_dock)||((Me=(Te=n.value)==null?void 0:Te.data)==null?void 0:Me.drone_in_dock)),size:"small"},{default:s(()=>{var X,ee,te,xe;return[i(o(le(((ee=(X=O.value)==null?void 0:X.data)==null?void 0:ee.drone_in_dock)||((xe=(te=n.value)==null?void 0:te.data)==null?void 0:xe.drone_in_dock))),1)]}),_:1},8,["type"])]),e("div",jo,[a[22]||(a[22]=e("span",{class:"label"},"ÁΩëÁªúÁ±ªÂûã:",-1)),t(H,{type:(((vt=(ct=(pt=O.value)==null?void 0:pt.data)==null?void 0:ct.network_state)==null?void 0:vt.type)||((ft=(mt=(gt=n.value)==null?void 0:gt.data)==null?void 0:mt.network_state)==null?void 0:ft.type))===1?"success":"info",size:"small"},{default:s(()=>{var X,ee,te,xe,Gt,Zt;return[i(o((((te=(ee=(X=O.value)==null?void 0:X.data)==null?void 0:ee.network_state)==null?void 0:te.type)||((Zt=(Gt=(xe=n.value)==null?void 0:xe.data)==null?void 0:Gt.network_state)==null?void 0:Zt.type))===1?"4G":"‰ª•Â§™ÁΩë"),1)]}),_:1},8,["type"])]),e("div",Ao,[a[23]||(a[23]=e("span",{class:"label"},"ÁΩëÁªúË¥®Èáè:",-1)),t(H,{type:Ie(((xt=(_t=(yt=O.value)==null?void 0:yt.data)==null?void 0:_t.network_state)==null?void 0:xt.quality)||((wt=(ht=(bt=n.value)==null?void 0:bt.data)==null?void 0:ht.network_state)==null?void 0:wt.quality)),size:"small"},{default:s(()=>{var X,ee,te,xe,Gt,Zt;return[i(o(K(((te=(ee=(X=O.value)==null?void 0:X.data)==null?void 0:ee.network_state)==null?void 0:te.quality)||((Zt=(Gt=(xe=n.value)==null?void 0:xe.data)==null?void 0:Gt.network_state)==null?void 0:Zt.quality))),1)]}),_:1},8,["type"])]),e("div",Lo,[a[24]||(a[24]=e("span",{class:"label"},"ÁΩëÁªúÈÄüÁéá:",-1)),e("span",Vo,o(((kt=($t=(zt=O.value)==null?void 0:zt.data)==null?void 0:$t.network_state)==null?void 0:kt.rate)||((Ze=(Ge=(Qe=n.value)==null?void 0:Qe.data)==null?void 0:Ge.network_state)==null?void 0:Ze.rate)||"--")+" KB/s",1)]),e("div",Uo,[a[25]||(a[25]=e("span",{class:"label"},"Ë°•ÂÖâÁÅØ:",-1)),t(H,{type:(((Nt=(Pt=O.value)==null?void 0:Pt.data)==null?void 0:Nt.supplement_light_state)||((Rt=(Ht=n.value)==null?void 0:Ht.data)==null?void 0:Rt.supplement_light_state))===1?"success":"info",size:"small"},{default:s(()=>{var X,ee,te,xe;return[i(o((((ee=(X=O.value)==null?void 0:X.data)==null?void 0:ee.supplement_light_state)||((xe=(te=n.value)==null?void 0:te.data)==null?void 0:xe.supplement_light_state))===1?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",Fo,[a[26]||(a[26]=e("span",{class:"label"},"Ëà±ÁõñÁä∂ÊÄÅ:",-1)),t(H,{type:f(((At=(jt=O.value)==null?void 0:jt.data)==null?void 0:At.cover_state)||((Vt=(Lt=n.value)==null?void 0:Lt.data)==null?void 0:Vt.cover_state)),size:"small"},{default:s(()=>{var X,ee,te,xe;return[i(o(l(((ee=(X=O.value)==null?void 0:X.data)==null?void 0:ee.cover_state)||((xe=(te=n.value)==null?void 0:te.data)==null?void 0:xe.cover_state))),1)]}),_:1},8,["type"])]),e("div",Io,[a[27]||(a[27]=e("span",{class:"label"},"Á∫¨Â∫¶:",-1)),e("span",Jo,o(((Ft=(Ut=O.value)==null?void 0:Ut.data)==null?void 0:Ft.latitude)||((Jt=(It=n.value)==null?void 0:It.data)==null?void 0:Jt.latitude)||"--"),1)]),e("div",Eo,[a[28]||(a[28]=e("span",{class:"label"},"ÁªèÂ∫¶:",-1)),e("span",qo,o(((qt=(Et=O.value)==null?void 0:Et.data)==null?void 0:qt.longitude)||((Qt=(Bt=n.value)==null?void 0:Bt.data)==null?void 0:Qt.longitude)||"--"),1)])])]}),_:1})]),_:1}),t(j,{span:4},{default:s(()=>[t(I,{class:"info-card",shadow:"hover"},{header:s(()=>{var J,G;return[e("div",Bo,[t(P,null,{default:s(()=>[t(d(Is))]),_:1}),a[29]||(a[29]=e("span",null,"È£ûÊú∫‰ø°ÊÅØ",-1)),t(H,{size:"small",type:q.value||n.value?C(((J=q.value)==null?void 0:J.timestamp)||((G=n.value)==null?void 0:G.timestamp))?"warning":"success":"info"},{default:s(()=>{var ne,ie,pe,ce,ve,ge;return[i(o(q.value||n.value?p(((ne=q.value)==null?void 0:ne.timestamp)||((ie=n.value)==null?void 0:ie.timestamp)):"Á≠âÂæÖ")+" ",1),(q.value||n.value)&&C(((pe=q.value)==null?void 0:pe.timestamp)||((ce=n.value)==null?void 0:ce.timestamp))?(y(),h("span",Qo,"‚ö†Ô∏è")):L("",!0),(q.value||n.value)&&C(((ve=q.value)==null?void 0:ve.timestamp)||((ge=n.value)==null?void 0:ge.timestamp))?(y(),h("span",Go,"(ÂéÜÂè≤Êï∞ÊçÆ)")):L("",!0)]}),_:1},8,["type"])])]}),default:s(()=>{var J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He,W,Y,_e,Ee,qe,Re,je,Be,Te,Me,pt,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,Qe,Ge,Ze,Pt,Nt,Ht,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt,X,ee,te,xe,Gt,Zt,cs,vs,tt,st,ot,at,ss,os,bs,hs,ws,zs,$s,ks;return[e("div",Zo,[(q.value||n.value)&&C(((J=q.value)==null?void 0:J.timestamp)||((G=n.value)==null?void 0:G.timestamp))?(y(),h("div",Ko," üìã ÊòæÁ§∫ÂéÜÂè≤Êï∞ÊçÆÔºåÊúÄÂêéÊõ¥Êñ∞: "+o(A(((ne=q.value)==null?void 0:ne.timestamp)||((ie=n.value)==null?void 0:ie.timestamp))),1)):L("",!0),e("div",Wo,[a[30]||(a[30]=e("span",{class:"label"},"È£ûÊú∫Â∫èÂàóÂè∑:",-1)),e("span",Yo,o(((ve=(ce=(pe=q.value)==null?void 0:pe.data)==null?void 0:ce.sub_device)==null?void 0:ve.device_sn)||((ze=(we=(ge=n.value)==null?void 0:ge.data)==null?void 0:we.sub_device)==null?void 0:ze.device_sn)||"--"),1)]),e("div",Xo,[a[31]||(a[31]=e("span",{class:"label"},"È£ûÊú∫ÂûãÂè∑:",-1)),e("span",ea,o(((Se=($e=(ae=q.value)==null?void 0:ae.data)==null?void 0:$e.sub_device)==null?void 0:Se.device_model_key)||((Y=(W=(He=n.value)==null?void 0:He.data)==null?void 0:W.sub_device)==null?void 0:Y.device_model_key)||"--"),1)]),e("div",ta,[a[32]||(a[32]=e("span",{class:"label"},"È£ûÊú∫ÂºÄÊú∫Áä∂ÊÄÅ:",-1)),t(H,{type:(((qe=(Ee=(_e=q.value)==null?void 0:_e.data)==null?void 0:Ee.sub_device)==null?void 0:qe.device_online_status)||((Be=(je=(Re=n.value)==null?void 0:Re.data)==null?void 0:je.sub_device)==null?void 0:Be.device_online_status))===1?"success":"info",size:"small"},{default:s(()=>{var rt,Yt,as,Kt,is,ls;return[i(o((((as=(Yt=(rt=q.value)==null?void 0:rt.data)==null?void 0:Yt.sub_device)==null?void 0:as.device_online_status)||((ls=(is=(Kt=n.value)==null?void 0:Kt.data)==null?void 0:is.sub_device)==null?void 0:ls.device_online_status))===1?"ÂºÄÊú∫":"ÂÖ≥Êú∫"),1)]}),_:1},8,["type"])]),e("div",sa,[a[33]||(a[33]=e("span",{class:"label"},"È£ûÊú∫ÂØπÈ¢ëÁä∂ÊÄÅ:",-1)),t(H,{type:(((pt=(Me=(Te=q.value)==null?void 0:Te.data)==null?void 0:Me.sub_device)==null?void 0:pt.device_paired)||((gt=(vt=(ct=n.value)==null?void 0:ct.data)==null?void 0:vt.sub_device)==null?void 0:gt.device_paired))===1?"success":"warning",size:"small"},{default:s(()=>{var rt,Yt,as,Kt,is,ls;return[i(o((((as=(Yt=(rt=q.value)==null?void 0:rt.data)==null?void 0:Yt.sub_device)==null?void 0:as.device_paired)||((ls=(is=(Kt=n.value)==null?void 0:Kt.data)==null?void 0:is.sub_device)==null?void 0:ls.device_paired))===1?"Â∑≤ÂØπÈ¢ë":"Êú™ÂØπÈ¢ë"),1)]}),_:1},8,["type"])]),e("div",oa,[a[34]||(a[34]=e("span",{class:"label"},"Âõ∫‰ª∂ÁâàÊú¨:",-1)),e("span",aa,o(((ft=(mt=q.value)==null?void 0:mt.data)==null?void 0:ft.firmware_version)||((_t=(yt=n.value)==null?void 0:yt.data)==null?void 0:_t.firmware_version)||"--"),1)]),e("div",la,[a[35]||(a[35]=e("span",{class:"label"},"ÁîµÊ±†ÁîµÈáè:",-1)),e("span",na,o(((zt=(wt=(ht=(bt=(xt=q.value)==null?void 0:xt.data)==null?void 0:bt.drone_battery_maintenance_info)==null?void 0:ht.batteries)==null?void 0:wt[0])==null?void 0:zt.capacity_percent)||((Ze=(Ge=(Qe=(kt=($t=n.value)==null?void 0:$t.data)==null?void 0:kt.drone_battery_maintenance_info)==null?void 0:Qe.batteries)==null?void 0:Ge[0])==null?void 0:Ze.capacity_percent)||"--")+"%",1)]),e("div",ia,[a[36]||(a[36]=e("span",{class:"label"},"ÁîµÊ±†Êï∞Èáè:",-1)),e("span",ra,o(((Rt=(Ht=(Nt=(Pt=q.value)==null?void 0:Pt.data)==null?void 0:Nt.drone_battery_maintenance_info)==null?void 0:Ht.batteries)==null?void 0:Rt.length)||((Vt=(Lt=(At=(jt=n.value)==null?void 0:jt.data)==null?void 0:At.drone_battery_maintenance_info)==null?void 0:Lt.batteries)==null?void 0:Vt.length)||"--")+"‰∏™",1)]),e("div",da,[a[37]||(a[37]=e("span",{class:"label"},"ÁîµÊ±†ÁîµÂéã:",-1)),e("span",ua,o(((Et=(Jt=(It=(Ft=(Ut=q.value)==null?void 0:Ut.data)==null?void 0:Ft.drone_battery_maintenance_info)==null?void 0:It.batteries)==null?void 0:Jt[0])==null?void 0:Et.voltage)||((ee=(X=(Qt=(Bt=(qt=n.value)==null?void 0:qt.data)==null?void 0:Bt.drone_battery_maintenance_info)==null?void 0:Qt.batteries)==null?void 0:X[0])==null?void 0:ee.voltage)||"--")+"mV",1)]),e("div",pa,[a[38]||(a[38]=e("span",{class:"label"},"ÁîµÊ±†Ê∏©Â∫¶:",-1)),e("span",ca,o(((cs=(Zt=(Gt=(xe=(te=q.value)==null?void 0:te.data)==null?void 0:xe.drone_battery_maintenance_info)==null?void 0:Gt.batteries)==null?void 0:Zt[0])==null?void 0:cs.temperature)||((at=(ot=(st=(tt=(vs=n.value)==null?void 0:vs.data)==null?void 0:tt.drone_battery_maintenance_info)==null?void 0:st.batteries)==null?void 0:ot[0])==null?void 0:at.temperature)||"--")+"¬∞C",1)]),e("div",va,[a[39]||(a[39]=e("span",{class:"label"},"ÁîµÊ±†Áª¥Êä§Áä∂ÊÄÅ:",-1)),t(H,{type:(((bs=(os=(ss=q.value)==null?void 0:ss.data)==null?void 0:os.drone_battery_maintenance_info)==null?void 0:bs.maintenance_state)||((zs=(ws=(hs=n.value)==null?void 0:hs.data)==null?void 0:ws.drone_battery_maintenance_info)==null?void 0:zs.maintenance_state))===0?"success":"warning",size:"small"},{default:s(()=>{var rt,Yt,as,Kt,is,ls;return[i(o((((as=(Yt=(rt=q.value)==null?void 0:rt.data)==null?void 0:Yt.drone_battery_maintenance_info)==null?void 0:as.maintenance_state)||((ls=(is=(Kt=n.value)==null?void 0:Kt.data)==null?void 0:is.drone_battery_maintenance_info)==null?void 0:ls.maintenance_state))===0?"Ê≠£Â∏∏":"ÈúÄË¶ÅÁª¥Êä§"),1)]}),_:1},8,["type"])]),e("div",ga,[a[40]||(a[40]=e("span",{class:"label"},"Ëá™Êî∂ÊïõÂùêÊ†á:",-1)),e("span",ma,o((ks=($s=n.value)==null?void 0:$s.data)!=null&&ks.self_converge_coordinate?`${n.value.data.self_converge_coordinate.longitude.toFixed(6)}, ${n.value.data.self_converge_coordinate.latitude.toFixed(6)}`:"--"),1)])])]}),_:1})]),_:1}),t(j,{span:4},{default:s(()=>[t(I,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",fa,[t(P,null,{default:s(()=>[t(d(Ps))]),_:1}),a[41]||(a[41]=e("span",null,"Êú∫Âú∫Âü∫Á°Ä",-1)),t(H,{size:"small",type:_.value?C(_.value.timestamp)?"warning":"success":"info"},{default:s(()=>[i(o(_.value?p(_.value.timestamp):"Á≠âÂæÖ")+" ",1),_.value&&C(_.value.timestamp)?(y(),h("span",ya,"‚ö†Ô∏è")):L("",!0)]),_:1},8,["type"])])]),default:s(()=>{var J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He,W,Y,_e,Ee,qe,Re,je,Be,Te,Me,pt,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,Qe,Ge,Ze,Pt,Nt,Ht,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt,X,ee,te,xe,Gt,Zt,cs,vs;return[e("div",_a,[e("div",xa,[a[42]||(a[42]=e("span",{class:"label"},"Êú∫Âú∫Â∫èÂàóÂè∑:",-1)),e("span",ba,o(Fe()),1)]),e("div",ha,[a[43]||(a[43]=e("span",{class:"label"},"Á¥ØËÆ°‰Ωú‰∏öÊ¨°Êï∞:",-1)),e("span",wa,o(((G=(J=_.value)==null?void 0:J.data)==null?void 0:G.job_number)||((ie=(ne=n.value)==null?void 0:ne.data)==null?void 0:ie.job_number)||"--")+" Ê¨°",1)]),e("div",za,[a[44]||(a[44]=e("span",{class:"label"},"Á¥ØËÆ°ËøêË°åÊó∂Èïø:",-1)),e("span",$a,o(se(((ce=(pe=_.value)==null?void 0:pe.data)==null?void 0:ce.acc_time)||((ge=(ve=n.value)==null?void 0:ve.data)==null?void 0:ge.acc_time))),1)]),e("div",ka,[a[45]||(a[45]=e("span",{class:"label"},"Â∑•‰ΩúÁîµÂéã:",-1)),e("span",Sa,o(((ze=(we=_.value)==null?void 0:we.data)==null?void 0:ze.working_voltage)||(($e=(ae=n.value)==null?void 0:ae.data)==null?void 0:$e.working_voltage)||"--")+"mV",1)]),e("div",Ta,[a[46]||(a[46]=e("span",{class:"label"},"Â∑•‰ΩúÁîµÊµÅ:",-1)),e("span",Ma,o(((He=(Se=_.value)==null?void 0:Se.data)==null?void 0:He.working_current)||((Y=(W=n.value)==null?void 0:W.data)==null?void 0:Y.working_current)||"--")+"mA",1)]),e("div",Da,[a[47]||(a[47]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†:",-1)),t(H,{type:(((qe=(Ee=(_e=_.value)==null?void 0:_e.data)==null?void 0:Ee.backup_battery)==null?void 0:qe.switch)||((Be=(je=(Re=n.value)==null?void 0:Re.data)==null?void 0:je.backup_battery)==null?void 0:Be.switch))===1?"success":"info",size:"small"},{default:s(()=>{var tt,st,ot,at,ss,os;return[i(o((((ot=(st=(tt=_.value)==null?void 0:tt.data)==null?void 0:st.backup_battery)==null?void 0:ot.switch)||((os=(ss=(at=n.value)==null?void 0:at.data)==null?void 0:ss.backup_battery)==null?void 0:os.switch))===1?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",Ca,[a[48]||(a[48]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†ÁîµÂéã:",-1)),e("span",Oa,o(((pt=(Me=(Te=_.value)==null?void 0:Te.data)==null?void 0:Me.backup_battery)==null?void 0:pt.voltage)||((gt=(vt=(ct=n.value)==null?void 0:ct.data)==null?void 0:vt.backup_battery)==null?void 0:gt.voltage)||"--")+"mV",1)]),e("div",Pa,[a[49]||(a[49]=e("span",{class:"label"},"ÊøÄÊ¥ªÊó∂Èó¥:",-1)),e("span",Na,o(Wt(((ft=(mt=_.value)==null?void 0:mt.data)==null?void 0:ft.activation_time)||((_t=(yt=n.value)==null?void 0:yt.data)==null?void 0:_t.activation_time))),1)]),e("div",Ha,[a[50]||(a[50]=e("span",{class:"label"},"Êú∫Âú∫Áä∂ÊÄÅ:",-1)),t(H,{type:Mt(((bt=(xt=_.value)==null?void 0:xt.data)==null?void 0:bt.mode_code)||((wt=(ht=n.value)==null?void 0:ht.data)==null?void 0:wt.mode_code)),size:"small"},{default:s(()=>{var tt,st,ot,at;return[i(o(ut(((st=(tt=_.value)==null?void 0:tt.data)==null?void 0:st.mode_code)||((at=(ot=n.value)==null?void 0:ot.data)==null?void 0:at.mode_code))),1)]}),_:1},8,["type"])]),e("div",Ra,[a[51]||(a[51]=e("span",{class:"label"},"HomeÁÇπÊúâÊïàÊÄß:",-1)),t(H,{type:et((($t=(zt=_.value)==null?void 0:zt.data)==null?void 0:$t.home_position_is_valid)||((Qe=(kt=n.value)==null?void 0:kt.data)==null?void 0:Qe.home_position_is_valid)),size:"small"},{default:s(()=>{var tt,st,ot,at;return[i(o(c(((st=(tt=_.value)==null?void 0:tt.data)==null?void 0:st.home_position_is_valid)||((at=(ot=n.value)==null?void 0:ot.data)==null?void 0:at.home_position_is_valid))),1)]}),_:1},8,["type"])]),e("div",ja,[a[52]||(a[52]=e("span",{class:"label"},"Êú∫Âú∫ÊúùÂêëËßí:",-1)),e("span",Aa,o(((Ze=(Ge=_.value)==null?void 0:Ge.data)==null?void 0:Ze.heading)||((Nt=(Pt=n.value)==null?void 0:Pt.data)==null?void 0:Nt.heading)||"--")+"¬∞",1)]),e("div",La,[a[53]||(a[53]=e("span",{class:"label"},"Á©∫Ë∞ÉÁä∂ÊÄÅ:",-1)),t(H,{type:b(((jt=(Rt=(Ht=_.value)==null?void 0:Ht.data)==null?void 0:Rt.air_conditioner)==null?void 0:jt.air_conditioner_state)||((Vt=(Lt=(At=n.value)==null?void 0:At.data)==null?void 0:Lt.air_conditioner)==null?void 0:Vt.air_conditioner_state)),size:"small"},{default:s(()=>{var tt,st,ot,at,ss,os;return[i(o(z(((ot=(st=(tt=_.value)==null?void 0:tt.data)==null?void 0:st.air_conditioner)==null?void 0:ot.air_conditioner_state)||((os=(ss=(at=n.value)==null?void 0:at.data)==null?void 0:ss.air_conditioner)==null?void 0:os.air_conditioner_state))),1)]}),_:1},8,["type"])]),(((It=(Ft=(Ut=_.value)==null?void 0:Ut.data)==null?void 0:Ft.air_conditioner)==null?void 0:It.switch_time)||((qt=(Et=(Jt=n.value)==null?void 0:Jt.data)==null?void 0:Et.air_conditioner)==null?void 0:qt.switch_time))!==void 0?(y(),h("div",Va,[a[54]||(a[54]=e("span",{class:"label"},"Á©∫Ë∞ÉÂàáÊç¢Êó∂Èó¥:",-1)),e("span",Ua,o(((X=(Qt=(Bt=_.value)==null?void 0:Bt.data)==null?void 0:Qt.air_conditioner)==null?void 0:X.switch_time)||((xe=(te=(ee=n.value)==null?void 0:ee.data)==null?void 0:te.air_conditioner)==null?void 0:xe.switch_time)||"--")+" Áßí",1)])):L("",!0),e("div",Fa,[a[55]||(a[55]=e("span",{class:"label"},"Á©∫‰∏≠Âõû‰º†:",-1)),t(H,{type:(Zt=(Gt=_.value)==null?void 0:Gt.data)!=null&&Zt.air_transfer_enable||(vs=(cs=n.value)==null?void 0:cs.data)!=null&&vs.air_transfer_enable?"success":"info",size:"small"},{default:s(()=>{var tt,st,ot,at;return[i(o((st=(tt=_.value)==null?void 0:tt.data)!=null&&st.air_transfer_enable||(at=(ot=n.value)==null?void 0:ot.data)!=null&&at.air_transfer_enable?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])])])]}),_:1})]),_:1}),t(j,{span:4},{default:s(()=>[t(I,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",Ia,[t(P,null,{default:s(()=>[t(d(Js))]),_:1}),a[56]||(a[56]=e("span",null,"Âõæ‰º†ÈìæË∑Ø",-1)),t(H,{size:"small",type:x.value?C(x.value.timestamp)?"warning":"success":"info"},{default:s(()=>[i(o(x.value?p(x.value.timestamp):"Á≠âÂæÖ")+" ",1),x.value&&C(x.value.timestamp)?(y(),h("span",Ja,"‚ö†Ô∏è")):L("",!0)]),_:1},8,["type"])])]),default:s(()=>{var J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He,W,Y,_e,Ee,qe,Re,je,Be,Te,Me,pt,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt;return[e("div",Ea,[e("div",qa,[a[57]||(a[57]=e("span",{class:"label"},"4GËøûÊé•Áä∂ÊÄÅ:",-1)),t(H,{type:((ne=(G=(J=x.value)==null?void 0:J.data)==null?void 0:G.wireless_link)==null?void 0:ne["4g_link_state"])===1?"success":"danger",size:"small"},{default:s(()=>{var Qe,Ge,Ze;return[i(o(((Ze=(Ge=(Qe=x.value)==null?void 0:Qe.data)==null?void 0:Ge.wireless_link)==null?void 0:Ze["4g_link_state"])===1?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]}),_:1},8,["type"])]),e("div",Ba,[a[58]||(a[58]=e("span",{class:"label"},"SDRËøûÊé•Áä∂ÊÄÅ:",-1)),t(H,{type:((ce=(pe=(ie=x.value)==null?void 0:ie.data)==null?void 0:pe.wireless_link)==null?void 0:ce.sdr_link_state)===1?"success":"danger",size:"small"},{default:s(()=>{var Qe,Ge,Ze;return[i(o(((Ze=(Ge=(Qe=x.value)==null?void 0:Qe.data)==null?void 0:Ge.wireless_link)==null?void 0:Ze.sdr_link_state)===1?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]}),_:1},8,["type"])]),e("div",Qa,[a[59]||(a[59]=e("span",{class:"label"},"4G‰ø°Âè∑Ë¥®Èáè:",-1)),e("span",Ga,o(dt((we=(ge=(ve=x.value)==null?void 0:ve.data)==null?void 0:ge.wireless_link)==null?void 0:we["4g_quality"]))+"/5",1)]),e("div",Za,[a[60]||(a[60]=e("span",{class:"label"},"SDR‰ø°Âè∑Ë¥®Èáè:",-1)),e("span",Ka,o(dt(($e=(ae=(ze=x.value)==null?void 0:ze.data)==null?void 0:ae.wireless_link)==null?void 0:$e.sdr_quality))+"/5",1)]),e("div",Wa,[a[61]||(a[61]=e("span",{class:"label"},"4GÈ¢ëÊÆµ:",-1)),e("span",Ya,o(((W=(He=(Se=x.value)==null?void 0:Se.data)==null?void 0:He.wireless_link)==null?void 0:W["4g_freq_band"])||"--")+"MHz",1)]),e("div",Xa,[a[62]||(a[62]=e("span",{class:"label"},"SDRÈ¢ëÊÆµ:",-1)),e("span",el,o(((Ee=(_e=(Y=x.value)==null?void 0:Y.data)==null?void 0:_e.wireless_link)==null?void 0:Ee.sdr_freq_band)||"--")+"MHz",1)]),e("div",tl,[a[63]||(a[63]=e("span",{class:"label"},"Â§©Á´Ø4GË¥®Èáè:",-1)),e("span",sl,o(dt((je=(Re=(qe=x.value)==null?void 0:qe.data)==null?void 0:Re.wireless_link)==null?void 0:je["4g_uav_quality"]))+"/5",1)]),e("div",ol,[a[64]||(a[64]=e("span",{class:"label"},"Âú∞Á´Ø4GË¥®Èáè:",-1)),e("span",al,o(dt((Me=(Te=(Be=x.value)==null?void 0:Be.data)==null?void 0:Te.wireless_link)==null?void 0:Me["4g_gnd_quality"]))+"/5",1)]),e("div",ll,[a[65]||(a[65]=e("span",{class:"label"},"DongleÊï∞Èáè:",-1)),e("span",nl,o(((vt=(ct=(pt=x.value)==null?void 0:pt.data)==null?void 0:ct.wireless_link)==null?void 0:vt.dongle_number)||"--")+"‰∏™",1)]),e("div",il,[a[66]||(a[66]=e("span",{class:"label"},"ÈìæË∑ØÊ®°Âºè:",-1)),t(H,{type:((ft=(mt=(gt=x.value)==null?void 0:gt.data)==null?void 0:mt.wireless_link)==null?void 0:ft.link_workmode)===0?"info":"success",size:"small"},{default:s(()=>{var Qe,Ge,Ze;return[i(o(((Ze=(Ge=(Qe=x.value)==null?void 0:Qe.data)==null?void 0:Ge.wireless_link)==null?void 0:Ze.link_workmode)===0?"SDRÊ®°Âºè":"4GËûçÂêàÊ®°Âºè"),1)]}),_:1},8,["type"])]),e("div",rl,[a[67]||(a[67]=e("span",{class:"label"},"ÂæÖ‰∏ä‰º†Êñá‰ª∂:",-1)),e("span",dl,o(((xt=(_t=(yt=x.value)==null?void 0:yt.data)==null?void 0:_t.media_file_detail)==null?void 0:xt.remain_upload)||"--")+"‰∏™",1)]),e("div",ul,[a[68]||(a[68]=e("span",{class:"label"},"SDR‰∏ãË°åË¥®Èáè:",-1)),e("span",pl,o(((wt=(ht=(bt=x.value)==null?void 0:bt.data)==null?void 0:ht.sdr)==null?void 0:wt.down_quality)||"--")+"%",1)]),e("div",cl,[a[69]||(a[69]=e("span",{class:"label"},"SDR‰∏äË°åË¥®Èáè:",-1)),e("span",vl,o(((kt=($t=(zt=x.value)==null?void 0:zt.data)==null?void 0:$t.sdr)==null?void 0:kt.up_quality)||"--")+"%",1)])])]}),_:1})]),_:1}),t(j,{span:4},{default:s(()=>[t(I,{class:"info-card",shadow:"hover"},{header:s(()=>{var J,G,ne,ie;return[e("div",gl,[t(P,null,{default:s(()=>[t(d(Rs))]),_:1}),a[70]||(a[70]=e("span",null,"Áõ¥Êí≠‰ø°ÊÅØ",-1)),t(H,{size:"small",type:(G=(J=_.value)==null?void 0:J.data)!=null&&G.live_capacity||(ie=(ne=n.value)==null?void 0:ne.data)!=null&&ie.live_capacity?"success":"info"},{default:s(()=>{var pe,ce,ve,ge;return[i(o((ce=(pe=_.value)==null?void 0:pe.data)!=null&&ce.live_capacity||(ge=(ve=n.value)==null?void 0:ve.data)!=null&&ge.live_capacity?"Â∑≤ËøûÊé•":"Á≠âÂæÖ"),1)]}),_:1},8,["type"])])]}),default:s(()=>{var J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He,W,Y,_e,Ee,qe,Re,je,Be,Te,Me,pt,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,Qe,Ge,Ze,Pt,Nt,Ht,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt,X,ee,te,xe,Gt,Zt,cs,vs,tt,st,ot,at,ss,os,bs,hs,ws,zs,$s,ks;return[e("div",ml,[e("div",fl,[a[71]||(a[71]=e("span",{class:"label"},"Êï∞ÊçÆÁä∂ÊÄÅ:",-1)),e("div",yl,[e("div",null,"airportBasicData: "+o(_.value?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"osdData: "+o(n.value?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"wirelessLinkData: "+o(x.value?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"live_capacity: "+o((G=(J=_.value)==null?void 0:J.data)!=null&&G.live_capacity||(ie=(ne=n.value)==null?void 0:ne.data)!=null&&ie.live_capacity||(ce=(pe=x.value)==null?void 0:pe.data)!=null&&ce.live_capacity?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"live_status: "+o(((ae=((ge=(ve=x.value)==null?void 0:ve.data)==null?void 0:ge.live_status)||((ze=(we=n.value)==null?void 0:we.data)==null?void 0:ze.live_status))==null?void 0:ae.length)>0?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1)])]),(Se=($e=_.value)==null?void 0:$e.data)!=null&&Se.live_capacity||(W=(He=n.value)==null?void 0:He.data)!=null&&W.live_capacity||(_e=(Y=x.value)==null?void 0:Y.data)!=null&&_e.live_capacity?(y(),h("div",_l,[a[72]||(a[72]=e("span",{class:"label"},"ÂèØÊé®ÊµÅÁ†ÅÊµÅÊï∞:",-1)),e("span",xl,o(((Re=(qe=(Ee=_.value)==null?void 0:Ee.data)==null?void 0:qe.live_capacity)==null?void 0:Re.available_video_number)||((Te=(Be=(je=n.value)==null?void 0:je.data)==null?void 0:Be.live_capacity)==null?void 0:Te.available_video_number)||((ct=(pt=(Me=x.value)==null?void 0:Me.data)==null?void 0:pt.live_capacity)==null?void 0:ct.available_video_number)||"--"),1)])):L("",!0),(gt=(vt=_.value)==null?void 0:vt.data)!=null&&gt.live_capacity||(ft=(mt=n.value)==null?void 0:mt.data)!=null&&ft.live_capacity||(_t=(yt=x.value)==null?void 0:yt.data)!=null&&_t.live_capacity?(y(),h("div",bl,[a[73]||(a[73]=e("span",{class:"label"},"ÊúÄÂ§ßÂêåÊó∂Êé®ÊµÅ:",-1)),e("span",hl,o(((ht=(bt=(xt=_.value)==null?void 0:xt.data)==null?void 0:bt.live_capacity)==null?void 0:ht.coexist_video_number_max)||(($t=(zt=(wt=n.value)==null?void 0:wt.data)==null?void 0:zt.live_capacity)==null?void 0:$t.coexist_video_number_max)||((Ge=(Qe=(kt=x.value)==null?void 0:kt.data)==null?void 0:Qe.live_capacity)==null?void 0:Ge.coexist_video_number_max)||"--"),1)])):L("",!0),((Ut=((Nt=(Pt=(Ze=_.value)==null?void 0:Ze.data)==null?void 0:Pt.live_capacity)==null?void 0:Nt.device_list)||((jt=(Rt=(Ht=n.value)==null?void 0:Ht.data)==null?void 0:Rt.live_capacity)==null?void 0:jt.device_list)||((Vt=(Lt=(At=x.value)==null?void 0:At.data)==null?void 0:Lt.live_capacity)==null?void 0:Vt.device_list))==null?void 0:Ut.length)>0?(y(),h("div",wl,[a[74]||(a[74]=e("span",{class:"label"},"ËßÜÈ¢ëÊ∫êËÆæÂ§á:",-1)),e("div",zl,[(y(!0),h(gs,null,ms(((Jt=(It=(Ft=_.value)==null?void 0:Ft.data)==null?void 0:It.live_capacity)==null?void 0:Jt.device_list)||((Bt=(qt=(Et=n.value)==null?void 0:Et.data)==null?void 0:qt.live_capacity)==null?void 0:Bt.device_list)||((ee=(X=(Qt=x.value)==null?void 0:Qt.data)==null?void 0:X.live_capacity)==null?void 0:ee.device_list),(rt,Yt)=>{var as;return y(),h("div",{key:Yt,style:{"margin-bottom":"8px",padding:"5px",background:"var(--el-color-info-light-9)","border-radius":"4px","font-size":"12px"}},[e("div",$l,o(rt.sn),1),e("div",kl,[e("span",Sl,"ÂèØÊé®ÊµÅ: "+o(rt.available_video_number),1),e("span",Tl,"ÊúÄÂ§ßÂêåÊó∂: "+o(rt.coexist_video_number_max),1)]),((as=rt.camera_list)==null?void 0:as.length)>0?(y(),h("div",Ml,[(y(!0),h(gs,null,ms(rt.camera_list,(Kt,is)=>{var ls;return y(),h("div",{key:is,style:{"margin-left":"10px","margin-bottom":"3px",padding:"3px",background:"var(--el-color-success-light-9)","border-radius":"3px"}},[e("div",Dl,"Áõ∏Êú∫: "+o(Kt.camera_index),1),e("div",Cl," ÂèØÊé®ÊµÅ: "+o(Kt.available_video_number)+" | ÊúÄÂ§ßÂêåÊó∂: "+o(Kt.coexist_video_number_max),1),((ls=Kt.video_list)==null?void 0:ls.length)>0?(y(),h("div",Ol,[(y(!0),h(gs,null,ms(Kt.video_list,(Ms,Gs)=>{var Ls;return y(),h("div",{key:Gs,style:{"margin-left":"10px","font-size":"10px",color:"var(--el-color-text-secondary)"}},[i(o(Ms.video_index)+" ("+o(Ms.video_type)+") ",1),((Ls=Ms.switchable_video_types)==null?void 0:Ls.length)>0?(y(),h("span",Pl," [ÂèØÂàáÊç¢: "+o(Ms.switchable_video_types.join(", "))+"] ",1)):L("",!0)])}),128))])):L("",!0)])}),128))])):L("",!0)])}),128))])])):L("",!0),((cs=((xe=(te=x.value)==null?void 0:te.data)==null?void 0:xe.live_status)||((Zt=(Gt=n.value)==null?void 0:Gt.data)==null?void 0:Zt.live_status))==null?void 0:cs.length)>0?(y(),h("div",Nl,[a[75]||(a[75]=e("span",{class:"label"},"ÂΩìÂâçÁõ¥Êí≠Áä∂ÊÄÅ:",-1)),e("div",Hl,[(y(!0),h(gs,null,ms(((tt=(vs=x.value)==null?void 0:vs.data)==null?void 0:tt.live_status)||((ot=(st=n.value)==null?void 0:st.data)==null?void 0:ot.live_status),(rt,Yt)=>(y(),h("div",{key:Yt,style:{"margin-bottom":"3px","font-size":"12px"}},[t(H,{type:rt.status===1?"success":"info",size:"small"},{default:s(()=>[i(o(rt.video_id)+" - "+o($(rt.video_quality)),1)]),_:2},1032,["type"])]))),128))])])):L("",!0),!((ss=(at=_.value)==null?void 0:at.data)!=null&&ss.live_capacity||(bs=(os=n.value)==null?void 0:os.data)!=null&&bs.live_capacity)&&!((ks=((ws=(hs=x.value)==null?void 0:hs.data)==null?void 0:ws.live_status)||(($s=(zs=n.value)==null?void 0:zs.data)==null?void 0:$s.live_status))!=null&&ks.length)?(y(),h("div",Rl,[...a[76]||(a[76]=[e("div",{style:{"font-size":"14px","margin-bottom":"8px"}},"üìπ Á≠âÂæÖÁõ¥Êí≠Êï∞ÊçÆ",-1),e("div",{style:{"font-size":"12px"}},"ËØ∑Á°Æ‰øùËÆæÂ§áÂ∑≤ËøûÊé•Âπ∂ÂèëÈÄÅÁõ¥Êí≠Áõ∏ÂÖ≥‰ø°ÊÅØ",-1)])])):L("",!0)])]}),_:1})]),_:1}),t(j,{span:4},{default:s(()=>[t(I,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",jl,[t(P,null,{default:s(()=>[t(d(Ps))]),_:1}),a[78]||(a[78]=e("span",null,"ËÆæÂ§áÂ±ûÊÄß",-1)),t(H,{size:"small",type:"success"},{default:s(()=>[...a[77]||(a[77]=[i("ÂÆûÊó∂",-1)])]),_:1})])]),default:s(()=>[e("div",Al,[e("div",Ll,[a[79]||(a[79]=e("span",{class:"label"},"Áä∂ÊÄÅÊï∞ÊçÆ:",-1)),t(H,{type:be.value==="connected"?"success":"info",size:"small"},{default:s(()=>[i(o(be.value==="connected"?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]),_:1},8,["type"])]),e("div",Vl,[a[80]||(a[80]=e("span",{class:"label"},"ÂÆöÈ¢ëÊï∞ÊçÆ:",-1)),t(H,{type:Pe.value==="connected"?"success":"info",size:"small"},{default:s(()=>[i(o(Pe.value==="connected"?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]),_:1},8,["type"])]),e("div",Ul,[a[81]||(a[81]=e("span",{class:"label"},"Áä∂ÊÄÅ‰∏ªÈ¢ò:",-1)),e("span",Fl,"thing/product/"+o(Fe())+"/state",1)]),e("div",Il,[a[82]||(a[82]=e("span",{class:"label"},"OSD‰∏ªÈ¢ò:",-1)),e("span",Jl,"thing/product/"+o(Fe())+"/osd",1)]),a[85]||(a[85]=e("div",{class:"info-item"},[e("span",{class:"label"},"‰∏äÊä•È¢ëÁéá:"),e("span",{class:"value"},"0.5Hz")],-1)),e("div",El,[a[84]||(a[84]=e("span",{class:"label"},"ÊñπÂêë:",-1)),t(H,{type:"warning",size:"small"},{default:s(()=>[...a[83]||(a[83]=[i("up",-1)])]),_:1})])])]),_:1})]),_:1}),t(j,{span:4},{default:s(()=>[t(I,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",ql,[t(P,null,{default:s(()=>[t(d(Rs))]),_:1}),a[87]||(a[87]=e("span",null,"Ë¥üËΩΩÂ±ûÊÄß",-1)),t(H,{size:"small",type:"info"},{default:s(()=>[...a[86]||(a[86]=[i("Áõ∏Êú∫",-1)])]),_:1})])]),default:s(()=>[e("div",Bl,[e("div",Ql,[a[88]||(a[88]=e("span",{class:"label"},"‰∫ëÂè∞‰øØ‰ª∞:",-1)),e("span",Gl,o(ue.value||"--")+"¬∞",1)]),e("div",Zl,[a[89]||(a[89]=e("span",{class:"label"},"‰∫ëÂè∞ÂÅèËà™:",-1)),e("span",Kl,o(nt.value||"--")+"¬∞",1)]),e("div",Wl,[a[90]||(a[90]=e("span",{class:"label"},"‰∫ëÂè∞Ê®™Êªö:",-1)),e("span",Yl,o(lt.value||"--")+"¬∞",1)]),e("div",Xl,[a[91]||(a[91]=e("span",{class:"label"},"Ë¥üËΩΩÁ¥¢Âºï:",-1)),e("span",en,o(Ot.value),1)]),e("div",tn,[a[92]||(a[92]=e("span",{class:"label"},"‰∫ßÂìÅÁ±ªÂûã:",-1)),e("span",sn,o(Ve.value||"--"),1)]),e("div",on,[a[93]||(a[93]=e("span",{class:"label"},"Â≠êÁ±ªÂûã:",-1)),e("span",an,o(Xe.value||"--"),1)])])]),_:1})]),_:1}),t(j,{span:4},{default:s(()=>[t(I,{class:"info-card",shadow:"hover"},{header:s(()=>[e("div",ln,[t(P,null,{default:s(()=>[t(d(Es))]),_:1}),a[95]||(a[95]=e("span",null,"ÁîµÊ±†‰ø°ÊÅØ",-1)),t(H,{size:"small",type:"warning"},{default:s(()=>[...a[94]||(a[94]=[i("ÁõëÊéß",-1)])]),_:1})])]),default:s(()=>{var J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He,W,Y,_e,Ee,qe;return[e("div",nn,[e("div",rn,[a[96]||(a[96]=e("span",{class:"label"},"Â∑•‰ΩúÁîµÂéã:",-1)),e("span",dn,o(((G=(J=n.value)==null?void 0:J.data)==null?void 0:G.working_voltage)||"--")+"mV",1)]),e("div",un,[a[97]||(a[97]=e("span",{class:"label"},"Â∑•‰ΩúÁîµÊµÅ:",-1)),e("span",pn,o(((ie=(ne=n.value)==null?void 0:ne.data)==null?void 0:ie.working_current)||"--")+"mA",1)]),e("div",cn,[a[98]||(a[98]=e("span",{class:"label"},"ÁîµÊ±†Ê®°Âºè:",-1)),t(H,{type:oe((ce=(pe=n.value)==null?void 0:pe.data)==null?void 0:ce.battery_store_mode),size:"small"},{default:s(()=>{var Re,je;return[i(o(B((je=(Re=n.value)==null?void 0:Re.data)==null?void 0:je.battery_store_mode)),1)]}),_:1},8,["type"])]),e("div",vn,[a[99]||(a[99]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†:",-1)),t(H,{type:((we=(ge=(ve=n.value)==null?void 0:ve.data)==null?void 0:ge.backup_battery)==null?void 0:we.switch)===1?"success":"info",size:"small"},{default:s(()=>{var Re,je,Be;return[i(o(((Be=(je=(Re=n.value)==null?void 0:Re.data)==null?void 0:je.backup_battery)==null?void 0:Be.switch)===1?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",gn,[a[100]||(a[100]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†ÁîµÂéã:",-1)),e("span",mn,o((($e=(ae=(ze=n.value)==null?void 0:ze.data)==null?void 0:ae.backup_battery)==null?void 0:$e.voltage)||"--")+"mV",1)]),e("div",fn,[a[101]||(a[101]=e("span",{class:"label"},"Â§áÁî®ÁîµÊ±†Ê∏©Â∫¶:",-1)),e("span",yn,o(((W=(He=(Se=n.value)==null?void 0:Se.data)==null?void 0:He.backup_battery)==null?void 0:W.temperature)||"--")+"¬∞C",1)]),e("div",_n,[a[102]||(a[102]=e("span",{class:"label"},"‰æõÁîµÁîµÂéã:",-1)),e("span",xn,o(((_e=(Y=n.value)==null?void 0:Y.data)==null?void 0:_e.electric_supply_voltage)||"--")+"V",1)]),e("div",bn,[a[103]||(a[103]=e("span",{class:"label"},"ACDCÂäüÁéá:",-1)),e("span",hn,o((qe=(Ee=n.value)==null?void 0:Ee.data)!=null&&qe.acdc_power_input?n.value.data.acdc_power_input.toFixed(1):"--")+"W",1)])])]}),_:1})]),_:1})]),_:1})]),e("div",wn,[t(Q,{type:"primary",icon:d(qs),circle:"",size:"large",onClick:a[0]||(a[0]=J=>Oe.value=!0),title:"Êü•ÁúãÂéüÂßãÊï∞ÊçÆ"},null,8,["icon"])]),e("div",zn,[t(Q,{type:"warning",circle:"",size:"large",onClick:r,title:"ÊâãÂä®Â§ÑÁêÜOSDÊ∂àÊÅØ"},{default:s(()=>[...a[104]||(a[104]=[i(" üîÑ ",-1)])]),_:1})]),t(Ct,{modelValue:Oe.value,"onUpdate:modelValue":a[1]||(a[1]=J=>Oe.value=J),title:"ÂéüÂßãÊï∞ÊçÆÂ±ïÁ§∫",direction:"rtl",size:"60%","before-close":Le},{default:s(()=>[e("div",$n,[t(Dt,{type:"border-card"},{default:s(()=>[t(Je,{label:"OSDÊï∞ÊçÆ",name:"osd"},{default:s(()=>[e("pre",kn,o(JSON.stringify(n.value,null,2)),1)]),_:1}),t(Je,{label:"Êú∫Âú∫Âü∫Á°Ä‰ø°ÊÅØ",name:"basic"},{default:s(()=>[e("pre",Sn,o(JSON.stringify(_.value,null,2)),1)]),_:1}),t(Je,{label:"Âõæ‰º†ÈìæË∑Ø‰ø°ÊÅØ",name:"wireless"},{default:s(()=>[e("pre",Tn,o(JSON.stringify(x.value,null,2)),1)]),_:1}),t(Je,{label:"ÁéØÂ¢ÉÁä∂ÊÄÅ‰ø°ÊÅØ",name:"environment"},{default:s(()=>[e("pre",Mn,o(JSON.stringify(O.value,null,2)),1)]),_:1}),t(Je,{label:"È£ûÊú∫‰ø°ÊÅØ",name:"aircraft"},{default:s(()=>[e("pre",Dn,o(JSON.stringify(q.value,null,2)),1)]),_:1}),t(Je,{label:"ËÆæÂ§áÁä∂ÊÄÅ",name:"state"},{default:s(()=>[e("pre",Cn,o(JSON.stringify(de.value,null,2)),1)]),_:1}),t(Je,{label:"Êï∞ÊçÆÊõ¥Êñ∞‰ø°ÊÅØ",name:"updates"},{default:s(()=>{var J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se;return[e("div",On,[e("div",Pn,[a[111]||(a[111]=e("h4",{style:{color:"var(--el-color-primary)","margin-bottom":"10px"}},"üìä Êï∞ÊçÆÊõ¥Êñ∞Áä∂ÊÄÅ",-1)),e("div",Nn,[e("div",Hn,[a[105]||(a[105]=e("strong",null,"OSDÊï∞ÊçÆ:",-1)),(J=n.value)!=null&&J.timestamp?(y(),h("span",{key:0,style:es(C(n.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[i(o(p(n.value.timestamp))+" ",1),C(n.value.timestamp)?(y(),h("span",Rn,"‚ö†Ô∏è")):L("",!0)],4)):(y(),h("span",jn,"Á≠âÂæÖÊï∞ÊçÆ"))]),e("div",An,[a[106]||(a[106]=e("strong",null,"Êú∫Âú∫Âü∫Á°Ä‰ø°ÊÅØ:",-1)),(G=_.value)!=null&&G.timestamp?(y(),h("span",{key:0,style:es(C(_.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[i(o(p(_.value.timestamp))+" ",1),C(_.value.timestamp)?(y(),h("span",Ln,"‚ö†Ô∏è")):L("",!0)],4)):(y(),h("span",Vn,"Á≠âÂæÖÊï∞ÊçÆ")),(ne=_.value)!=null&&ne.timestamp?(y(),h("div",Un," ÂéüÂßãÂÄº: "+o(_.value.timestamp)+" (Á±ªÂûã: "+o(typeof _.value.timestamp)+") ",1)):L("",!0)]),e("div",Fn,[a[107]||(a[107]=e("strong",null,"Âõæ‰º†ÈìæË∑Ø‰ø°ÊÅØ:",-1)),(ie=x.value)!=null&&ie.timestamp?(y(),h("span",{key:0,style:es(C(x.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[i(o(p(x.value.timestamp))+" ",1),C(x.value.timestamp)?(y(),h("span",In,"‚ö†Ô∏è")):L("",!0)],4)):(y(),h("span",Jn,"Á≠âÂæÖÊï∞ÊçÆ"))]),e("div",En,[a[108]||(a[108]=e("strong",null,"ÁéØÂ¢ÉÁä∂ÊÄÅ‰ø°ÊÅØ:",-1)),(pe=O.value)!=null&&pe.timestamp?(y(),h("span",{key:0,style:es(C(O.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[i(o(p(O.value.timestamp))+" ",1),C(O.value.timestamp)?(y(),h("span",qn,"‚ö†Ô∏è")):L("",!0)],4)):(y(),h("span",Bn,"Á≠âÂæÖÊï∞ÊçÆ"))]),e("div",Qn,[a[109]||(a[109]=e("strong",null,"È£ûÊú∫‰ø°ÊÅØ:",-1)),(ce=q.value)!=null&&ce.timestamp?(y(),h("span",{key:0,style:es(C(q.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[i(o(p(q.value.timestamp))+" ",1),C(q.value.timestamp)?(y(),h("span",Gn,"‚ö†Ô∏è")):L("",!0)],4)):(y(),h("span",Zn,"Á≠âÂæÖÊï∞ÊçÆ"))]),e("div",Kn,[a[110]||(a[110]=e("strong",null,"ËÆæÂ§áÁä∂ÊÄÅ:",-1)),(ve=de.value)!=null&&ve.timestamp?(y(),h("span",{key:0,style:es(C(de.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[i(o(p(de.value.timestamp))+" ",1),C(de.value.timestamp)?(y(),h("span",Wn,"‚ö†Ô∏è")):L("",!0)],4)):(y(),h("span",Yn,"Á≠âÂæÖÊï∞ÊçÆ"))])])]),e("div",null,[a[118]||(a[118]=e("h4",{style:{color:"var(--el-color-primary)","margin-bottom":"10px"}},"üîÑ ÊúÄËøëÊõ¥Êñ∞Â≠óÊÆµ",-1)),(ge=n.value)!=null&&ge.data?(y(),h("div",Xn,[a[112]||(a[112]=e("strong",null,"OSDÊï∞ÊçÆÂ≠óÊÆµ:",-1)),i(" "+o(Object.keys(n.value.data).join(", ")),1)])):L("",!0),(we=_.value)!=null&&we.data?(y(),h("div",ei,[a[113]||(a[113]=e("strong",null,"Êú∫Âú∫Âü∫Á°Ä‰ø°ÊÅØÂ≠óÊÆµ:",-1)),i(" "+o(Object.keys(_.value.data).join(", ")),1)])):L("",!0),(ze=x.value)!=null&&ze.data?(y(),h("div",ti,[a[114]||(a[114]=e("strong",null,"Âõæ‰º†ÈìæË∑Ø‰ø°ÊÅØÂ≠óÊÆµ:",-1)),i(" "+o(Object.keys(x.value.data).join(", ")),1)])):L("",!0),(ae=O.value)!=null&&ae.data?(y(),h("div",si,[a[115]||(a[115]=e("strong",null,"ÁéØÂ¢ÉÁä∂ÊÄÅ‰ø°ÊÅØÂ≠óÊÆµ:",-1)),i(" "+o(Object.keys(O.value.data).join(", ")),1)])):L("",!0),($e=q.value)!=null&&$e.data?(y(),h("div",oi,[a[116]||(a[116]=e("strong",null,"È£ûÊú∫‰ø°ÊÅØÂ≠óÊÆµ:",-1)),i(" "+o(Object.keys(q.value.data).join(", ")),1)])):L("",!0),(Se=de.value)!=null&&Se.data?(y(),h("div",ai,[a[117]||(a[117]=e("strong",null,"ËÆæÂ§áÁä∂ÊÄÅÂ≠óÊÆµ:",-1)),i(" "+o(Object.keys(de.value.data).join(", ")),1)])):L("",!0)])])]}),_:1}),t(Je,{label:"ÊâÄÊúâÊ∂àÊÅØÂéÜÂè≤",name:"all"},{default:s(()=>[e("pre",li,o(JSON.stringify(d(T).messageHistory,null,2)),1)]),_:1})]),_:1})])]),_:1},8,["modelValue"]),m.value?L("",!0):(y(),h("div",ni,[t(P,{style:{color:"var(--el-color-warning)","font-size":"48px","margin-bottom":"16px"}},{default:s(()=>[t(d(Bs))]),_:1}),a[119]||(a[119]=e("h3",{style:{color:"var(--el-color-warning-dark-2)","margin-bottom":"8px"}},"Á≠âÂæÖÊé•Êî∂Êú∫Âú∫OSDÊï∞ÊçÆ...",-1)),a[120]||(a[120]=e("p",{style:{color:"var(--el-text-color-regular)","font-size":"14px"}},"ËØ∑Á°Æ‰øùMQTTËøûÊé•Ê≠£Â∏∏ÔºåËÆæÂ§áÊ≠£Âú®‰∏äÊä•Êï∞ÊçÆ",-1))]))])}}},ri=_s(ii,[["__scopeId","data-v-27fcb0e2"]]);const di={class:"flight-map-container"},ui={class:"map-header"},pi={class:"flight-info"},ci={class:"map-controls"},vi={class:"trajectory-info"},gi={class:"info-item"},mi={key:0,class:"height-info"},fi={__name:"FlightTrajectoryMap",props:{modelValue:{type:Boolean,default:!1},aircraftData:{type:Object,default:()=>({})},aircraftSn:{type:String,default:""}},emits:["update:modelValue"],setup(F,{emit:Tt}){const k=F,De=Tt,T=M(!1),me=M(!0),n=M([]),m=M(null),Z=M(null),fe=M(null),be=M(!1);M(0),M(!1);const Pe=M([]),de=M([]),ue=M([]);Os(()=>k.modelValue,c=>{T.value=c,c&&Vs(()=>{nt()})}),Os(T,c=>{De("update:modelValue",c)}),Os(()=>k.aircraftData,c=>{c&&be.value&&T.value&&lt()},{deep:!0});const Oe=c=>{T.value=!1,c&&c()},nt=async()=>{if(!be.value)try{console.log("üó∫Ô∏è ÂºÄÂßãÂàùÂßãÂåñÈ£ûË°åËΩ®ËøπÂú∞Âõæ..."),console.log("üìä È´òÂæ∑Âú∞ÂõæAPIÁä∂ÊÄÅ:",Fs()),typeof window.AMap<"u"&&(console.log("‚úÖ Ê£ÄÊµãÂà∞AMapÂ∑≤ÂèØÁî®ÔºåÁõ¥Êé•‰ΩøÁî®"),window.AMapLoaded=!0),await ro(),console.log("‚úÖ È´òÂæ∑Âú∞ÂõæAPIÂä†ËΩΩÂÆåÊàê");const c=window.AMap;if(!c||!c.Map)throw new Error("AMapÂØπË±°‰∏çÂÆåÊï¥ÔºåÊó†Ê≥ïÂàõÂª∫Âú∞Âõæ");const{latitude:b,longitude:z}=k.aircraftData;let $;if(b&&z){const[N,le]=Cs.wgs84ToGcj02(z,b);$=[N,le],console.log("üó∫Ô∏è Âú∞Âõæ‰∏≠ÂøÉÁÇπËΩ¨Êç¢:",{wgs84:{lng:z,lat:b},gcj02:{lng:N,lat:le}})}else $=fs.defaultConfig.center;if(console.log("üìç Âú∞Âõæ‰∏≠ÂøÉÁÇπ:",$),console.log("üîß Âú∞ÂõæÈÖçÁΩÆ:",fs.defaultConfig),m.value=new c.Map("flight-map",{zoom:fs.defaultConfig.zoom,center:$,mapStyle:fs.defaultConfig.mapStyle,viewMode:"3D",pitch:45,features:["bg","road","building","point"],showLabel:!0,buildingAnimation:!0,skyColor:"#87CEEB"}),!m.value)throw new Error("Âú∞ÂõæÂÆû‰æãÂàõÂª∫Â§±Ë¥•");m.value.on("complete",()=>{console.log("‚úÖ Âú∞ÂõæÁì¶ÁâáÂä†ËΩΩÂÆåÊàê")}),m.value.on("error",N=>{console.error("‚ùå Âú∞ÂõæÁì¶ÁâáÂä†ËΩΩÈîôËØØ:",N)}),m.value.on("zoomchange",()=>{try{console.log("üîç Âú∞ÂõæÁº©ÊîæÁ∫ßÂà´:",m.value.getZoom())}catch(N){console.warn("‚ö†Ô∏è Ëé∑ÂèñÂú∞ÂõæÁº©ÊîæÁ∫ßÂà´Êó∂Âá∫Èîô:",N)}}),m.value.on("moveend",()=>{try{const N=m.value.getCenter();console.log("üìç Âú∞Âõæ‰∏≠ÂøÉÁÇπ:",N)}catch(N){console.warn("‚ö†Ô∏è Ëé∑ÂèñÂú∞Âõæ‰∏≠ÂøÉÁÇπÊó∂Âá∫Èîô:",N)}}),setTimeout(()=>{if(m.value&&m.value.getContainer)try{const N=m.value.getContainer();(!N||N.offsetWidth===0)&&console.warn("‚ö†Ô∏è Âú∞ÂõæÂÆπÂô®ÂèØËÉΩÊú™Ê≠£Á°ÆÂàùÂßãÂåñ")}catch(N){console.warn("‚ö†Ô∏è Ê£ÄÊü•Âú∞ÂõæÂÆπÂô®Áä∂ÊÄÅÊó∂Âá∫Èîô:",N)}},1e3);try{m.value.addControl(new c.Scale),console.log("‚úÖ ÊØî‰æãÂ∞∫Êéß‰ª∂Ê∑ªÂä†ÊàêÂäü")}catch(N){console.warn("‚ö†Ô∏è ÊØî‰æãÂ∞∫Êéß‰ª∂Ê∑ªÂä†Â§±Ë¥•:",N)}try{m.value.addControl(new c.ToolBar),console.log("‚úÖ Â∑•ÂÖ∑Êù°Êéß‰ª∂Ê∑ªÂä†ÊàêÂäü")}catch(N){console.warn("‚ö†Ô∏è Â∑•ÂÖ∑Êù°Êéß‰ª∂Ê∑ªÂä†Â§±Ë¥•:",N)}lt(),be.value=!0,console.log("‚úÖ È£ûË°åËΩ®ËøπÂú∞ÂõæÂàùÂßãÂåñÊàêÂäü"),setTimeout(()=>{ut()},3e3),V.success("È£ûË°åËΩ®ËøπÂú∞ÂõæÂ∑≤Âä†ËΩΩ")}catch(c){if(console.error("‚ùå Âú∞ÂõæÂàùÂßãÂåñÂ§±Ë¥•:",c),console.error("üìä ÂΩìÂâçAPIÁä∂ÊÄÅ:",Fs()),typeof window.AMap<"u"){console.log("üîÑ Â∞ùËØïÂ§áÁî®ÂàùÂßãÂåñÊñπÊ°à...");try{const{latitude:b,longitude:z}=k.aircraftData,$=[z||fs.defaultConfig.center[0],b||fs.defaultConfig.center[1]];m.value=new window.AMap.Map("flight-map",{zoom:15,center:$}),lt(),be.value=!0,console.log("‚úÖ Â§áÁî®ÊñπÊ°àÂàùÂßãÂåñÊàêÂäü"),V.success("È£ûË°åËΩ®ËøπÂú∞ÂõæÂ∑≤Âä†ËΩΩÔºàÂ§áÁî®ÊñπÊ°àÔºâ");return}catch(b){console.error("‚ùå Â§áÁî®ÊñπÊ°à‰πüÂ§±Ë¥•:",b)}}V.error(`Âú∞ÂõæÊúçÂä°Âä†ËΩΩÂ§±Ë¥•: ${c.message}`)}},lt=async()=>{if(!m.value||!k.aircraftData)return;if(!m.value||!be.value){console.warn("‚ö†Ô∏è Âú∞ÂõæÊú™ÂàùÂßãÂåñÔºåË∑≥ËøáÊ†áËÆ∞Êõ¥Êñ∞");return}const{latitude:c,longitude:b,height:z,attitude_head:$}=k.aircraftData;if(c&&b&&typeof c=="number"&&typeof b=="number"&&!isNaN(c)&&!isNaN(b)&&c>=-90&&c<=90&&b>=-180&&b<=180)try{Z.value&&m.value.remove(Z.value);const[N,le]=Cs.wgs84ToGcj02(b,c);N===null||le===null||isNaN(N)||isNaN(le)?(console.error("‚ùå ÂùêÊ†áËΩ¨Êç¢Â§±Ë¥•Ôºå‰ΩøÁî®ÂéüÂßãÂùêÊ†á",{longitude:b,latitude:c,gcjLng:N,gcjLat:le}),Z.value=new AMap.Marker({position:[b,c],title:`È£ûÊú∫‰ΩçÁΩÆ
È´òÂ∫¶: ${(z==null?void 0:z.toFixed(2))||"Êú™Áü•"}m
Ëà™Âêë: ${($==null?void 0:$.toFixed(1))||"Êú™Áü•"}¬∞
WGS84: ${c.toFixed(8)}, ${b.toFixed(8)}`,icon:new AMap.Icon({size:new AMap.Size(32,32),image:"data:image/svg+xml;base64,"+btoa(`
              <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 2L20 12L30 12L22 18L26 28L16 22L6 28L10 18L2 12L12 12Z" fill="#ff4444" stroke="#ffffff" stroke-width="2"/>
              </svg>
            `)}),rotation:$||0})):(console.log("üîÑ ÂùêÊ†áËΩ¨Êç¢:",{wgs84:{lng:b,lat:c},gcj02:{lng:N,lat:le}}),Z.value=new AMap.Marker({position:[N,le],title:`È£ûÊú∫‰ΩçÁΩÆ
È´òÂ∫¶: ${(z==null?void 0:z.toFixed(2))||"Êú™Áü•"}m
Ëà™Âêë: ${($==null?void 0:$.toFixed(1))||"Êú™Áü•"}¬∞
WGS84: ${c.toFixed(8)}, ${b.toFixed(8)}
GCJ02: ${le.toFixed(8)}, ${N.toFixed(8)}`,icon:new AMap.Icon({size:new AMap.Size(32,32),image:"data:image/svg+xml;base64,"+btoa(`
              <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 2L20 12L30 12L22 18L26 28L16 22L6 28L10 18L2 12L12 12Z" fill="#ff4444" stroke="#ffffff" stroke-width="2"/>
              </svg>
            `)}),rotation:$||0})),m.value.add(Z.value),N!==null&&le!==null&&!isNaN(N)&&!isNaN(le)?We(N,le,z):We(b,c,z),Ve(),console.log("‚úÖ È£ûÊú∫Ê†áËÆ∞Êõ¥Êñ∞ÊàêÂäüÔºàÂ∑≤ËΩ¨Êç¢ÂùêÊ†áÔºâ")}catch(N){console.error("‚ùå Êõ¥Êñ∞È£ûÊú∫Ê†áËÆ∞Â§±Ë¥•:",N),console.warn("‚ö†Ô∏è È£ûÊú∫Ê†áËÆ∞Êõ¥Êñ∞Â§±Ë¥•ÔºåÂ∞ÜÂú®‰∏ãÊ¨°Êï∞ÊçÆÊõ¥Êñ∞Êó∂ÈáçËØï")}else console.warn("‚ö†Ô∏è Êó†ÊïàÁöÑÂùêÊ†áÊï∞ÊçÆ:",{latitude:c,longitude:b})},We=(c,b,z)=>{if(!c||!b||typeof c!="number"||typeof b!="number"||isNaN(c)||isNaN(b)){console.warn("‚ö†Ô∏è Êó†ÊïàÁöÑËΩ®ËøπÁÇπÊï∞ÊçÆ:",{lng:c,lat:b});return}try{const $={lng:Number(c),lat:Number(b),height:z&&typeof z=="number"?Number(z):0,timestamp:Date.now()};n.value.push($),n.value.length>1e3&&n.value.shift(),console.log("‚úÖ ËΩ®ËøπÁÇπÊ∑ªÂä†ÊàêÂäü:",$)}catch($){console.error("‚ùå Ê∑ªÂä†ËΩ®ËøπÁÇπÂ§±Ë¥•:",$)}},Ve=()=>{if(!(!m.value||!me.value||n.value.length<2))try{fe.value&&m.value.remove(fe.value);const c=n.value.filter(w=>w&&typeof w.lng=="number"&&typeof w.lat=="number"&&!isNaN(w.lng)&&!isNaN(w.lat));if(c.length<2){console.warn("‚ö†Ô∏è ÊúâÊïàËΩ®ËøπÁÇπ‰∏çË∂≥ÔºåÊó†Ê≥ïÁªòÂà∂ËΩ®ËøπÁ∫ø");return}const b=c.map(w=>[w.lng,w.lat]),z=c.map(w=>w.height||0),$=Math.min(...z),N=Math.max(...z),le=N-$,f=[];for(let w=0;w<c.length-1;w++){const D=c[w],oe=c[w+1],B=D.height||0,Ie=le>0?(B-$)/le:.5,K=Math.floor(255*Ie),he=Math.floor(255*(1-Ie)),Ye=`rgb(${K}, 0, ${he})`;f.push({path:[[D.lng,D.lat],[oe.lng,oe.lat]],color:Ye,height:B})}const l=f.map(w=>new AMap.Polyline({path:w.path,strokeColor:w.color,strokeWeight:6,strokeOpacity:.9,strokeStyle:"solid",zIndex:1e3+Math.floor(w.height/10)}));fe.value={polylines:l,add:function(w){l.forEach(D=>w.add(D))},remove:function(w){l.forEach(D=>w.remove(D))}},fe.value.add(m.value),Xe(c),x(c),Ue(c),console.log("‚úÖ 3DËΩ®ËøπÁ∫øÊõ¥Êñ∞ÊàêÂäüÔºåÁÇπÊï∞:",c.length,"È´òÂ∫¶ËåÉÂõ¥:",$.toFixed(1),"-",N.toFixed(1),"m")}catch(c){console.error("‚ùå Êõ¥Êñ∞ËΩ®ËøπÁ∫øÂ§±Ë¥•:",c)}},Xe=c=>{if(_(),!(!m.value||c.length===0))try{const b=Math.max(1,Math.floor(c.length/10));for(let z=0;z<c.length;z+=b){const $=c[z];if($&&$.height!==void 0&&$.height!==null){const N=new AMap.Text({position:[$.lng,$.lat],text:`${$.height.toFixed(1)}m`,style:{"background-color":"rgba(255, 255, 255, 0.8)",border:"1px solid #ccc","border-radius":"3px",padding:"2px 4px","font-size":"12px",color:"#333"},offset:new AMap.Pixel(0,-20)});m.value.add(N),Pe.value.push(N)}}console.log("‚úÖ È´òÂ∫¶Ê†áÁ≠æÊ∑ªÂä†ÊàêÂäüÔºåÊï∞Èáè:",Pe.value.length)}catch(b){console.error("‚ùå Ê∑ªÂä†È´òÂ∫¶Ê†áÁ≠æÂ§±Ë¥•:",b)}},_=()=>{m.value&&Pe.value.length>0&&(Pe.value.forEach(c=>{try{m.value.remove(c)}catch(b){console.warn("‚ö†Ô∏è ÁßªÈô§È´òÂ∫¶Ê†áÁ≠æÊó∂Âá∫Èîô:",b)}}),Pe.value=[])},x=c=>{if(q(),!(!m.value||c.length===0))try{const b=Math.max(1,Math.floor(c.length/20));for(let z=0;z<c.length;z+=b){const $=c[z];if($&&$.height!==void 0&&$.height!==null&&$.height>0){const N=new AMap.Circle({center:[$.lng,$.lat],radius:20,fillColor:O($.height,c),fillOpacity:.6,strokeColor:"#ffffff",strokeWeight:2,strokeOpacity:.8,zIndex:1e3+Math.floor($.height/10)}),le=new AMap.Text({position:[$.lng,$.lat],text:`${$.height.toFixed(0)}m`,style:{"background-color":"rgba(255, 255, 255, 0.9)",border:"1px solid #ccc","border-radius":"3px",padding:"2px 4px","font-size":"11px",color:"#333","font-weight":"bold"},offset:new AMap.Pixel(0,-30)});m.value.add(N),m.value.add(le),de.value.push({circle:N,label:le})}}console.log("‚úÖ 3DÈ´òÂ∫¶Êü±Áä∂ÂõæÊ∑ªÂä†ÊàêÂäüÔºåÊï∞Èáè:",de.value.length)}catch(b){console.error("‚ùå Ê∑ªÂä†3DÈ´òÂ∫¶Êü±Áä∂ÂõæÂ§±Ë¥•:",b)}},O=(c,b)=>{const z=b.map(D=>D.height).filter(D=>D!=null),$=Math.min(...z),le=Math.max(...z)-$;if(le===0)return"#00ff00";const f=(c-$)/le,l=Math.floor(255*f),w=Math.floor(255*(1-f));return`rgb(${l}, 0, ${w})`},q=()=>{m.value&&de.value.length>0&&(de.value.forEach(c=>{try{c.circle&&m.value.remove(c.circle),c.label&&m.value.remove(c.label)}catch(b){console.warn("‚ö†Ô∏è ÁßªÈô§3DÈ´òÂ∫¶Êü±Áä∂ÂõæÊó∂Âá∫Èîô:",b)}}),de.value=[])},Ue=c=>{if(it(),!(!m.value||c.length===0))try{const b=Math.max(1,Math.floor(c.length/10));for(let z=0;z<c.length;z+=b){const $=c[z];if($&&$.lng&&$.lat){const N=new AMap.Circle({center:[$.lng,$.lat],radius:50,fillColor:"#ff6b6b",fillOpacity:.2,strokeColor:"#ff6b6b",strokeWeight:3,strokeOpacity:.8,zIndex:500});m.value.add(N),ue.value.push(N)}}console.log("‚úÖ 3DÂª∫Á≠ëÈ´ò‰∫ÆÊ∑ªÂä†ÊàêÂäüÔºåÊï∞Èáè:",ue.value.length)}catch(b){console.error("‚ùå Ê∑ªÂä†3DÂª∫Á≠ëÈ´ò‰∫ÆÂ§±Ë¥•:",b)}},it=()=>{m.value&&ue.value.length>0&&(ue.value.forEach(c=>{try{m.value.remove(c)}catch(b){console.warn("‚ö†Ô∏è ÁßªÈô§3DÂª∫Á≠ëÈ´ò‰∫ÆÊó∂Âá∫Èîô:",b)}}),ue.value=[])},Ot=()=>{n.value=[],_(),q(),it(),fe.value&&(fe.value.remove(m.value),fe.value=null),V.success("3DËΩ®ËøπÂ∑≤Ê∏ÖÈô§")},Fe=()=>{me.value=!me.value,me.value?Ve():(fe.value&&(fe.value.remove(m.value),fe.value=null),_(),q(),it())},Wt=()=>{if(m.value&&k.aircraftData){const{latitude:c,longitude:b}=k.aircraftData;if(c&&b){const[z,$]=Cs.wgs84ToGcj02(b,c);m.value.setCenter([z,$]),m.value.setZoom(15),console.log("üéØ Âú∞ÂõæÂ±Ö‰∏≠ÔºàÂ∑≤ËΩ¨Êç¢ÂùêÊ†áÔºâ:",{wgs84:[b,c],gcj02:[z,$]})}}},ts=()=>{if(m.value)try{m.value.setPitch(45),m.value.setRotation(0),m.value.setZoom(m.value.getZoom()),console.log("üé¨ ÂàáÊç¢Âà∞3DËßÜËßí"),V.success("Â∑≤ÂàáÊç¢Âà∞3DËßÜËßí")}catch(c){console.warn("‚ö†Ô∏è 3DËßÜËßíËÆæÁΩÆÂ§±Ë¥•:",c),V.warning("3DËßÜËßíËÆæÁΩÆÂ§±Ë¥•ÔºåÂú∞ÂõæÂ∑≤‰∏∫3DÊ®°Âºè")}},A=()=>{if(m.value)try{m.value.setPitch(0),m.value.setRotation(0),m.value.setZoom(m.value.getZoom()),console.log("üìê ÂàáÊç¢Âà∞‰øØËßÜÂõæ"),V.success("Â∑≤ÂàáÊç¢Âà∞‰øØËßÜÂõæ")}catch(c){console.warn("‚ö†Ô∏è ‰øØËßÜÂõæËÆæÁΩÆÂ§±Ë¥•:",c),V.warning("‰øØËßÜÂõæËÆæÁΩÆÂ§±Ë¥•")}},p=()=>{if(m.value)try{console.log("üîÑ ÈáçÊñ∞Âä†ËΩΩÂú∞Âõæ..."),V.info("Ê≠£Âú®ÈáçÊñ∞Âä†ËΩΩÂú∞Âõæ..."),et(),setTimeout(()=>{nt()},500)}catch(c){console.error("‚ùå ÈáçÊñ∞Âä†ËΩΩÂú∞ÂõæÂ§±Ë¥•:",c),V.error("ÈáçÊñ∞Âä†ËΩΩÂú∞ÂõæÂ§±Ë¥•")}},C=()=>{try{const{latitude:c,longitude:b}=k.aircraftData||{};if(c&&b&&typeof c=="number"&&typeof b=="number"&&!isNaN(c)&&!isNaN(b)){const[z,$]=Cs.wgs84ToGcj02(b,c);return`GCJ02: ${$.toFixed(8)}, ${z.toFixed(8)}`}return"Êú™Áü•"}catch(c){return console.error("‚ùå Ê†ºÂºèÂåñÂùêÊ†áÂ§±Ë¥•:",c),"Êú™Áü•"}},se=()=>{if(n.value.length<2)return"0.00";try{const c=n.value.filter(z=>z&&typeof z.lng=="number"&&typeof z.lat=="number"&&!isNaN(z.lng)&&!isNaN(z.lat));if(c.length<2)return"0.00";let b=0;for(let z=1;z<c.length;z++){const $=c[z-1],N=c[z];if($&&N&&typeof $.lng=="number"&&typeof $.lat=="number"&&typeof N.lng=="number"&&typeof N.lat=="number"){const le=AMap.GeometryUtil.distance([$.lng,$.lat],[N.lng,N.lat]);!isNaN(le)&&le>0&&(b+=le)}}return(b/1e3).toFixed(2)}catch(c){return console.error("‚ùå ËÆ°ÁÆóÈ£ûË°åË∑ùÁ¶ªÂ§±Ë¥•:",c),"0.00"}},Le=()=>{if(n.value.length<2)return"00:00:00";const c=n.value[0].timestamp,b=n.value[n.value.length-1].timestamp,z=Math.floor((b-c)/1e3),$=Math.floor(z/3600),N=Math.floor(z%3600/60),le=z%60;return`${$.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}:${le.toString().padStart(2,"0")}`},dt=()=>{if(n.value.length===0)return"Êú™Áü•";const c=n.value.map($=>$.height).filter($=>$!=null&&!isNaN($));if(c.length===0)return"Êú™Áü•";const b=Math.min(...c),z=Math.max(...c);return`${b.toFixed(1)}m - ${z.toFixed(1)}m`},Mt=()=>{if(n.value.length===0)return"Êú™Áü•";const c=n.value.map(z=>z.height).filter(z=>z!=null&&!isNaN(z));return c.length===0?"Êú™Áü•":(c.reduce((z,$)=>z+$,0)/c.length).toFixed(1)},ut=()=>{if(m.value)try{const c=document.getElementById("flight-map");if(!c){console.error("‚ùå Âú∞ÂõæÂÆπÂô®Êú™ÊâæÂà∞");return}const b=c.querySelectorAll('img[src*="amap.com"]');if(console.log("üîç Âú∞ÂõæÁì¶ÁâáÊ£ÄÊü•:",{tilesCount:b.length,containerSize:{width:c.offsetWidth,height:c.offsetHeight}}),b.length===0){console.warn("‚ö†Ô∏è Êú™Ê£ÄÊµãÂà∞Âú∞ÂõæÁì¶ÁâáÔºåÂ∞ùËØïÈáçÊñ∞Âä†ËΩΩ"),V.warning("Âú∞ÂõæÁì¶ÁâáÊú™Âä†ËΩΩÔºåÂ∞ùËØïÈáçÊñ∞Âä†ËΩΩ...");const{latitude:z,longitude:$}=k.aircraftData;z&&$&&(m.value.setCenter([$,z]),m.value.setZoom(15))}else console.log("‚úÖ Âú∞ÂõæÁì¶ÁâáÂ∑≤Âä†ËΩΩ")}catch(c){console.error("‚ùå Ê£ÄÊü•Âú∞ÂõæÁì¶ÁâáÁä∂ÊÄÅÂ§±Ë¥•:",c)}};xs(()=>{k.modelValue&&Vs(()=>{nt()})});const et=()=>{if(m.value)try{if(Z.value){try{m.value.remove(Z.value)}catch(c){console.warn("‚ö†Ô∏è ÁßªÈô§È£ûÊú∫Ê†áËÆ∞Êó∂Âá∫Èîô:",c)}Z.value=null}if(fe.value){try{fe.value.remove(m.value)}catch(c){console.warn("‚ö†Ô∏è ÁßªÈô§ËΩ®ËøπÁ∫øÊó∂Âá∫Èîô:",c)}fe.value=null}_(),q(),it(),m.value.destroy(),console.log("üóëÔ∏è 3DÂú∞ÂõæÂÆû‰æãÂ∑≤ÂÆâÂÖ®ÈîÄÊØÅ")}catch(c){console.error("‚ùå ÈîÄÊØÅÂú∞ÂõæÊó∂Âá∫Èîô:",c)}finally{m.value=null,be.value=!1,n.value=[]}};return As(()=>{et()}),(c,b)=>{const z=E("el-button"),$=E("el-dialog");return y(),Xt($,{modelValue:T.value,"onUpdate:modelValue":b[0]||(b[0]=N=>T.value=N),title:"È£ûÊú∫ÂÆûÊó∂3DÈ£ûË°åËΩ®Ëøπ",width:"90%","before-close":Oe,"destroy-on-close":""},{default:s(()=>{var N,le,f,l,w,D;return[e("div",di,[e("div",ui,[e("div",pi,[e("span",null,[b[1]||(b[1]=e("strong",null,"È£ûÊú∫Â∫èÂàóÂè∑:",-1)),i(" "+o(F.aircraftSn),1)]),e("span",null,[b[2]||(b[2]=e("strong",null,"ÂΩìÂâç‰ΩçÁΩÆ:",-1)),i(" "+o(C()),1)]),e("span",null,[b[3]||(b[3]=e("strong",null,"È£ûË°åÈ´òÂ∫¶:",-1)),i(" "+o(((le=(N=F.aircraftData)==null?void 0:N.height)==null?void 0:le.toFixed(2))||"Êú™Áü•")+"m",1)]),e("span",null,[b[4]||(b[4]=e("strong",null,"È£ûË°åÈÄüÂ∫¶:",-1)),i(" "+o(((l=(f=F.aircraftData)==null?void 0:f.horizontal_speed)==null?void 0:l.toFixed(2))||"Êú™Áü•")+"m/s",1)])]),e("div",ci,[t(z,{onClick:Ot,size:"small"},{default:s(()=>[...b[5]||(b[5]=[i("Ê∏ÖÈô§ËΩ®Ëøπ",-1)])]),_:1}),t(z,{onClick:Fe,size:"small",type:me.value?"primary":"default"},{default:s(()=>[i(o(me.value?"ÈöêËóèËΩ®Ëøπ":"ÊòæÁ§∫ËΩ®Ëøπ"),1)]),_:1},8,["type"]),t(z,{onClick:Wt,size:"small"},{default:s(()=>[...b[6]||(b[6]=[i("Â±Ö‰∏≠Âú∞Âõæ",-1)])]),_:1}),t(z,{onClick:ts,size:"small",type:"success"},{default:s(()=>[...b[7]||(b[7]=[i("3DËßÜËßí",-1)])]),_:1}),t(z,{onClick:A,size:"small"},{default:s(()=>[...b[8]||(b[8]=[i("‰øØËßÜÂõæ",-1)])]),_:1}),t(z,{onClick:p,size:"small",type:"warning"},{default:s(()=>[...b[9]||(b[9]=[i("ÈáçÊñ∞Âä†ËΩΩÂú∞Âõæ",-1)])]),_:1})])]),b[10]||(b[10]=e("div",{id:"flight-map",class:"flight-map"},null,-1)),e("div",vi,[e("div",gi,[e("span",null,"ËΩ®ËøπÁÇπÊï∞: "+o(n.value.length),1),e("span",null,"È£ûË°åË∑ùÁ¶ª: "+o(se())+"km",1),e("span",null,"È£ûË°åÊó∂Èó¥: "+o(Le()),1)]),n.value.length>0?(y(),h("div",mi,[e("span",null,"È´òÂ∫¶ËåÉÂõ¥: "+o(dt()),1),e("span",null,"ÂΩìÂâçÈ´òÂ∫¶: "+o(((D=(w=F.aircraftData)==null?void 0:w.height)==null?void 0:D.toFixed(1))||"Êú™Áü•")+"m",1),e("span",null,"Âπ≥ÂùáÈ´òÂ∫¶: "+o(Mt())+"m",1)])):L("",!0)])])]}),_:1},8,["modelValue"])}}},yi=_s(fi,[["__scopeId","data-v-22ce3edc"]]);const _i={class:"aircraft-info-tab"},xi={key:0,class:"waiting-container"},bi={style:{"margin-top":"10px"}},hi={style:{"margin-top":"15px"}},wi={style:{"margin-top":"15px",padding:"10px",background:"var(--el-color-info-light-9)","border-radius":"4px","font-size":"12px"}},zi={key:0},$i={key:1,class:"data-container"},ki={style:{"margin-bottom":"15px"}},Si={style:{"margin-bottom":"5px"}},Ti={style:{color:"var(--el-text-color-primary)","font-weight":"500"}},Mi={style:{"margin-bottom":"5px"}},Di={style:{color:"var(--el-color-success)","font-size":"12px","font-weight":"500"}},Ci={style:{"font-size":"12px",color:"#999","margin-top":"2px"}},Oi={class:"card-header",style:{padding:"10px 16px","font-size":"16px"}},Pi={class:"info-content",style:{padding:"8px"}},Ni={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Hi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ri={class:"value",style:{"font-size":"11px"}},ji={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ai={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Li={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Vi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ui={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Fi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ii={class:"value",style:{"font-size":"11px"}},Ji={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ei={class:"value",style:{"font-size":"11px"}},qi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Bi={class:"value",style:{"font-size":"11px"}},Qi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Gi={class:"value",style:{"font-size":"11px"}},Zi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ki={class:"value",style:{"font-size":"11px"}},Wi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Yi={class:"value",style:{"font-size":"11px"}},Xi={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},er={class:"value",style:{"font-size":"11px"}},tr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},sr={class:"value",style:{"font-size":"11px"}},or={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ar={class:"value",style:{"font-size":"11px"}},lr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},nr={class:"value",style:{"font-size":"11px"}},ir={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},rr={class:"value",style:{"font-size":"11px"}},dr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ur={class:"value",style:{"font-size":"11px"}},pr={class:"card-header",style:{padding:"10px 16px","font-size":"16px"}},cr={class:"info-content",style:{padding:"8px"}},vr={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},gr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},mr={class:"value",style:{"font-size":"11px"}},fr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},yr={class:"value",style:{"font-size":"11px"}},_r={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},xr={class:"value",style:{"font-size":"11px"}},br={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},hr={class:"value",style:{"font-size":"11px"}},wr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},zr={class:"value",style:{"font-size":"11px"}},$r={key:0},kr={style:{"font-weight":"500",color:"var(--el-color-warning-dark-2)","margin-bottom":"3px","font-size":"12px"}},Sr={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Tr={class:"value",style:{"font-size":"10px"}},Mr={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Dr={class:"value",style:{"font-size":"10px"}},Cr={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Or={class:"value",style:{"font-size":"10px"}},Pr={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Nr={class:"value",style:{"font-size":"10px"}},Hr={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Rr={class:"value",style:{"font-size":"10px"}},jr={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Ar={class:"value",style:{"font-size":"10px"}},Lr={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Vr={class:"value",style:{"font-size":"10px"}},Ur={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Fr={class:"value",style:{"font-size":"10px"}},Ir={class:"info-item",style:{"margin-bottom":"2px","font-size":"11px"}},Jr={class:"value",style:{"font-size":"10px"}},Er={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},qr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Br={class:"value",style:{"font-size":"11px"}},Qr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Gr={class:"value",style:{"font-size":"11px"}},Zr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Kr={class:"value",style:{"font-size":"11px"}},Wr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Yr={class:"value",style:{"font-size":"11px"}},Xr={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ed={class:"value",style:{"font-size":"11px"}},td={class:"card-header",style:{padding:"10px 16px","font-size":"16px"}},sd={class:"info-content",style:{padding:"8px"}},od={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},ad={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ld={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},nd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},id={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},rd={class:"value",style:{"font-size":"11px"}},dd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ud={class:"value",style:{"font-size":"11px"}},pd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},cd={class:"value",style:{"font-size":"11px"}},vd={key:0,style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},gd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},md={class:"value",style:{"font-size":"11px"}},fd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},yd={class:"value",style:{"font-size":"11px"}},_d={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},xd={class:"value",style:{"font-size":"11px"}},bd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},hd={class:"value",style:{"font-size":"11px"}},wd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},zd={class:"value",style:{"font-size":"11px"}},$d={key:1,style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},kd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Sd={class:"value",style:{"font-size":"11px"}},Td={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Md={class:"value",style:{"font-size":"11px"}},Dd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Cd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Od={key:2},Pd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Nd={class:"value",style:{"font-size":"11px"}},Hd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Rd={class:"value",style:{"font-size":"11px"}},jd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Ad={class:"card-header",style:{padding:"10px 16px","font-size":"16px"}},Ld={class:"info-content",style:{padding:"8px"}},Vd={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Ud={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Fd={class:"value",style:{"font-size":"11px"}},Id={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Jd={class:"value",style:{"font-size":"11px"}},Ed={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},qd={class:"value",style:{"font-size":"11px"}},Bd={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Qd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Gd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Zd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Kd={style:{"margin-bottom":"8px","padding-bottom":"6px","border-bottom":"1px solid var(--el-border-color-lighter)"}},Wd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Yd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},Xd={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},eu={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},tu={class:"value",style:{"font-size":"11px"}},su={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},ou={class:"value",style:{"font-size":"11px"}},au={class:"info-item",style:{"margin-bottom":"3px","font-size":"12px"}},lu={key:2,class:"waiting-data",style:{margin:"20px 0",padding:"20px","text-align":"center",background:"var(--el-color-warning-light-9)","border-radius":"8px"}},nu={style:{position:"fixed",top:"50%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},iu={style:{position:"fixed",top:"60%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},ru={style:{position:"fixed",top:"70%",right:"20px",transform:"translateY(-50%)","z-index":"1000"}},du={class:"info-content"},uu={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},pu={style:{padding:"10px"}},cu={style:{"margin-bottom":"15px"}},vu={style:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"}},gu={style:{padding:"8px",background:"var(--el-color-info-light-9)","border-radius":"4px"}},mu={key:0,style:{"margin-left":"4px"}},fu={key:1,style:{color:"var(--el-color-warning)"}},yu={key:0,style:{background:"var(--el-color-success-light-9)",padding:"10px","border-radius":"4px","margin-bottom":"10px"}},_u={style:{background:"#f5f5f5",padding:"10px","border-radius":"4px","max-height":"500px","overflow-y":"auto","font-size":"12px"}},xu={__name:"AircraftInfoTab",props:{deviceSn:String,aircraftSn:String},emits:["dataReceived","subscriptionStatus"],setup(F,{emit:Tt}){const k=F,De=Tt,T=Ts(),me=js(),n=M(null),m=M(!1),Z=M("Êú™ËÆ¢ÈòÖ"),fe=M(!1),be=M(!1),Pe=M(!1),de=M(null),ue=Ke(()=>{const f=Oe();return f&&f!=="--"?`thing/product/${f}/osd`:null}),Oe=()=>k.aircraftSn||k.deviceSn||"--",nt=()=>{var f;return((f=me.currentDevice)==null?void 0:f.airport_sn)||me.currentDeviceSn||"--"},lt=f=>({0:"success",1:"warning",2:"warning",3:"info",4:"success",5:"warning"})[f]||"info",We=f=>({0:"Á©∫Èó≤‰∏≠",1:"Áé∞Âú∫Ë∞ÉËØï",2:"ËøúÁ®ãË∞ÉËØï",3:"Âõ∫‰ª∂ÂçáÁ∫ß‰∏≠",4:"‰Ωú‰∏ö‰∏≠",5:"ÂæÖÊ†áÂÆö"})[f]||"Êú™Áü•Áä∂ÊÄÅ",Ve=f=>{if(!f)return"--";const l=["B","KB","MB","GB","TB"],w=Math.floor(Math.log(f)/Math.log(1024));return(f/Math.pow(1024,w)).toFixed(1)+" "+l[w]},Xe=()=>{var w,D,oe,B,Ie,K;const f=(oe=(D=(w=n.value)==null?void 0:w.data)==null?void 0:D.storage)==null?void 0:oe.total,l=(K=(Ie=(B=n.value)==null?void 0:B.data)==null?void 0:Ie.storage)==null?void 0:K.used;return!f||!l?"Êú™Áü•":(l/f*100).toFixed(1)},_=f=>{if(!f)return"Êú™Áü•";const l=Math.floor(f/3600),w=Math.floor(f%3600/60),D=Math.floor(f%60);return`${l}h ${w}m ${D}s`},x=f=>f==null?"info":f===1?"success":"info",O=f=>f==null?"Êú™Áü•":f===1?"Êî∂Ëµ∑":"Êîæ‰∏ã",q=f=>f==null?"info":f===1?"success":"info",Ue=f=>f==null?"Êú™Áü•":f===1?"ÂºÄÂêØ":"ÂÖ≥Èó≠",it=f=>({0:"info",1:"success",2:"warning"})[f]||"info",Ot=f=>({0:"Ëá™Âä®",1:"ÊâãÂä®",2:"ÂÖ∂‰ªñ"})[f]||"Êú™Áü•",Fe=f=>({0:"info",1:"success",2:"warning",3:"primary"})[f]||"info",Wt=f=>({0:"ÈªòËÆ§",1:"ÂΩ©Ëôπ",2:"ÈìÅÁ∫¢",3:"ÂÖ∂‰ªñ"})[f]||"Êú™Áü•",ts=f=>({0:"info",1:"success",2:"warning"})[f]||"info",A=f=>({0:"ÊãçÁÖßÊ®°Âºè",1:"ÂΩïÂÉèÊ®°Âºè",2:"ÂÖ∂‰ªñÊ®°Âºè"})[f]||"Êú™Áü•",p=f=>({0:"info",1:"warning",2:"danger"})[f]||"info",C=f=>({0:"ÊÇ¨ÂÅú",1:"ÈôçËêΩ",2:"ËøîËà™"})[f]||"Êú™Áü•",se=f=>{if(!f||f===0)return"0Áßí";const l=Math.floor(f/3600),w=Math.floor(f%3600/60),D=Math.floor(f%60);let oe="";return l>0&&(oe+=`${l}Â∞èÊó∂`),w>0&&(oe+=`${w}ÂàÜÈíü`),D>0&&(oe+=`${D}Áßí`),oe||"0Áßí"},Le=async()=>{if(!T.isConnected){V.warning("MQTTÊú™ËøûÊé•ÔºåÊó†Ê≥ïËÆ¢ÈòÖÈ£ûÊú∫OSDÊï∞ÊçÆ"),Z.value="MQTTÊú™ËøûÊé•";return}if(!ue.value){V.warning("È£ûÊú∫Â∫èÂàóÂè∑‰∏∫Á©∫ÔºåÊó†Ê≥ïËÆ¢ÈòÖÈ£ûÊú∫OSDÊï∞ÊçÆ"),Z.value="È£ûÊú∫Â∫èÂàóÂè∑‰∏∫Á©∫";return}fe.value=!0,Z.value="ËÆ¢ÈòÖ‰∏≠...";try{await T.subscribeToTopics(ue.value,1),Z.value="Â∑≤ËÆ¢ÈòÖ",V.success(`Â∑≤ËÆ¢ÈòÖÈ£ûÊú∫OSD‰∏ªÈ¢ò: ${ue.value}`),console.log("È£ûÊú∫OSDËÆ¢ÈòÖÊàêÂäü:",ue.value),De("subscriptionStatus","success")}catch(f){Z.value="ËÆ¢ÈòÖÂ§±Ë¥•",console.error("ËÆ¢ÈòÖÈ£ûÊú∫OSD‰∏ªÈ¢òÂ§±Ë¥•:",f),V.error("ËÆ¢ÈòÖÈ£ûÊú∫OSD‰∏ªÈ¢òÂ§±Ë¥•"),De("subscriptionStatus","error")}finally{fe.value=!1}},dt=()=>{var f,l,w,D,oe,B,Ie,K,he,Ye,v,r,g,S,R,ye,Ce,Ae,u,a,Q;try{if(console.log("üîç Ê£ÄÊü•È£ûÊú∫OSDÊ∂àÊÅØ:",{aircraftOsdTopic:ue.value,messageHistoryLength:T.messageHistory.length,hasReceivedData:m.value,currentTimestamp:(f=n.value)==null?void 0:f.timestamp,allTopics:T.messageHistory.map(j=>j.topic)}),!ue.value){console.log("‚ùå È£ûÊú∫OSD‰∏ªÈ¢ò‰∏∫Á©∫");return}const U=T.messageHistory.filter(j=>j.topic===ue.value);if(console.log("üì® ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØÊï∞Èáè:",U.length),console.log("üì® ÂåπÈÖçÁöÑÊ∂àÊÅØ:",U),console.log("üì® ÊúüÊúõÁöÑ‰∏ªÈ¢ò:",ue.value),console.log("üì® ÂÆûÈôÖÊî∂Âà∞ÁöÑ‰∏ªÈ¢ò:",T.messageHistory.map(j=>j.topic)),U.length>0){const j=U[0];console.log("üì® ÊúÄÊñ∞Ê∂àÊÅØ:",j),console.log("üì® ÊúÄÊñ∞Ê∂àÊÅØÊï∞ÊçÆ:",j.data);const P=!n.value||j.timestamp>n.value.timestamp;if(console.log("üÜï ÊòØÂê¶‰∏∫Êñ∞Ê∂àÊÅØ:",P,{currentTimestamp:(l=n.value)==null?void 0:l.timestamp,newTimestamp:j.timestamp}),P){console.log("‚úÖ Â§ÑÁêÜÊñ∞ÁöÑÈ£ûÊú∫OSDÊï∞ÊçÆ:",j);let H=null;try{j.payload&&(H=JSON.parse(j.payload),console.log("‚úÖ Ëß£ÊûêÁöÑpayloadÊï∞ÊçÆ:",H))}catch(Ne){console.error("‚ùå Ëß£ÊûêpayloadÂ§±Ë¥•:",Ne)}const I={...j,data:(H==null?void 0:H.data)||j.data};n.value=I,m.value=!0,Z.value="Â∑≤Êé•Êî∂Êï∞ÊçÆ",de.value=new Date,De("dataReceived",I),console.log("‚úÖ È£ûÊú∫OSDÊï∞ÊçÆÂ∑≤Êõ¥Êñ∞:",n.value),console.log("‚úÖ È£ûÊú∫OSDÊï∞ÊçÆÂÜÖÂÆπ:",{mode_code:(D=(w=n.value)==null?void 0:w.data)==null?void 0:D.mode_code,battery_percent:(Ie=(B=(oe=n.value)==null?void 0:oe.data)==null?void 0:B.battery)==null?void 0:Ie.capacity_percent,latitude:(he=(K=n.value)==null?void 0:K.data)==null?void 0:he.latitude,longitude:(v=(Ye=n.value)==null?void 0:Ye.data)==null?void 0:v.longitude,height:(g=(r=n.value)==null?void 0:r.data)==null?void 0:g.height,gear:(R=(S=n.value)==null?void 0:S.data)==null?void 0:R.gear,night_lights_state:(Ce=(ye=n.value)==null?void 0:ye.data)==null?void 0:Ce.night_lights_state}),(u=(Ae=n.value)==null?void 0:Ae.data)!=null&&u.latitude&&((Q=(a=n.value)==null?void 0:a.data)!=null&&Q.longitude)&&console.log("üìç È´òÁ≤æÂ∫¶ÂùêÊ†á:",{latitude:n.value.data.latitude,longitude:n.value.data.longitude,latitude_precise:n.value.data.latitude.toFixed(10),longitude_precise:n.value.data.longitude.toFixed(10)})}else console.log("‚è≠Ô∏è Ê∂àÊÅØÂ∑≤Â§ÑÁêÜËøáÔºåË∑≥Ëøá")}else console.log("üì≠ Ê≤°ÊúâÊâæÂà∞ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØ"),console.log("üì≠ ÊâÄÊúâÊ∂àÊÅØ‰∏ªÈ¢ò:",T.messageHistory.map(j=>j.topic)),console.log("üì≠ ÊúüÊúõÁöÑ‰∏ªÈ¢ò:",ue.value)}catch(U){console.error("‚ùå Â§ÑÁêÜÈ£ûÊú∫OSDÊ∂àÊÅØÂ§±Ë¥•:",U)}};Os(()=>T.messageHistory,(f,l)=>{f&&f.length>0&&(console.log("üì® Ê∂àÊÅØÂéÜÂè≤ÂèëÁîüÂèòÂåñÔºåÊ£ÄÊü•È£ûÊú∫OSDÊ∂àÊÅØ"),dt())},{deep:!0,immediate:!0});const Mt=()=>{if(console.log("üîÑ Âà∑Êñ∞ËÆ¢ÈòÖÁä∂ÊÄÅ"),console.log("üìä ÂΩìÂâçÁä∂ÊÄÅ:",{mqttConnected:T.isConnected,messageHistoryLength:T.messageHistory.length,aircraftOsdTopic:ue.value,hasReceivedData:m.value}),T.isConnected)if(Z.value="MQTTÂ∑≤ËøûÊé•ÔºåÁ≠âÂæÖÊï∞ÊçÆ...",console.log("‚úÖ MQTTÂ∑≤ËøûÊé•"),T.messageHistory.length>0){console.log("üì® Ê∂àÊÅØÂéÜÂè≤:",T.messageHistory);const f=T.messageHistory.filter(l=>l.topic===ue.value);f.length>0?(console.log("üéØ ÊâæÂà∞ÂåπÈÖçÁöÑÊ∂àÊÅØ:",f),Z.value=`ÊâæÂà∞ ${f.length} Êù°Ê∂àÊÅØÔºåÊ≠£Âú®Â§ÑÁêÜ...`,dt()):(console.log("‚ùå Ê≤°ÊúâÊâæÂà∞ÂåπÈÖç‰∏ªÈ¢òÁöÑÊ∂àÊÅØ"),Z.value="MQTTÂ∑≤ËøûÊé•Ôºå‰ΩÜÊú™ÊâæÂà∞ÂåπÈÖçÁöÑÊ∂àÊÅØ")}else console.log("üì≠ Ê∂àÊÅØÂéÜÂè≤‰∏∫Á©∫"),Z.value="MQTTÂ∑≤ËøûÊé•ÔºåÊ∂àÊÅØÂéÜÂè≤‰∏∫Á©∫";else Z.value="MQTTÊú™ËøûÊé•",console.log("‚ùå MQTTÊú™ËøûÊé•")};xs(()=>{console.log("È£ûÊú∫‰ø°ÊÅØÁªÑ‰ª∂ÊåÇËΩΩÔºåÂºÄÂßãËÆ¢ÈòÖÊï∞ÊçÆ"),Le()}),As(()=>{console.log("È£ûÊú∫‰ø°ÊÅØÁªÑ‰ª∂Âç∏ËΩΩ"),ue.value&&T.unsubscribeTopics(ue.value)});const ut=f=>{if(!f)return"--";let l;if(typeof f=="string"?l=new Date(f).getTime():l=f,isNaN(l)||l<=0)return"Êó†ÊïàÊó∂Èó¥";const w=Date.now(),D=Math.floor((w-l)/1e3);return D<0?"Êú™Êù•Êó∂Èó¥":D>365*24*3600?"Âæà‰πÖ‰ª•Ââç":D<60?`${D}ÁßíÂâç`:D<3600?`${Math.floor(D/60)}ÂàÜÈíüÂâç`:D<86400?`${Math.floor(D/3600)}Â∞èÊó∂Ââç`:`${Math.floor(D/86400)}Â§©Ââç`},et=f=>{if(!f)return!0;let l;if(typeof f=="string"?l=new Date(f).getTime():l=f,isNaN(l)||l<=0)return!0;const w=Date.now();return Math.floor((w-l)/1e3)>300},c=f=>{be.value=!1,f()},b=()=>{var f,l,w,D,oe,B,Ie,K,he,Ye,v,r,g,S,R,ye,Ce,Ae,u,a,Q,U;console.log("üêõ Ë∞ÉËØïÊï∞ÊçÆÁä∂ÊÄÅ:"),console.log("üìä aircraftOsdData.value:",n.value),console.log("üìä aircraftOsdData.value?.data:",(f=n.value)==null?void 0:f.data),console.log("üìä hasReceivedData.value:",m.value),console.log("üìä ÂÖ∑‰ΩìÊï∞ÊçÆÂ≠óÊÆµ:"),console.log("  - latitude:",(w=(l=n.value)==null?void 0:l.data)==null?void 0:w.latitude),console.log("  - longitude:",(oe=(D=n.value)==null?void 0:D.data)==null?void 0:oe.longitude),console.log("  - height:",(Ie=(B=n.value)==null?void 0:B.data)==null?void 0:Ie.height),console.log("  - battery.capacity_percent:",(Ye=(he=(K=n.value)==null?void 0:K.data)==null?void 0:he.battery)==null?void 0:Ye.capacity_percent),console.log("  - mode_code:",(r=(v=n.value)==null?void 0:v.data)==null?void 0:r.mode_code),console.log("  - gear:",(S=(g=n.value)==null?void 0:g.data)==null?void 0:S.gear),console.log("  - wind_speed:",(ye=(R=n.value)==null?void 0:R.data)==null?void 0:ye.wind_speed),console.log("  - wind_direction:",(Ae=(Ce=n.value)==null?void 0:Ce.data)==null?void 0:Ae.wind_direction),console.log("  - elevation:",(a=(u=n.value)==null?void 0:u.data)==null?void 0:a.elevation),console.log("  - country:",(U=(Q=n.value)==null?void 0:Q.data)==null?void 0:U.country)},z=()=>{Pe.value=!0},$=f=>f?f>=1e3?`${(f/1e3).toFixed(2)}km`:`${f.toFixed(2)}m`:"Êú™Áü•",N=f=>f==null?"Êú™Áü•":{0:"Ê†áÂáÜÁîµÊ±†",1:"È´òÂÆπÈáèÁîµÊ±†",2:"Êô∫ËÉΩÁîµÊ±†",3:"‰∏ì‰∏öÁîµÊ±†"}[f]||`Á±ªÂûã${f}`,le=f=>f==null?"Êú™Áü•":{0:"Ê†áÂáÜÁâà",1:"Â¢ûÂº∫Áâà",2:"‰∏ì‰∏öÁâà",3:"ÊóóËà∞Áâà"}[f]||`Â≠êÁ±ªÂûã${f}`;return(f,l)=>{var g;const w=E("el-button"),D=E("el-alert"),oe=E("el-col"),B=E("el-row"),Ie=E("el-icon"),K=E("el-tag"),he=E("el-card"),Ye=E("el-tab-pane"),v=E("el-tabs"),r=E("el-drawer");return y(),h("div",_i,[m.value?L("",!0):(y(),h("div",xi,[t(D,{title:"Á≠âÂæÖÊé•Êî∂Êú∫Âú∫OSDÊï∞ÊçÆ",type:"info",closable:!1,"show-icon":""},{default:s(()=>{var S,R;return[e("div",bi,[e("p",null,[l[3]||(l[3]=e("strong",null,"ËÆ¢ÈòÖÁä∂ÊÄÅ:",-1)),i(" "+o(Z.value),1)]),e("p",null,[l[4]||(l[4]=e("strong",null,"ËÆ¢ÈòÖ‰∏ªÈ¢ò:",-1)),l[5]||(l[5]=i()),e("code",null,o(ue.value||"thing/product/"+Oe()+"/osd"),1)]),l[12]||(l[12]=e("p",null,[e("strong",null,"Á≠âÂæÖÊï∞ÊçÆ‰∏≠..."),i(" ËØ∑Á°Æ‰øùËÆæÂ§áÂ∑≤ËøûÊé•Âπ∂Ê≠£Âú®ÂèëÈÄÅOSDÊï∞ÊçÆ")],-1)),e("div",hi,[t(w,{type:"primary",size:"small",loading:fe.value,onClick:Le},{default:s(()=>[i(o(fe.value?"ËÆ¢ÈòÖ‰∏≠...":"ÊâãÂä®ËÆ¢ÈòÖ"),1)]),_:1},8,["loading"]),t(w,{size:"small",onClick:Mt,style:{"margin-left":"10px"}},{default:s(()=>[...l[6]||(l[6]=[i(" Âà∑Êñ∞Áä∂ÊÄÅ ",-1)])]),_:1})]),e("div",wi,[l[11]||(l[11]=e("div",null,[e("strong",null,"Ë∞ÉËØï‰ø°ÊÅØ:")],-1)),e("div",null,"MQTTËøûÊé•: "+o(d(T).isConnected?"‚úÖ Â∑≤ËøûÊé•":"‚ùå Êú™ËøûÊé•"),1),e("div",null,"Ê∂àÊÅØÂéÜÂè≤Êï∞Èáè: "+o(d(T).messageHistory.length),1),e("div",null,[l[7]||(l[7]=i("È£ûÊú∫OSD‰∏ªÈ¢ò: ",-1)),e("code",null,o(ue.value),1)]),e("div",null,[l[8]||(l[8]=i("Êú∫Âú∫Â∫èÂàóÂè∑: ",-1)),e("code",null,o(nt()),1)]),e("div",null,[l[9]||(l[9]=i("È£ûÊú∫Â∫èÂàóÂè∑: ",-1)),e("code",null,o(Oe()),1)]),e("div",null,"Â∑≤Êé•Êî∂Êï∞ÊçÆ: "+o(m.value?"‚úÖ ÊòØ":"‚ùå Âê¶"),1),d(T).messageHistory.length>0?(y(),h("div",zi,[e("div",null,[l[10]||(l[10]=i("ÊúÄÊñ∞Ê∂àÊÅØ‰∏ªÈ¢ò: ",-1)),e("code",null,o((S=d(T).messageHistory[0])==null?void 0:S.topic),1)]),e("div",null,"ÊúÄÊñ∞Ê∂àÊÅØÊó∂Èó¥: "+o(new Date((R=d(T).messageHistory[0])==null?void 0:R.timestamp).toLocaleString()),1)])):L("",!0)])])]}),_:1})])),m.value?(y(),h("div",$i,[t(B,{gutter:8,class:"data-grid"},{default:s(()=>[t(oe,{span:12},{default:s(()=>[...l[13]||(l[13]=[e("h3",{style:{"margin-bottom":"15px",color:"var(--el-text-color-primary)","border-left":"4px solid var(--el-color-success)","padding-left":"10px"}}," ‚úàÔ∏è È£ûÊú∫‰ø°ÊÅØ ",-1)])]),_:1}),t(oe,{span:12,style:{"text-align":"right"}},{default:s(()=>{var S;return[e("div",ki,[e("div",Si,[l[14]||(l[14]=e("span",{style:{color:"var(--el-text-color-regular)","font-size":"14px"}},"È£ûÊú∫Â∫èÂàóÂè∑: ",-1)),e("span",Ti,o(Oe()),1)]),e("div",Mi,[l[15]||(l[15]=e("span",{style:{color:"var(--el-text-color-regular)","font-size":"12px"}},"ÊúÄÊñ∞Âà∑Êñ∞: ",-1)),e("span",Di,o(de.value?de.value.toLocaleString():"Êú™Áü•"),1)]),e("div",Ci," Ë∞ÉËØï: aircraftOsdData="+o((S=n.value)==null?void 0:S.gateway)+", route.aircraftSn="+o(Oe()),1)])]}),_:1})]),_:1}),t(B,{gutter:2,class:"data-grid"},{default:s(()=>[t(oe,{span:6},{default:s(()=>[t(he,{class:"info-card",shadow:"hover",onClick:z,style:{cursor:"pointer","margin-bottom":"4px"}},{header:s(()=>[e("div",Oi,[t(Ie,null,{default:s(()=>[t(d(Is))]),_:1}),l[17]||(l[17]=e("span",null,"È£ûÊú∫Áä∂ÊÄÅ‰∏éÈ£ûË°åÂèÇÊï∞",-1)),t(K,{size:"small",type:"success"},{default:s(()=>[...l[16]||(l[16]=[i("ÂÆûÊó∂",-1)])]),_:1})])]),default:s(()=>{var S,R,ye,Ce,Ae,u,a,Q,U,j,P,H,I,Ne,Je,Dt,Ct,J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He,W,Y,_e,Ee,qe,Re,je,Be;return[e("div",Pi,[e("div",Ni,[l[23]||(l[23]=e("div",{style:{"font-weight":"600",color:"var(--el-color-primary)","margin-bottom":"4px","font-size":"15px"}},"‚úàÔ∏è È£ûÊú∫Áä∂ÊÄÅ",-1)),e("div",Hi,[l[18]||(l[18]=e("span",{class:"label",style:{"font-size":"11px"}},"Â∫èÂàóÂè∑:",-1)),e("span",Ri,o(Oe()),1)]),e("div",ji,[l[19]||(l[19]=e("span",{class:"label",style:{"font-size":"11px"}},"Áä∂ÊÄÅ:",-1)),t(K,{type:lt((R=(S=n.value)==null?void 0:S.data)==null?void 0:R.mode_code),size:"small",style:{"font-size":"12px"}},{default:s(()=>{var Te,Me;return[i(o(We((Me=(Te=n.value)==null?void 0:Te.data)==null?void 0:Me.mode_code)),1)]}),_:1},8,["type"])]),e("div",Ai,[l[20]||(l[20]=e("span",{class:"label",style:{"font-size":"11px"}},"Ëµ∑ËêΩÊû∂:",-1)),t(K,{type:x((Ce=(ye=n.value)==null?void 0:ye.data)==null?void 0:Ce.gear),size:"small",style:{"font-size":"12px"}},{default:s(()=>{var Te,Me;return[i(o(O((Me=(Te=n.value)==null?void 0:Te.data)==null?void 0:Me.gear)),1)]}),_:1},8,["type"])]),e("div",Li,[l[21]||(l[21]=e("span",{class:"label",style:{"font-size":"11px"}},"Â§úËà™ÁÅØ:",-1)),t(K,{type:q((u=(Ae=n.value)==null?void 0:Ae.data)==null?void 0:u.night_lights_state),size:"small",style:{"font-size":"12px"}},{default:s(()=>{var Te,Me;return[i(o(Ue((Me=(Te=n.value)==null?void 0:Te.data)==null?void 0:Me.night_lights_state)),1)]}),_:1},8,["type"])]),e("div",Vi,[l[22]||(l[22]=e("span",{class:"label",style:{"font-size":"11px"}},"RID:",-1)),t(K,{type:(Q=(a=n.value)==null?void 0:a.data)!=null&&Q.rid_state?"success":"warning",size:"small",style:{"font-size":"12px"}},{default:s(()=>{var Te,Me;return[i(o((Me=(Te=n.value)==null?void 0:Te.data)!=null&&Me.rid_state?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])])]),e("div",Ui,[l[32]||(l[32]=e("div",{style:{"font-weight":"600",color:"var(--el-color-success)","margin-bottom":"4px","font-size":"15px"}},"üìç È£ûË°åÂèÇÊï∞",-1)),e("div",Fi,[l[24]||(l[24]=e("span",{class:"label",style:{"font-size":"11px"}},"Á∫¨Â∫¶:",-1)),e("span",Ii,o(((P=(j=(U=n.value)==null?void 0:U.data)==null?void 0:j.latitude)==null?void 0:P.toFixed(6))||"Êú™Áü•"),1)]),e("div",Ji,[l[25]||(l[25]=e("span",{class:"label",style:{"font-size":"11px"}},"ÁªèÂ∫¶:",-1)),e("span",Ei,o(((Ne=(I=(H=n.value)==null?void 0:H.data)==null?void 0:I.longitude)==null?void 0:Ne.toFixed(6))||"Êú™Áü•"),1)]),e("div",qi,[l[26]||(l[26]=e("span",{class:"label",style:{"font-size":"11px"}},"È´òÂ∫¶:",-1)),e("span",Bi,o(((Ct=(Dt=(Je=n.value)==null?void 0:Je.data)==null?void 0:Dt.height)==null?void 0:Ct.toFixed(1))||"Êú™Áü•")+"m",1)]),e("div",Qi,[l[27]||(l[27]=e("span",{class:"label",style:{"font-size":"11px"}},"Ëà™Âêë:",-1)),e("span",Gi,o(((ne=(G=(J=n.value)==null?void 0:J.data)==null?void 0:G.attitude_head)==null?void 0:ne.toFixed(1))||"Êú™Áü•")+"¬∞",1)]),e("div",Zi,[l[28]||(l[28]=e("span",{class:"label",style:{"font-size":"11px"}},"‰øØ‰ª∞:",-1)),e("span",Ki,o(((ce=(pe=(ie=n.value)==null?void 0:ie.data)==null?void 0:pe.attitude_pitch)==null?void 0:ce.toFixed(1))||"Êú™Áü•")+"¬∞",1)]),e("div",Wi,[l[29]||(l[29]=e("span",{class:"label",style:{"font-size":"11px"}},"Ê®™Êªö:",-1)),e("span",Yi,o(((we=(ge=(ve=n.value)==null?void 0:ve.data)==null?void 0:ge.attitude_roll)==null?void 0:we.toFixed(1))||"Êú™Áü•")+"¬∞",1)]),e("div",Xi,[l[30]||(l[30]=e("span",{class:"label",style:{"font-size":"11px"}},"Ê∞¥Âπ≥ÈÄüÂ∫¶:",-1)),e("span",er,o((($e=(ae=(ze=n.value)==null?void 0:ze.data)==null?void 0:ae.horizontal_speed)==null?void 0:$e.toFixed(1))||"Êú™Áü•")+"m/s",1)]),e("div",tr,[l[31]||(l[31]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂûÇÁõ¥ÈÄüÂ∫¶:",-1)),e("span",sr,o(((He=(Se=n.value)==null?void 0:Se.data)==null?void 0:He.vertical_speed)||"Êú™Áü•")+"m/s",1)])]),e("div",null,[l[37]||(l[37]=e("div",{style:{"font-weight":"600",color:"var(--el-color-info)","margin-bottom":"4px","font-size":"15px"}},"üå§Ô∏è ÁéØÂ¢É‰ø°ÊÅØ",-1)),e("div",or,[l[33]||(l[33]=e("span",{class:"label",style:{"font-size":"11px"}},"È£éÈÄü:",-1)),e("span",ar,o(((Y=(W=n.value)==null?void 0:W.data)==null?void 0:Y.wind_speed)||"Êú™Áü•")+"m/s",1)]),e("div",lr,[l[34]||(l[34]=e("span",{class:"label",style:{"font-size":"11px"}},"È£éÂêë:",-1)),e("span",nr,o(((Ee=(_e=n.value)==null?void 0:_e.data)==null?void 0:Ee.wind_direction)||"Êú™Áü•")+"¬∞",1)]),e("div",ir,[l[35]||(l[35]=e("span",{class:"label",style:{"font-size":"11px"}},"Êµ∑Êãî:",-1)),e("span",rr,o(((Re=(qe=n.value)==null?void 0:qe.data)==null?void 0:Re.elevation)||"Êú™Áü•")+"m",1)]),e("div",dr,[l[36]||(l[36]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂõΩÂÆ∂:",-1)),e("span",ur,o(((Be=(je=n.value)==null?void 0:je.data)==null?void 0:Be.country)||"Êú™Áü•"),1)])])])]}),_:1})]),_:1}),t(oe,{span:6},{default:s(()=>[t(he,{class:"info-card",shadow:"hover",style:{"margin-bottom":"4px"}},{header:s(()=>[e("div",pr,[t(Ie,null,{default:s(()=>[t(d(Es))]),_:1}),l[39]||(l[39]=e("span",null,"ÁîµÊ±†‰∏éÂ≠òÂÇ®‰ø°ÊÅØ",-1)),t(K,{size:"small",type:"warning"},{default:s(()=>[...l[38]||(l[38]=[i("ÁîµÈáè",-1)])]),_:1})])]),default:s(()=>{var S,R,ye,Ce,Ae,u,a,Q,U,j,P,H,I,Ne,Je,Dt,Ct,J,G,ne,ie,pe,ce,ve,ge,we,ze;return[e("div",cr,[e("div",vr,[l[54]||(l[54]=e("div",{style:{"font-weight":"600",color:"var(--el-color-warning)","margin-bottom":"4px","font-size":"15px"}},"üîã ÁîµÊ±†‰ø°ÊÅØ",-1)),e("div",gr,[l[40]||(l[40]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊÄªÁîµÈáè:",-1)),e("span",mr,o(((ye=(R=(S=n.value)==null?void 0:S.data)==null?void 0:R.battery)==null?void 0:ye.capacity_percent)||"Êú™Áü•")+"%",1)]),e("div",fr,[l[41]||(l[41]=e("span",{class:"label",style:{"font-size":"11px"}},"Ââ©‰ΩôÈ£ûË°å:",-1)),e("span",yr,o(se((u=(Ae=(Ce=n.value)==null?void 0:Ce.data)==null?void 0:Ae.battery)==null?void 0:u.remain_flight_time)||"Êú™Áü•"),1)]),e("div",_r,[l[42]||(l[42]=e("span",{class:"label",style:{"font-size":"11px"}},"ËøîËà™ÁîµÈáè:",-1)),e("span",xr,o(((U=(Q=(a=n.value)==null?void 0:a.data)==null?void 0:Q.battery)==null?void 0:U.return_home_power)||"Êú™Áü•")+"%",1)]),e("div",br,[l[43]||(l[43]=e("span",{class:"label",style:{"font-size":"11px"}},"ÈôçËêΩÁîµÈáè:",-1)),e("span",hr,o(((H=(P=(j=n.value)==null?void 0:j.data)==null?void 0:P.battery)==null?void 0:H.landing_power)||"Êú™Áü•")+"%",1)]),e("div",wr,[l[44]||(l[44]=e("span",{class:"label",style:{"font-size":"11px"}},"‰ΩéÁîµÈáèÂëäË≠¶:",-1)),e("span",zr,o(((Ne=(I=n.value)==null?void 0:I.data)==null?void 0:Ne.serious_low_battery_warning_threshold)||"Êú™Áü•")+"%",1)]),(Ct=(Dt=(Je=n.value)==null?void 0:Je.data)==null?void 0:Dt.battery)!=null&&Ct.batteries&&n.value.data.battery.batteries.length>0?(y(),h("div",$r,[(y(!0),h(gs,null,ms(n.value.data.battery.batteries,(ae,$e)=>(y(),h("div",{key:$e,style:{"margin-top":"6px",padding:"4px",background:"var(--el-color-warning-light-9)","border-radius":"4px","border-left":"3px solid var(--el-color-warning)"}},[e("div",kr," ÁîµÊ±† "+o(ae.index!==void 0?ae.index:$e+1),1),e("div",Sr,[l[45]||(l[45]=e("span",{class:"label",style:{"font-size":"10px"}},"ÁîµÈáè:",-1)),e("span",Tr,o(ae.capacity_percent||"Êú™Áü•")+"%",1)]),e("div",Mr,[l[46]||(l[46]=e("span",{class:"label",style:{"font-size":"10px"}},"ÁîµÂéã:",-1)),e("span",Dr,o(ae.voltage||"Êú™Áü•")+"mV",1)]),e("div",Cr,[l[47]||(l[47]=e("span",{class:"label",style:{"font-size":"10px"}},"Ê∏©Â∫¶:",-1)),e("span",Or,o(ae.temperature?ae.temperature.toFixed(1):"Êú™Áü•")+"¬∞C",1)]),e("div",Pr,[l[48]||(l[48]=e("span",{class:"label",style:{"font-size":"10px"}},"Âæ™ÁéØÊ¨°Êï∞:",-1)),e("span",Nr,o(ae.loop_times||"Êú™Áü•"),1)]),e("div",Hr,[l[49]||(l[49]=e("span",{class:"label",style:{"font-size":"10px"}},"Â∫èÂàóÂè∑:",-1)),e("span",Rr,o(ae.sn||"Êú™Áü•"),1)]),e("div",jr,[l[50]||(l[50]=e("span",{class:"label",style:{"font-size":"10px"}},"Á±ªÂûã:",-1)),e("span",Ar,o(N(ae.type)),1)]),e("div",Lr,[l[51]||(l[51]=e("span",{class:"label",style:{"font-size":"10px"}},"Â≠êÁ±ªÂûã:",-1)),e("span",Vr,o(le(ae.sub_type)),1)]),e("div",Ur,[l[52]||(l[52]=e("span",{class:"label",style:{"font-size":"10px"}},"Âõ∫‰ª∂ÁâàÊú¨:",-1)),e("span",Fr,o(ae.firmware_version||"Êú™Áü•"),1)]),e("div",Ir,[l[53]||(l[53]=e("span",{class:"label",style:{"font-size":"10px"}},"È´òÁîµÂéãÂ≠òÂÇ®:",-1)),e("span",Jr,o(ae.high_voltage_storage_days||"Êú™Áü•")+"Â§©",1)])]))),128))])):L("",!0)]),e("div",Er,[l[58]||(l[58]=e("div",{style:{"font-weight":"600",color:"var(--el-color-info)","margin-bottom":"4px","font-size":"15px"}},"üíæ Â≠òÂÇ®‰ø°ÊÅØ",-1)),e("div",qr,[l[55]||(l[55]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊÄªÂÆπÈáè:",-1)),e("span",Br,o(Ve((ne=(G=(J=n.value)==null?void 0:J.data)==null?void 0:G.storage)==null?void 0:ne.total)||"Êú™Áü•"),1)]),e("div",Qr,[l[56]||(l[56]=e("span",{class:"label",style:{"font-size":"11px"}},"Â∑≤‰ΩøÁî®:",-1)),e("span",Gr,o(Ve((ce=(pe=(ie=n.value)==null?void 0:ie.data)==null?void 0:pe.storage)==null?void 0:ce.used)||"Êú™Áü•"),1)]),e("div",Zr,[l[57]||(l[57]=e("span",{class:"label",style:{"font-size":"11px"}},"‰ΩøÁî®Áéá:",-1)),e("span",Kr,o(Xe())+"%",1)])]),e("div",null,[l[61]||(l[61]=e("div",{style:{"font-weight":"600",color:"var(--el-color-success)","margin-bottom":"4px","font-size":"15px"}},"üìä È£ûË°åÁªüËÆ°",-1)),e("div",Wr,[l[59]||(l[59]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊÄªÈ£ûË°åÊó∂Èó¥:",-1)),e("span",Yr,o(_((ge=(ve=n.value)==null?void 0:ve.data)==null?void 0:ge.total_flight_time)||"Êú™Áü•"),1)]),e("div",Xr,[l[60]||(l[60]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊÄªÈ£ûË°åË∑ùÁ¶ª:",-1)),e("span",ed,o($((ze=(we=n.value)==null?void 0:we.data)==null?void 0:ze.total_flight_distance)||"Êú™Áü•"),1)])])])]}),_:1})]),_:1}),t(oe,{span:6},{default:s(()=>[t(he,{class:"info-card",shadow:"hover",style:{"margin-bottom":"4px"}},{header:s(()=>[e("div",td,[t(Ie,null,{default:s(()=>[t(d(Rs))]),_:1}),l[63]||(l[63]=e("span",null,"Áõ∏Êú∫‰∏éËΩΩËç∑‰ø°ÊÅØ",-1)),t(K,{size:"small",type:"primary"},{default:s(()=>[...l[62]||(l[62]=[i("ÂÆûÊó∂",-1)])]),_:1})])]),default:s(()=>{var S,R,ye,Ce,Ae,u,a,Q,U,j,P,H,I,Ne,Je,Dt,Ct,J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He,W,Y,_e,Ee,qe,Re,je,Be,Te,Me,pt,ct,vt,gt,mt,ft,yt,_t,xt,bt,ht,wt,zt,$t,kt,Qe,Ge,Ze,Pt,Nt,Ht,Rt,jt,At,Lt,Vt,Ut,Ft,It,Jt,Et,qt,Bt,Qt;return[e("div",sd,[e("div",od,[l[70]||(l[70]=e("div",{style:{"font-weight":"600",color:"var(--el-color-primary)","margin-bottom":"4px","font-size":"15px"}},"üì∑ Áõ∏Êú∫‰ø°ÊÅØ",-1)),e("div",ad,[l[64]||(l[64]=e("span",{class:"label",style:{"font-size":"11px"}},"Áõ∏Êú∫Ê®°Âºè:",-1)),t(K,{type:ts((Ce=(ye=(R=(S=n.value)==null?void 0:S.data)==null?void 0:R.cameras)==null?void 0:ye[0])==null?void 0:Ce.camera_mode),size:"small",style:{"font-size":"10px"}},{default:s(()=>{var X,ee,te,xe;return[i(o(A((xe=(te=(ee=(X=n.value)==null?void 0:X.data)==null?void 0:ee.cameras)==null?void 0:te[0])==null?void 0:xe.camera_mode)),1)]}),_:1},8,["type"])]),e("div",ld,[l[65]||(l[65]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂΩïÂà∂Áä∂ÊÄÅ:",-1)),t(K,{type:((Q=(a=(u=(Ae=n.value)==null?void 0:Ae.data)==null?void 0:u.cameras)==null?void 0:a[0])==null?void 0:Q.recording_state)===1?"danger":"info",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var X,ee,te,xe;return[i(o(((xe=(te=(ee=(X=n.value)==null?void 0:X.data)==null?void 0:ee.cameras)==null?void 0:te[0])==null?void 0:xe.recording_state)===1?"ÂΩïÂà∂‰∏≠":"Êú™ÂΩïÂà∂"),1)]}),_:1},8,["type"])]),e("div",nd,[l[66]||(l[66]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊãçÁÖßÁä∂ÊÄÅ:",-1)),t(K,{type:((H=(P=(j=(U=n.value)==null?void 0:U.data)==null?void 0:j.cameras)==null?void 0:P[0])==null?void 0:H.photo_state)===1?"success":"info",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var X,ee,te,xe;return[i(o(((xe=(te=(ee=(X=n.value)==null?void 0:X.data)==null?void 0:ee.cameras)==null?void 0:te[0])==null?void 0:xe.photo_state)===1?"ÊãçÁÖß‰∏≠":"ÂæÖÊú∫"),1)]}),_:1},8,["type"])]),e("div",id,[l[67]||(l[67]=e("span",{class:"label",style:{"font-size":"11px"}},"Ââ©‰ΩôÁÖßÁâá:",-1)),e("span",rd,o(((Dt=(Je=(Ne=(I=n.value)==null?void 0:I.data)==null?void 0:Ne.cameras)==null?void 0:Je[0])==null?void 0:Dt.remain_photo_num)||"Êú™Áü•")+"Âº†",1)]),e("div",dd,[l[68]||(l[68]=e("span",{class:"label",style:{"font-size":"11px"}},"Ââ©‰ΩôÂΩïÂà∂:",-1)),e("span",ud,o(se((ne=(G=(J=(Ct=n.value)==null?void 0:Ct.data)==null?void 0:J.cameras)==null?void 0:G[0])==null?void 0:ne.remain_record_duration)),1)]),e("div",pd,[l[69]||(l[69]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂèòÁÑ¶ÂÄçÊï∞:",-1)),e("span",cd,o(((ge=(ve=(ce=(pe=(ie=n.value)==null?void 0:ie.data)==null?void 0:pe.cameras)==null?void 0:ce[0])==null?void 0:ve.zoom_factor)==null?void 0:ge.toFixed(1))||"Êú™Áü•")+"x",1)])]),(ze=(we=n.value)==null?void 0:we.data)!=null&&ze["99-0-0"]?(y(),h("div",vd,[l[76]||(l[76]=e("div",{style:{"font-weight":"600",color:"var(--el-color-primary)","margin-bottom":"4px","font-size":"15px"}},"üéØ ‰∫ëÂè∞‰ø°ÊÅØ",-1)),e("div",gd,[l[71]||(l[71]=e("span",{class:"label",style:{"font-size":"11px"}},"ËΩΩËç∑Á¥¢Âºï:",-1)),e("span",md,o(((Se=($e=(ae=n.value)==null?void 0:ae.data)==null?void 0:$e["99-0-0"])==null?void 0:Se.payload_index)||"--"),1)]),e("div",fd,[l[72]||(l[72]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∫ëÂè∞‰øØ‰ª∞:",-1)),e("span",yd,o(((_e=(Y=(W=(He=n.value)==null?void 0:He.data)==null?void 0:W["99-0-0"])==null?void 0:Y.gimbal_pitch)==null?void 0:_e.toFixed(1))||"--")+"¬∞",1)]),e("div",_d,[l[73]||(l[73]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∫ëÂè∞Ê®™Êªö:",-1)),e("span",xd,o(((je=(Re=(qe=(Ee=n.value)==null?void 0:Ee.data)==null?void 0:qe["99-0-0"])==null?void 0:Re.gimbal_roll)==null?void 0:je.toFixed(1))||"--")+"¬∞",1)]),e("div",bd,[l[74]||(l[74]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∫ëÂè∞ÂÅèËà™:",-1)),e("span",hd,o(((pt=(Me=(Te=(Be=n.value)==null?void 0:Be.data)==null?void 0:Te["99-0-0"])==null?void 0:Me.gimbal_yaw)==null?void 0:pt.toFixed(1))||"--")+"¬∞",1)]),e("div",wd,[l[75]||(l[75]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂèòÁÑ¶ÂÄçÊï∞:",-1)),e("span",zd,o(((mt=(gt=(vt=(ct=n.value)==null?void 0:ct.data)==null?void 0:vt["99-0-0"])==null?void 0:gt.zoom_factor)==null?void 0:mt.toFixed(2))||"--")+"x",1)])])):L("",!0),(yt=(ft=n.value)==null?void 0:ft.data)!=null&&yt["99-0-0"]?(y(),h("div",$d,[l[81]||(l[81]=e("div",{style:{"font-weight":"600",color:"var(--el-color-warning)","margin-bottom":"4px","font-size":"15px"}},"üå°Ô∏è ÁÉ≠ÊàêÂÉè‰ø°ÊÅØ",-1)),e("div",kd,[l[77]||(l[77]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊúÄÈ´òÊ∏©Â∫¶:",-1)),e("span",Sd,o(((ht=(bt=(xt=(_t=n.value)==null?void 0:_t.data)==null?void 0:xt["99-0-0"])==null?void 0:bt.thermal_global_temperature_max)==null?void 0:ht.toFixed(1))||"--")+"¬∞C",1)]),e("div",Td,[l[78]||(l[78]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊúÄ‰ΩéÊ∏©Â∫¶:",-1)),e("span",Md,o(((kt=($t=(zt=(wt=n.value)==null?void 0:wt.data)==null?void 0:zt["99-0-0"])==null?void 0:$t.thermal_global_temperature_min)==null?void 0:kt.toFixed(1))||"--")+"¬∞C",1)]),e("div",Dd,[l[79]||(l[79]=e("span",{class:"label",style:{"font-size":"11px"}},"Â¢ûÁõäÊ®°Âºè:",-1)),t(K,{type:it((Ze=(Ge=(Qe=n.value)==null?void 0:Qe.data)==null?void 0:Ge["99-0-0"])==null?void 0:Ze.thermal_gain_mode),size:"small",style:{"font-size":"10px"}},{default:s(()=>{var X,ee,te;return[i(o(Ot((te=(ee=(X=n.value)==null?void 0:X.data)==null?void 0:ee["99-0-0"])==null?void 0:te.thermal_gain_mode)),1)]}),_:1},8,["type"])]),e("div",Cd,[l[80]||(l[80]=e("span",{class:"label",style:{"font-size":"11px"}},"Ë∞ÉËâ≤Êùø:",-1)),t(K,{type:Fe((Ht=(Nt=(Pt=n.value)==null?void 0:Pt.data)==null?void 0:Nt["99-0-0"])==null?void 0:Ht.thermal_current_palette_style),size:"small",style:{"font-size":"10px"}},{default:s(()=>{var X,ee,te;return[i(o(Wt((te=(ee=(X=n.value)==null?void 0:X.data)==null?void 0:ee["99-0-0"])==null?void 0:te.thermal_current_palette_style)),1)]}),_:1},8,["type"])])])):L("",!0),(jt=(Rt=n.value)==null?void 0:Rt.data)!=null&&jt["99-0-0"]?(y(),h("div",Od,[l[85]||(l[85]=e("div",{style:{"font-weight":"600",color:"var(--el-color-success)","margin-bottom":"4px","font-size":"15px"}},"üìè ÊµãÈáè‰ø°ÊÅØ",-1)),e("div",Pd,[l[82]||(l[82]=e("span",{class:"label",style:{"font-size":"11px"}},"ÁõÆÊ†áË∑ùÁ¶ª:",-1)),e("span",Nd,o(((Ut=(Vt=(Lt=(At=n.value)==null?void 0:At.data)==null?void 0:Lt["99-0-0"])==null?void 0:Vt.measure_target_distance)==null?void 0:Ut.toFixed(1))||"--")+"m",1)]),e("div",Hd,[l[83]||(l[83]=e("span",{class:"label",style:{"font-size":"11px"}},"ÁõÆÊ†áÈ´òÂ∫¶:",-1)),e("span",Rd,o(((Et=(Jt=(It=(Ft=n.value)==null?void 0:Ft.data)==null?void 0:It["99-0-0"])==null?void 0:Jt.measure_target_altitude)==null?void 0:Et.toFixed(1))||"--")+"m",1)]),e("div",jd,[l[84]||(l[84]=e("span",{class:"label",style:{"font-size":"11px"}},"ÊµãÈáèÁä∂ÊÄÅ:",-1)),t(K,{type:((Qt=(Bt=(qt=n.value)==null?void 0:qt.data)==null?void 0:Bt["99-0-0"])==null?void 0:Qt.measure_target_error_state)===0?"success":"danger",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var X,ee,te;return[i(o(((te=(ee=(X=n.value)==null?void 0:X.data)==null?void 0:ee["99-0-0"])==null?void 0:te.measure_target_error_state)===0?"Ê≠£Â∏∏":"ÈîôËØØ"),1)]}),_:1},8,["type"])])])):L("",!0)])]}),_:1})]),_:1}),t(oe,{span:6},{default:s(()=>[t(he,{class:"info-card",shadow:"hover",style:{"margin-bottom":"4px"}},{header:s(()=>[e("div",Ad,[t(Ie,null,{default:s(()=>[t(d(Ks))]),_:1}),l[87]||(l[87]=e("span",null,"ÈôêÂà∂‰∏éÂÆâÂÖ®‰ø°ÊÅØ",-1)),t(K,{size:"small",type:"info"},{default:s(()=>[...l[86]||(l[86]=[i("ÂÆâÂÖ®",-1)])]),_:1})])]),default:s(()=>{var S,R,ye,Ce,Ae,u,a,Q,U,j,P,H,I,Ne,Je,Dt,Ct,J,G,ne,ie,pe,ce,ve,ge,we,ze,ae,$e,Se,He;return[e("div",Ld,[e("div",Vd,[l[91]||(l[91]=e("div",{style:{"font-weight":"600",color:"var(--el-color-warning)","margin-bottom":"4px","font-size":"15px"}},"üö´ È£ûË°åÈôêÂà∂",-1)),e("div",Ud,[l[88]||(l[88]=e("span",{class:"label",style:{"font-size":"11px"}},"È´òÂ∫¶ÈôêÂà∂:",-1)),e("span",Fd,o(((R=(S=n.value)==null?void 0:S.data)==null?void 0:R.height_limit)||"--")+"m",1)]),e("div",Id,[l[89]||(l[89]=e("span",{class:"label",style:{"font-size":"11px"}},"Ë∑ùÁ¶ªÈôêÂà∂:",-1)),e("span",Jd,o(((Ae=(Ce=(ye=n.value)==null?void 0:ye.data)==null?void 0:Ce.distance_limit_status)==null?void 0:Ae.distance_limit)||"--")+"m",1)]),e("div",Ed,[l[90]||(l[90]=e("span",{class:"label",style:{"font-size":"11px"}},"ËøîËà™È´òÂ∫¶:",-1)),e("span",qd,o(((a=(u=n.value)==null?void 0:u.data)==null?void 0:a.rth_altitude)||"--")+"m",1)])]),e("div",Bd,[l[95]||(l[95]=e("div",{style:{"font-weight":"600",color:"var(--el-color-danger)","margin-bottom":"4px","font-size":"15px"}},"‚ö†Ô∏è ÂÆâÂÖ®ËÆæÁΩÆ",-1)),e("div",Qd,[l[92]||(l[92]=e("span",{class:"label",style:{"font-size":"11px"}},"Â§±ÊéßÂä®‰Ωú:",-1)),t(K,{type:p((U=(Q=n.value)==null?void 0:Q.data)==null?void 0:U.rc_lost_action),size:"small",style:{"font-size":"10px"}},{default:s(()=>{var W,Y;return[i(o(C((Y=(W=n.value)==null?void 0:W.data)==null?void 0:Y.rc_lost_action)),1)]}),_:1},8,["type"])]),e("div",Gd,[l[93]||(l[93]=e("span",{class:"label",style:{"font-size":"11px"}},"Êé•ËøëÈ´òÂ∫¶ÈôêÂà∂:",-1)),t(K,{type:(P=(j=n.value)==null?void 0:j.data)!=null&&P.is_near_height_limit?"warning":"success",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var W,Y;return[i(o((Y=(W=n.value)==null?void 0:W.data)!=null&&Y.is_near_height_limit?"ÊòØ":"Âê¶"),1)]}),_:1},8,["type"])]),e("div",Zd,[l[94]||(l[94]=e("span",{class:"label",style:{"font-size":"11px"}},"Êé•ËøëÂå∫ÂüüÈôêÂà∂:",-1)),t(K,{type:(I=(H=n.value)==null?void 0:H.data)!=null&&I.is_near_area_limit?"warning":"success",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var W,Y;return[i(o((Y=(W=n.value)==null?void 0:W.data)!=null&&Y.is_near_area_limit?"ÊòØ":"Âê¶"),1)]}),_:1},8,["type"])])]),e("div",Kd,[l[99]||(l[99]=e("div",{style:{"font-weight":"600",color:"var(--el-color-info)","margin-bottom":"4px","font-size":"15px"}},"üõ°Ô∏è ÈÅøÈöúÁ≥ªÁªü",-1)),e("div",Wd,[l[96]||(l[96]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∏äÊñπÈÅøÈöú:",-1)),t(K,{type:(Dt=(Je=(Ne=n.value)==null?void 0:Ne.data)==null?void 0:Je.obstacle_avoidance)!=null&&Dt.upside?"success":"warning",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var W,Y,_e;return[i(o((_e=(Y=(W=n.value)==null?void 0:W.data)==null?void 0:Y.obstacle_avoidance)!=null&&_e.upside?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",Yd,[l[97]||(l[97]=e("span",{class:"label",style:{"font-size":"11px"}},"Ê∞¥Âπ≥ÈÅøÈöú:",-1)),t(K,{type:(G=(J=(Ct=n.value)==null?void 0:Ct.data)==null?void 0:J.obstacle_avoidance)!=null&&G.horizon?"success":"warning",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var W,Y,_e;return[i(o((_e=(Y=(W=n.value)==null?void 0:W.data)==null?void 0:Y.obstacle_avoidance)!=null&&_e.horizon?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])]),e("div",Xd,[l[98]||(l[98]=e("span",{class:"label",style:{"font-size":"11px"}},"‰∏ãÊñπÈÅøÈöú:",-1)),t(K,{type:(pe=(ie=(ne=n.value)==null?void 0:ne.data)==null?void 0:ie.obstacle_avoidance)!=null&&pe.downside?"success":"warning",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var W,Y,_e;return[i(o((_e=(Y=(W=n.value)==null?void 0:W.data)==null?void 0:Y.obstacle_avoidance)!=null&&_e.downside?"ÂºÄÂêØ":"ÂÖ≥Èó≠"),1)]}),_:1},8,["type"])])]),e("div",null,[l[103]||(l[103]=e("div",{style:{"font-weight":"600",color:"var(--el-color-success)","margin-bottom":"4px","font-size":"15px"}},"üì° ÂÆö‰Ωç‰ø°ÊÅØ",-1)),e("div",eu,[l[100]||(l[100]=e("span",{class:"label",style:{"font-size":"11px"}},"GPSÊï∞Èáè:",-1)),e("span",tu,o(((ge=(ve=(ce=n.value)==null?void 0:ce.data)==null?void 0:ve.position_state)==null?void 0:ge.gps_number)||"--"),1)]),e("div",su,[l[101]||(l[101]=e("span",{class:"label",style:{"font-size":"11px"}},"RTKÊï∞Èáè:",-1)),e("span",ou,o(((ae=(ze=(we=n.value)==null?void 0:we.data)==null?void 0:ze.position_state)==null?void 0:ae.rtk_number)||"--"),1)]),e("div",au,[l[102]||(l[102]=e("span",{class:"label",style:{"font-size":"11px"}},"ÂÆö‰ΩçË¥®Èáè:",-1)),t(K,{type:((He=(Se=($e=n.value)==null?void 0:$e.data)==null?void 0:Se.position_state)==null?void 0:He.quality)>=4?"success":"warning",size:"small",style:{"font-size":"10px"}},{default:s(()=>{var W,Y,_e;return[i(o(((_e=(Y=(W=n.value)==null?void 0:W.data)==null?void 0:Y.position_state)==null?void 0:_e.quality)||"--"),1)]}),_:1},8,["type"])])])])]}),_:1})]),_:1})]),_:1})])):(y(),h("div",lu,[t(Ie,{style:{color:"var(--el-color-warning)","font-size":"48px","margin-bottom":"16px"}},{default:s(()=>[t(d(Bs))]),_:1}),l[104]||(l[104]=e("h3",{style:{color:"var(--el-color-warning-dark-2)","margin-bottom":"8px"}},"Á≠âÂæÖÊé•Êî∂È£ûÊú∫OSDÊï∞ÊçÆ...",-1)),l[105]||(l[105]=e("p",{style:{color:"var(--el-text-color-regular)","font-size":"14px"}},"ËØ∑Á°Æ‰øùMQTTËøûÊé•Ê≠£Â∏∏ÔºåËÆæÂ§áÊ≠£Âú®‰∏äÊä•Êï∞ÊçÆ",-1))])),e("div",nu,[t(w,{type:"primary",icon:d(qs),circle:"",size:"large",onClick:l[0]||(l[0]=S=>be.value=!0),title:"Êü•ÁúãÂéüÂßãÊï∞ÊçÆ"},null,8,["icon"])]),e("div",iu,[t(w,{type:"warning",circle:"",size:"large",onClick:dt,title:"ÊâãÂä®Â§ÑÁêÜÈ£ûÊú∫OSDÊ∂àÊÅØ"},{default:s(()=>[...l[106]||(l[106]=[i(" üîÑ ",-1)])]),_:1})]),e("div",ru,[t(w,{type:"info",circle:"",size:"large",onClick:b,title:"Ë∞ÉËØïÊï∞ÊçÆÁä∂ÊÄÅ"},{default:s(()=>[...l[107]||(l[107]=[i(" üêõ ",-1)])]),_:1})]),t(yi,{modelValue:Pe.value,"onUpdate:modelValue":l[1]||(l[1]=S=>Pe.value=S),"aircraft-data":(g=n.value)==null?void 0:g.data,"aircraft-sn":Oe()},null,8,["modelValue","aircraft-data","aircraft-sn"]),t(r,{modelValue:be.value,"onUpdate:modelValue":l[2]||(l[2]=S=>be.value=S),title:"È£ûÊú∫ÂéüÂßãÊï∞ÊçÆÂ±ïÁ§∫",direction:"rtl",size:"60%","before-close":c},{default:s(()=>[e("div",du,[t(v,{type:"border-card"},{default:s(()=>[t(Ye,{label:"È£ûÊú∫OSDÊï∞ÊçÆ",name:"aircraft-osd"},{default:s(()=>[e("pre",uu,o(JSON.stringify(n.value,null,2)),1)]),_:1}),t(Ye,{label:"Êï∞ÊçÆÊõ¥Êñ∞‰ø°ÊÅØ",name:"updates"},{default:s(()=>{var S,R;return[e("div",pu,[e("div",cu,[l[109]||(l[109]=e("h4",{style:{color:"var(--el-color-primary)","margin-bottom":"10px"}},"üìä Êï∞ÊçÆÊõ¥Êñ∞Áä∂ÊÄÅ",-1)),e("div",vu,[e("div",gu,[l[108]||(l[108]=e("strong",null,"È£ûÊú∫OSDÊï∞ÊçÆ:",-1)),(S=n.value)!=null&&S.timestamp?(y(),h("span",{key:0,style:es(et(n.value.timestamp)?"color: var(--el-color-warning);":"color: var(--el-color-success);")},[i(o(ut(n.value.timestamp))+" ",1),et(n.value.timestamp)?(y(),h("span",mu,"‚ö†Ô∏è")):L("",!0)],4)):(y(),h("span",fu,"Á≠âÂæÖÊï∞ÊçÆ"))])])]),e("div",null,[l[111]||(l[111]=e("h4",{style:{color:"var(--el-color-primary)","margin-bottom":"10px"}},"üîÑ ÊúÄËøëÊõ¥Êñ∞Â≠óÊÆµ",-1)),(R=n.value)!=null&&R.data?(y(),h("div",yu,[l[110]||(l[110]=e("strong",null,"È£ûÊú∫OSDÊï∞ÊçÆÂ≠óÊÆµ:",-1)),i(" "+o(Object.keys(n.value.data).join(", ")),1)])):L("",!0)])])]}),_:1}),t(Ye,{label:"ÊâÄÊúâÊ∂àÊÅØÂéÜÂè≤",name:"all"},{default:s(()=>[e("pre",_u,o(JSON.stringify(d(T).messageHistory,null,2)),1)]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}},bu=_s(xu,[["__scopeId","data-v-9149573a"]]);const hu={style:{padding:"8px 0",color:"var(--el-text-color-regular)","font-size":"13px",display:"flex","flex-direction":"column",gap:"10px"}},wu={style:{display:"flex","flex-direction":"column",gap:"10px"}},zu={style:{display:"flex","align-items":"center",gap:"8px"}},$u={style:{"margin-bottom":"15px"}},ku={style:{display:"flex",gap:"8px","justify-content":"flex-end"}},Su={style:{display:"flex","align-items":"center",gap:"8px"}},Tu={style:{"margin-bottom":"15px"}},Mu={style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px",display:"flex","align-items":"center",gap:"8px"}},Du={style:{"margin-bottom":"10px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},Cu={style:{display:"flex",gap:"8px","justify-content":"flex-end"}},Ou={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Pu={key:0,class:"json-block"},Nu={key:1,style:{color:"#909399"}},Hu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Ru={key:0},ju={style:{"margin-bottom":"10px",color:"var(--el-text-color-regular)","font-size":"13px"}},Au={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},Lu={class:"json-block"},Vu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Uu={style:{color:"#909399","text-align":"center",padding:"20px"}},Fu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Iu={key:0,class:"json-block"},Ju={key:1,style:{color:"#909399"}},Eu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},qu={key:0},Bu={style:{"font-family":"monospace","font-size":"12px"}},Qu={style:{"font-family":"monospace","font-size":"12px"}},Gu={class:"json-block"},Zu={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Ku={style:{color:"#909399","text-align":"center",padding:"20px"}},Wu={key:0},Yu={style:{"margin-bottom":"15px",color:"var(--el-text-color-regular)"}},Xu={key:1,style:{"text-align":"center",padding:"40px",color:"var(--el-text-color-regular)"}},ep={style:{display:"flex","align-items":"center",gap:"8px"}},tp={style:{"margin-bottom":"15px"}},sp={style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px",display:"flex","align-items":"center",gap:"8px"}},op={style:{"margin-bottom":"10px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},ap={style:{display:"flex",gap:"8px","justify-content":"flex-end"}},lp={style:{display:"flex","align-items":"center",gap:"8px"}},np={key:0,style:{display:"flex","align-items":"center",gap:"8px"}},ip={style:{"margin-bottom":"15px",padding:"12px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},rp={style:{color:"var(--el-text-color-regular)","font-size":"13px","line-height":"1.6"}},dp={style:{"margin-top":"10px"}},up={key:0,style:{"margin-bottom":"15px"}},pp={style:{display:"flex","align-items":"center",gap:"8px"}},cp={style:{"font-size":"12px",color:"var(--el-text-color-regular)"}},vp={style:{"font-size":"12px"}},gp={key:0},mp={key:0,style:{"font-size":"11px",color:"var(--el-color-danger)","margin-top":"2px"}},fp={key:1,style:{color:"var(--el-text-color-placeholder)","font-size":"12px"}},yp={key:1,style:{"text-align":"center",padding:"40px",color:"var(--el-text-color-regular)"}},_p={style:{"margin-bottom":"10px"}},xp={key:2,style:{"margin-top":"15px"}},bp={style:{"font-size":"12px",color:"var(--el-text-color-regular)","margin-bottom":"4px"}},hp={style:{"font-size":"11px",margin:"0","max-height":"200px","overflow-y":"auto"}},wp={style:{"margin-top":"15px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},zp={style:{"font-size":"11px",color:"var(--el-text-color-placeholder)","line-height":"1.4"}},$p={key:0},kp={key:3,style:{"margin-top":"15px","text-align":"center",padding:"20px",color:"var(--el-text-color-placeholder)","font-size":"12px"}},Sp={__name:"RemoteLogTab",props:{sending:Boolean,airportSn:String,requestTopic:String,replyTopic:String,requestPayload:[Object,String],replyPayload:[Object,String],uploadSending:Boolean,uploadRequestTopic:String,uploadReplyTopic:String,uploadRequestPayload:[Object,String],uploadReplyPayload:[Object,String],progressPayload:[Object,String],allEventsMessages:Array},emits:["request","upload","statusUpdate","subscribeProgress"],setup(F,{emit:Tt}){const k=F,De=Tt,T=M(!1),me=M(!0),n=M(!0),m=M(!1),Z=M(!0),fe=M(!1),be=M(!0),Pe=M(`{
  "method": "fileupload_list",
  "module_list": ["0", "3"],
  "extra_params": {}
}`),de=M(`{
  "bucket": "your-bucket-name",
  "region": "cn-hangzhou", 
  "credentials": {
    "access_key_id": "your-access-key",
    "access_key_secret": "your-secret-key",
    "expire": 3600,
    "security_token": "your-token"
  },
  "endpoint": "https://oss-cn-hangzhou.aliyuncs.com",
  "provider": "ali",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`),ue=M(`{
  "status": "cancel",
  "module_list": ["0", "3"]
}`),Oe=M(!1),nt=M(!1),lt=M(!1),We=Ke(()=>{if(!k.uploadReplyPayload)return[];try{const v=typeof k.uploadReplyPayload=="string"?JSON.parse(k.uploadReplyPayload):k.uploadReplyPayload;return v&&v.data?[{result:v.data.result,result_text:v.data.result===0?"ÊàêÂäü":"Â§±Ë¥•",bid:v.bid||"--",tid:v.tid||"--",timestamp:v.timestamp||Date.now(),method:v.method||"--"}]:[]}catch(v){return console.error("Ëß£Êûê‰∏ä‰º†ÂìçÂ∫îÊï∞ÊçÆÂ§±Ë¥•:",v),[]}}),Ve={fileupload_list:`{
  "method": "fileupload_list",
  "module_list": ["0", "3"],
  "extra_params": {}
}`},Xe={basic:`{
  "bucket": "your-bucket-name",
  "region": "cn-hangzhou", 
  "credentials": {
    "access_key_id": "your-access-key",
    "access_key_secret": "your-secret-key",
    "expire": 3600,
    "security_token": "your-token"
  },
  "endpoint": "https://oss-cn-hangzhou.aliyuncs.com",
  "provider": "ali",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`,minio:`{
  "bucket": "cloud-bucket",
  "region": "default", 
  "credentials": {
    "access_key_id": "fCgOzxx2SzRIGnXaOCp6",
    "access_key_secret": "RvUTCzIBFwj1bSFJIxnNudK59wTdJl68Je9rZ04x",
    "expire": 3600,
    "security_token": ""
  },
  "endpoint": "http://121.229.184.48:1300",
  "provider": "minio",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`},_=()=>{try{let v;try{v=JSON.parse(Pe.value)}catch(r){V.error("JSONÊ†ºÂºèÈîôËØØÔºåËØ∑Ê£ÄÊü•ËØ≠Ê≥ïÔºö"+r.message);return}if(!v.method){V.error("Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµÔºömethod");return}De("request",v)}catch(v){V.error("ËØ∑Ê±ÇÂèÇÊï∞Â§ÑÁêÜÂ§±Ë¥•Ôºö"+v.message)}},x=()=>{Pe.value=`{
  "method": "fileupload_list",
  "module_list": ["0", "3"],
  "extra_params": {}
}`},O=v=>{Ve[v]&&(Pe.value=Ve[v],V.success(`Â∑≤Âä†ËΩΩÈ¢ÑËÆæÈÖçÁΩÆÔºö${v}`))},q=()=>{me.value=!me.value},Ue=()=>{n.value=!n.value},it=()=>{m.value=!m.value},Ot=()=>{Z.value=!Z.value},Fe=()=>{fe.value=!fe.value},Wt=()=>{be.value=!be.value},ts=async()=>{try{lt.value=!0;const v=k.airportSn;if(!v||v==="--"){V.error("Áº∫Â∞ëÁΩëÂÖ≥SNÔºàÊú∫Âú∫SNÔºâ");return}if(!Ts().isConnected){V.error("MQTTÊú™ËøûÊé•ÔºåËØ∑ÂÖàËøûÊé•MQTTÊúçÂä°");return}const g=`thing/product/${v}/events`;console.log("=== ÊâãÂä®ËÆ¢ÈòÖËøõÂ∫¶ÈÄöÁü•Topic ==="),console.log("Topic:",g),console.log("Gateway SN:",v),De("subscribeProgress",{topic:g,gatewaySn:v}),V.success("Â∑≤ÂèëÈÄÅËÆ¢ÈòÖËØ∑Ê±ÇÔºåËØ∑Êü•ÁúãÊéßÂà∂Âè∞Á°ÆËÆ§ËÆ¢ÈòÖÁªìÊûú"),console.log("üì° ËÆ¢ÈòÖËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅÔºåÁ≠âÂæÖÁà∂ÁªÑ‰ª∂Â§ÑÁêÜ...")}catch(v){console.error("ËÆ¢ÈòÖËøõÂ∫¶ÈÄöÁü•Â§±Ë¥•:",v),V.error("ËÆ¢ÈòÖÂ§±Ë¥•: "+((v==null?void 0:v.message)||"Êú™Áü•ÈîôËØØ"))}finally{lt.value=!1}},A=()=>{try{let v;try{v=JSON.parse(de.value)}catch(r){V.error("JSONÊ†ºÂºèÈîôËØØÔºåËØ∑Ê£ÄÊü•ËØ≠Ê≥ïÔºö"+r.message);return}if(!v.bucket||!v.region||!v.credentials){V.error("Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµÔºöbucket, region, credentials");return}De("upload",v)}catch(v){V.error("‰∏ä‰º†ÂèÇÊï∞Â§ÑÁêÜÂ§±Ë¥•Ôºö"+v.message)}},p=()=>{de.value=`{
  "bucket": "your-bucket-name",
  "region": "cn-hangzhou",
  "credentials": {
    "access_key_id": "your-access-key",
    "access_key_secret": "your-secret-key",
    "expire": 3600,
    "security_token": "your-token"
  },
  "endpoint": "https://oss-cn-hangzhou.aliyuncs.com",
  "provider": "ali",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`},C=v=>{Xe[v]&&(de.value=Xe[v],V.success(`Â∑≤Âä†ËΩΩ‰∏ä‰º†È¢ÑËÆæÈÖçÁΩÆÔºö${v}`))},se=()=>{try{const v=JSON.parse(ue.value);if(!v.status){V.error("Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµ: status");return}if(!v.module_list||!Array.isArray(v.module_list)){V.error("Áº∫Â∞ëÂøÖË¶ÅÂ≠óÊÆµ: module_list (Êï∞ÁªÑ)");return}De("statusUpdate",v),V.success("Áä∂ÊÄÅÊõ¥Êñ∞ËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅ")}catch(v){V.error("JSONÊ†ºÂºèÈîôËØØ: "+v.message)}},Le=()=>{ue.value=`{
  "status": "cancel",
  "module_list": ["0", "3"]
}`},dt={cancel:{status:"cancel",module_list:["0","3"]}},Mt=Ke(()=>{var v,r,g,S,R,ye,Ce,Ae,u,a,Q,U,j;if(console.log("=== progressData computed Ë¢´Ë∞ÉÁî® ==="),console.log("props.progressPayload:",k.progressPayload),console.log("progressPayloadÁ±ªÂûã:",typeof k.progressPayload),!k.progressPayload)return console.log("‚ùå progressPayload‰∏∫Á©∫"),[];try{const P=typeof k.progressPayload=="string"?JSON.parse(k.progressPayload):k.progressPayload;if(console.log("Ëß£ÊûêÂêéÁöÑÊï∞ÊçÆ:",P),console.log("Êï∞ÊçÆÁªìÊûÑÊ£ÄÊü•:"),console.log("- data:",!!P),console.log("- data.data:",!!(P!=null&&P.data)),console.log("- data.data.result:",(v=P==null?void 0:P.data)==null?void 0:v.result),console.log("- Á¨¨‰∏Ä‰∏™Êñá‰ª∂ÁöÑprogress.result:",(Ce=(ye=(R=(S=(g=(r=P==null?void 0:P.data)==null?void 0:r.output)==null?void 0:g.ext)==null?void 0:S.files)==null?void 0:R[0])==null?void 0:ye.progress)==null?void 0:Ce.result),console.log("- data.data.output:",!!((Ae=P==null?void 0:P.data)!=null&&Ae.output)),console.log("- data.data.output.ext:",!!((a=(u=P==null?void 0:P.data)==null?void 0:u.output)!=null&&a.ext)),console.log("- data.data.output.ext.files:",!!((j=(U=(Q=P==null?void 0:P.data)==null?void 0:Q.output)==null?void 0:U.ext)!=null&&j.files)),P&&P.data&&P.data.output&&P.data.output.ext&&P.data.output.ext.files){console.log("‚úÖ Êï∞ÊçÆÁªìÊûÑÊ≠£Á°ÆÔºåÂºÄÂßãÂ§ÑÁêÜÊñá‰ª∂ÂàóË°®"),console.log("Êñá‰ª∂ÂàóË°®:",P.data.output.ext.files);const H=P.data.output.ext.files.map(I=>{var Ne,Je,Dt,Ct,J,G,ne,ie;return{device_sn:I.device_sn||"--",module:I.module||"--",key:I.key||"--",size:I.size||0,fingerprint:I.fingerprint||"--",result:((Ne=I.progress)==null?void 0:Ne.result)||P.data.result||null,progress:{current_step:((Je=I.progress)==null?void 0:Je.current_step)||0,progress:((Dt=I.progress)==null?void 0:Dt.progress)||0,status:((Ct=I.progress)==null?void 0:Ct.status)||"unknown",total_step:((J=I.progress)==null?void 0:J.total_step)||0,upload_rate:((G=I.progress)==null?void 0:G.upload_rate)||0,finish_time:((ne=I.progress)==null?void 0:ne.finish_time)||null,result:((ie=I.progress)==null?void 0:ie.result)||null}}});return console.log("Â§ÑÁêÜÂêéÁöÑÁªìÊûú:",H),console.log("ÊØè‰∏™Êñá‰ª∂ÁöÑresultÂ≠óÊÆµ:"),H.forEach((I,Ne)=>{console.log(`Êñá‰ª∂${Ne}: result = ${I.result}`)}),H}else return console.log("‚ùå Êï∞ÊçÆÁªìÊûÑ‰∏çÊ≠£Á°Æ"),[]}catch(P){return console.error("‚ùå Ëß£ÊûêËøõÂ∫¶Êï∞ÊçÆÂ§±Ë¥•:",P),[]}}),ut=()=>{ue.value=JSON.stringify(dt.cancel,null,2)},et=Ke(()=>{if(!k.replyPayload)return[];try{const v=typeof k.replyPayload=="string"?JSON.parse(k.replyPayload):k.replyPayload;return v&&v.data&&v.data.files&&Array.isArray(v.data.files)?v.data.files.map(r=>{const g=r.list||[],S=g.reduce((u,a)=>u+(a.size||0),0),R=g.map(u=>u.start_time).filter(u=>u),ye=g.map(u=>u.end_time).filter(u=>u),Ce=R.length?Math.min(...R):0,Ae=ye.length?Math.max(...ye):0;return{device_sn:r.device_sn||"Êú™Áü•ËÆæÂ§á",module:r.module||"--",result:r.result||-1,file_count:g.length,total_size:S,time_range:Ce&&Ae?`${he(Ce)} ~ ${he(Ae)}`:"--",file_list:g.map(u=>({...u,duration:u.start_time&&u.end_time?z(u.start_time,u.end_time):"--"}))}}):[]}catch(v){return console.error("Ëß£ÊûêËØ¶ÁªÜÊï∞ÊçÆÂ§±Ë¥•:",v),[]}}),c=()=>{if(!k.replyPayload){V.warning("ÊöÇÊó†ÂìçÂ∫îÊï∞ÊçÆ");return}T.value=!0},b=()=>{T.value=!1},z=(v,r)=>{if(!v||!r)return"--";const g=r-v,S=Math.floor(g/1e3),R=Math.floor(S/60),ye=Math.floor(R/60),Ce=Math.floor(ye/24);return Ce>0?`${Ce}Â§©${ye%24}Â∞èÊó∂`:ye>0?`${ye}Â∞èÊó∂${R%60}ÂàÜÈíü`:R>0?`${R}ÂàÜÈíü${S%60}Áßí`:`${S}Áßí`},$=()=>{if(et.value.length===0){V.warning("ÊöÇÊó†Êï∞ÊçÆÂèØÂØºÂá∫");return}try{let v=`ËÆæÂ§áSN,Ê®°Âùó,ÁªìÊûú,Êñá‰ª∂Êï∞Èáè,ÊÄªÂ§ßÂ∞è,Êó∂Èó¥ËåÉÂõ¥
`;et.value.forEach(R=>{v+=`"${R.device_sn}","${R.module}","${R.result===0?"ÊàêÂäü":"Â§±Ë¥•"}","${R.file_count}","${D(R.total_size)}","${R.time_range}"
`,R.file_list.forEach(ye=>{v+=`  ,"Êñá‰ª∂","","","","ÂêØÂä®Á¥¢Âºï:${ye.boot_index},ÂºÄÂßã:${he(ye.start_time)},ÁªìÊùü:${he(ye.end_time)},Â§ßÂ∞è:${D(ye.size)}"
`})});const r=new Blob([v],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a"),S=URL.createObjectURL(r);g.setAttribute("href",S),g.setAttribute("download",`Êñá‰ª∂ÂàóË°®_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.csv`),g.style.visibility="hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g),V.success("CSVÊñá‰ª∂Â∑≤ÂØºÂá∫")}catch(v){V.error("ÂØºÂá∫Â§±Ë¥•Ôºö"+v.message)}},N=Ke(()=>{if(!k.replyPayload)return[];try{const v=typeof k.replyPayload=="string"?JSON.parse(k.replyPayload):k.replyPayload;return v&&v.result===0&&v.data&&Array.isArray(v.data)?v.data.map((r,g)=>{const S=(r==null?void 0:r.name)||(r==null?void 0:r.file_name)||"Êú™Áü•Êñá‰ª∂";return{index:g+1,name:S,size:(r==null?void 0:r.size)||(r==null?void 0:r.file_size)||0,type:le(S),module:(r==null?void 0:r.module)||(r==null?void 0:r.module_id)||"--",timestamp:(r==null?void 0:r.timestamp)||(r==null?void 0:r.create_time)||Date.now()}}):v&&v.files&&Array.isArray(v.files)?v.files.map((r,g)=>{const S=(r==null?void 0:r.name)||(r==null?void 0:r.file_name)||"Êú™Áü•Êñá‰ª∂";return{index:g+1,name:S,size:(r==null?void 0:r.size)||(r==null?void 0:r.file_size)||0,type:le(S),module:(r==null?void 0:r.module)||(r==null?void 0:r.module_id)||"--",timestamp:(r==null?void 0:r.timestamp)||(r==null?void 0:r.create_time)||Date.now()}}):[]}catch(v){return console.error("Ëß£ÊûêÂìçÂ∫îÊï∞ÊçÆÂ§±Ë¥•:",v),[]}}),le=v=>{var S;if(!v||typeof v!="string")return"Êú™Áü•";const r=(S=v.split(".").pop())==null?void 0:S.toLowerCase();return r&&{log:"Êó•Âøó",txt:"ÊñáÊú¨",json:"JSON",xml:"XML",csv:"CSV",zip:"ÂéãÁº©ÂåÖ",tar:"ÂéãÁº©ÂåÖ",gz:"ÂéãÁº©ÂåÖ",jpg:"ÂõæÁâá",jpeg:"ÂõæÁâá",png:"ÂõæÁâá",gif:"ÂõæÁâá",mp4:"ËßÜÈ¢ë",avi:"ËßÜÈ¢ë",mov:"ËßÜÈ¢ë"}[r]||"Êñá‰ª∂"},f={0:"È£ûÊú∫Á±ª",1:"Ë¥üËΩΩÁ±ª",2:"ÈÅ•ÊéßÂô®Á±ª",3:"Êú∫Âú∫Á±ª"},l=v=>f[v]||`Ê®°Âùó${v}`,w=v=>({Êó•Âøó:"warning",ÊñáÊú¨:"info",JSON:"success",XML:"primary",CSV:"success",ÂéãÁº©ÂåÖ:"danger",ÂõæÁâá:"success",ËßÜÈ¢ë:"primary",Êñá‰ª∂:"info"})[v]||"info",D=v=>{if(!v||v===0)return"0 B";const r=["B","KB","MB","GB","TB"];let g=v,S=0;for(;g>=1024&&S<r.length-1;)g/=1024,S++;return`${g.toFixed(2)} ${r[S]}`},oe=v=>!v||v===0?"0 B/s":D(v)+"/s",B=v=>v?new Date(v).toLocaleString():"--",Ie=v=>v?v.status==="ok"||v.status==="completed"?"success":v.status==="error"||v.status==="failed"?"exception":(v.status==="file_zip"||v.status==="uploading",""):"exception",K=v=>v==="ok"?"success":v==="error"?"danger":v==="file_zip"?"warning":v==="uploading"?"primary":v==="completed"?"success":v==="failed"?"danger":"info",he=v=>v?new Date(v*1e3).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--",Ye=v=>{try{return JSON.stringify(typeof v=="string"?JSON.parse(v):v,null,2)}catch{return String(v)}};return(v,r)=>(y(),h("div",hu,[e("div",wu,[t(d(ns),{shadow:"never"},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:q},[e("div",zu,[t(d(ps),{style:es({transform:me.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),r[9]||(r[9]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"1. Ëé∑ÂèñËÆæÂ§áÂèØ‰∏ä‰º†ÁöÑÊñá‰ª∂ÂàóË°®",-1)),me.value?L("",!0):(y(),Xt(d(Ns),{key:0,content:"ÁÇπÂáªÂ±ïÂºÄÈÖçÁΩÆÂå∫ÂüüÔºåÁºñËæëËØ∑Ê±ÇÂèÇÊï∞",placement:"top"},{default:s(()=>[t(d(ke),{size:"small",type:"info",style:{cursor:"help"}},{default:s(()=>[...r[8]||(r[8]=[i("ÈÖçÁΩÆÂèÇÊï∞",-1)])]),_:1})]),_:1}))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",$u,[r[10]||(r[10]=e("div",{style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ËØ∑Ê±ÇÂèÇÊï∞ (JSONÊ†ºÂºè) - Ê®°ÂùóID: 0=È£ûÊú∫Á±ª, 1=Ë¥üËΩΩÁ±ª, 2=ÈÅ•ÊéßÂô®Á±ª, 3=Êú∫Âú∫Á±ª ",-1)),t(d(Hs),{modelValue:Pe.value,"onUpdate:modelValue":r[0]||(r[0]=g=>Pe.value=g),type:"textarea",rows:8,placeholder:`ËØ∑ËæìÂÖ•JSONÊ†ºÂºèÁöÑËØ∑Ê±ÇÂèÇÊï∞Ôºå‰æãÂ¶ÇÔºö
{
  "method": "fileupload_list",
  "module_list": ["0", "3"],
  "extra_params": {}
}`,style:{"font-family":"monospace","font-size":"12px"}},null,8,["modelValue"])]),e("div",ku,[t(d(St),{type:"primary",loading:F.sending,onClick:_},{default:s(()=>[...r[11]||(r[11]=[i(" ÂèëÈÄÅËØ∑Ê±Ç ",-1)])]),_:1},8,["loading"]),t(d(St),{onClick:x},{default:s(()=>[...r[12]||(r[12]=[i("ÈáçÁΩÆ",-1)])]),_:1}),t(d(St),{onClick:r[1]||(r[1]=g=>O("fileupload_list"))},{default:s(()=>[...r[13]||(r[13]=[i("Êñá‰ª∂ÂàóË°®",-1)])]),_:1})])],512),[[us,!me.value]])]),_:1})]),_:1}),t(d(ns),{shadow:"never",style:{"margin-top":"10px"}},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:Ue},[e("div",Su,[t(d(ps),{style:es({transform:n.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),r[15]||(r[15]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"2. ÂèëËµ∑Êó•ÂøóÊñá‰ª∂‰∏ä‰º†",-1)),n.value?L("",!0):(y(),Xt(d(Ns),{key:0,content:"ÁÇπÂáªÂ±ïÂºÄÈÖçÁΩÆÂå∫ÂüüÔºåÁºñËæë‰∏ä‰º†ÂèÇÊï∞",placement:"top"},{default:s(()=>[t(d(ke),{size:"small",type:"info",style:{cursor:"help"}},{default:s(()=>[...r[14]||(r[14]=[i("ÈÖçÁΩÆÂèÇÊï∞",-1)])]),_:1})]),_:1}))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",Tu,[e("div",Mu,[r[16]||(r[16]=e("span",null,"‰∏ä‰º†ÂèÇÊï∞ (JSONÊ†ºÂºè)",-1)),t(d(St),{size:"small",type:"primary",text:"",onClick:it,style:{padding:"0","font-size":"12px",color:"var(--el-color-primary)"}},{default:s(()=>[i(o(m.value?"ÈöêËóè":"ÊòæÁ§∫")+"Â≠óÊÆµËØ¥Êòé ",1)]),_:1})]),t(d(rs),null,{default:s(()=>[ds(e("div",Du,[...r[17]||(r[17]=[e("div",{style:{color:"var(--el-text-color-regular)","font-size":"12px","line-height":"1.6"}},[e("div",null,[e("strong",null,"Â≠óÊÆµËØ¥ÊòéÔºö")]),e("div",null,[e("strong",null,"bucket:"),i(" ÂØπË±°Â≠òÂÇ®Ê°∂ÂêçÁß∞ (text)")]),e("div",null,[e("strong",null,"region:"),i(" Êï∞ÊçÆ‰∏≠ÂøÉÊâÄÂú®ÁöÑÂú∞Âüü (text)")]),e("div",null,[e("strong",null,"credentials:"),i(" Âá≠ËØÅ‰ø°ÊÅØ (struct)")]),e("div",{style:{"margin-left":"20px"}},"‚Ä¢ access_key_id: ËÆøÈóÆÂØÜÈí•ID (text)"),e("div",{style:{"margin-left":"20px"}},"‚Ä¢ access_key_secret: ÁßòÂØÜËÆøÈóÆÂØÜÈí• (text)"),e("div",{style:{"margin-left":"20px"}},"‚Ä¢ expire: ËÆøÈóÆÂØÜÈí•ËøáÊúüÊó∂Èó¥ (int, Áßí)"),e("div",{style:{"margin-left":"20px"}},"‚Ä¢ security_token: ‰ºöËØùÂá≠ËØÅ (text)"),e("div",null,[e("strong",null,"endpoint:"),i(" ÂØπÂ§ñÊúçÂä°ÁöÑËÆøÈóÆÂüüÂêç (text)")]),e("div",null,[e("strong",null,"provider:"),i(" ‰∫ëÂéÇÂïÜÊûö‰∏æÂÄº (ali=ÈòøÈáå‰∫ë, aws=‰∫öÈ©¨ÈÄä‰∫ë, minio=minio)")]),e("div",null,[e("strong",null,"params:"),i(" ÂèÇÊï∞ÁªìÊûÑ (struct)")]),e("div",{style:{"margin-left":"20px"}},[e("strong",null,"files:"),i(" Êñá‰ª∂ÂàóË°® (array)")]),e("div",{style:{"margin-left":"40px"}},"‚Ä¢ object_key: Êñá‰ª∂Âú®ÂØπË±°Â≠òÂÇ®Ê°∂ÁöÑKey (text)"),e("div",{style:{"margin-left":"40px"}},"‚Ä¢ module: Êó•ÂøóÊâÄÂ±ûÊ®°Âùó (text)"),e("div",{style:{"margin-left":"40px"}},"‚Ä¢ list: Êó•ÂøóÂàóË°® (array)"),e("div",{style:{"margin-left":"60px"}},"‚Ä¢ boot_index: Êó•ÂøóÁ¥¢Âºï (int)")],-1)])],512),[[us,m.value]])]),_:1}),t(d(Hs),{modelValue:de.value,"onUpdate:modelValue":r[2]||(r[2]=g=>de.value=g),type:"textarea",rows:12,placeholder:`ËØ∑ËæìÂÖ•JSONÊ†ºÂºèÁöÑ‰∏ä‰º†ÂèÇÊï∞ÔºåÁÇπÂáª‰∏äÊñπ"ÊòæÁ§∫Â≠óÊÆµËØ¥Êòé"Êü•ÁúãËØ¶ÁªÜÂèÇÊï∞ËØ¥Êòé

Á§∫‰æãÔºö
{
  "bucket": "your-bucket-name",
  "region": "cn-hangzhou", 
  "credentials": {
    "access_key_id": "your-access-key",
    "access_key_secret": "your-secret-key",
    "expire": 3600,
    "security_token": "your-token"
  },
  "endpoint": "https://oss-cn-hangzhou.aliyuncs.com",
  "provider": "ali",
  "params": {
    "files": [
      {
        "object_key": "logs/device_sn_001/",
        "module": "0",
        "list": [
          {
            "boot_index": 12345
          }
        ]
      }
    ]
  }
}`,style:{"font-family":"monospace","font-size":"12px"}},null,8,["modelValue"])]),e("div",Cu,[t(d(St),{type:"primary",loading:Oe.value,onClick:A},{default:s(()=>[...r[18]||(r[18]=[i(" ÂèëËµ∑‰∏ä‰º† ",-1)])]),_:1},8,["loading"]),t(d(St),{onClick:p},{default:s(()=>[...r[19]||(r[19]=[i("ÈáçÁΩÆ",-1)])]),_:1}),t(d(St),{onClick:r[3]||(r[3]=g=>C("basic"))},{default:s(()=>[...r[20]||(r[20]=[i("Âü∫Á°ÄÈÖçÁΩÆ",-1)])]),_:1}),t(d(St),{onClick:r[4]||(r[4]=g=>C("minio"))},{default:s(()=>[...r[21]||(r[21]=[i("MinIOÈÖçÁΩÆ",-1)])]),_:1})])],512),[[us,!n.value]])]),_:1})]),_:1}),t(d(rs),null,{default:s(()=>[ds(t(d(Us),{gutter:10},{default:s(()=>[t(d(Ds),{span:12},{default:s(()=>[t(d(ns),{shadow:"never"},{header:s(()=>[e("div",Ou,[r[22]||(r[22]=e("span",null,"Êñá‰ª∂ÂàóË°®ËØ∑Ê±ÇÔºàdownÔºâ",-1)),t(d(ke),{size:"small",type:"info"},{default:s(()=>[i(o(F.requestTopic||"topic Êú™ÁîüÊàê"),1)]),_:1})])]),default:s(()=>[F.requestPayload?(y(),h("pre",Pu,o(Ye(F.requestPayload)),1)):(y(),h("div",Nu,"Â∞öÊú™ÂèëÈÄÅËØ∑Ê±Ç"))]),_:1})]),_:1}),t(d(Ds),{span:12},{default:s(()=>[F.replyPayload?(y(),Xt(d(ns),{key:0,shadow:"never"},{header:s(()=>[e("div",Hu,[r[23]||(r[23]=e("span",null,"Êñá‰ª∂ÂàóË°®ÂìçÂ∫îÔºàupÔºâ",-1)),t(d(ke),{size:"small",type:"success"},{default:s(()=>[i(o(F.replyTopic||"ÂìçÂ∫î‰∏ªÈ¢ò"),1)]),_:1})])]),default:s(()=>[N.value.length>0?(y(),h("div",Ru,[e("div",ju," Êñá‰ª∂ÂàóË°® ("+o(N.value.length)+" ‰∏™Êñá‰ª∂) ",1),t(d(ys),{data:N.value,size:"small",height:"300",border:"",stripe:"",style:{"margin-bottom":"15px"}},{default:s(()=>[t(d(re),{prop:"index",label:"Â∫èÂè∑",width:"60"}),t(d(re),{prop:"name",label:"Êñá‰ª∂Âêç","min-width":"200"}),t(d(re),{prop:"size",label:"Êñá‰ª∂Â§ßÂ∞è",width:"120"},{default:s(g=>[i(o(D(g.row.size)),1)]),_:1}),t(d(re),{prop:"type",label:"Êñá‰ª∂Á±ªÂûã",width:"100"},{default:s(g=>[t(d(ke),{type:w(g.row.type||"Êú™Áü•"),size:"small"},{default:s(()=>[i(o(g.row.type||"Êú™Áü•"),1)]),_:2},1032,["type"])]),_:1}),t(d(re),{prop:"module",label:"Ê®°Âùó",width:"100"},{default:s(g=>[t(d(ke),{size:"small",type:"info",title:`Ê®°ÂùóID: ${g.row.module||"--"}`},{default:s(()=>[i(o(l(g.row.module)),1)]),_:2},1032,["title"])]),_:1}),t(d(re),{prop:"timestamp",label:"Êó∂Èó¥Êà≥",width:"120"},{default:s(g=>[i(o(he(g.row.timestamp)),1)]),_:1})]),_:1},8,["data"])])):L("",!0),e("div",Au,[r[25]||(r[25]=e("span",{style:{color:"var(--el-text-color-regular)","font-size":"13px"}},"ÂéüÂßãÂìçÂ∫îÊï∞ÊçÆ",-1)),t(d(St),{size:"small",type:"primary",onClick:c},{default:s(()=>[...r[24]||(r[24]=[i(" Êü•ÁúãËØ¶ÁªÜË°®Ê†º ",-1)])]),_:1})]),e("pre",Lu,o(Ye(F.replyPayload)),1)]),_:1})):(y(),Xt(d(ns),{key:1,shadow:"never"},{header:s(()=>[e("div",Vu,[r[26]||(r[26]=e("span",null,"Êñá‰ª∂ÂàóË°®ÂìçÂ∫îÔºàupÔºâ",-1)),t(d(ke),{size:"small",type:F.sending?"warning":"info"},{default:s(()=>[i(o(F.sending?"Á≠âÂæÖÂìçÂ∫î‚Ä¶":"Êú™Êî∂Âà∞ÂìçÂ∫î"),1)]),_:1},8,["type"])])]),default:s(()=>[e("div",Uu,o(F.sending?"Ê≠£Âú®Á≠âÂæÖÊúçÂä°Âô®ÂìçÂ∫î‚Ä¶":"ËØ∑ÂÖàÂèëÈÄÅËØ∑Ê±ÇËé∑ÂèñÊñá‰ª∂ÂàóË°®"),1)]),_:1}))]),_:1})]),_:1},512),[[us,!me.value]])]),_:1}),t(d(rs),null,{default:s(()=>[ds(t(d(Us),{gutter:10,style:{"margin-top":"10px"}},{default:s(()=>[t(d(Ds),{span:12},{default:s(()=>[t(d(ns),{shadow:"never"},{header:s(()=>[e("div",Fu,[r[27]||(r[27]=e("span",null,"‰∏ä‰º†ËØ∑Ê±ÇÔºàdownÔºâ",-1)),t(d(ke),{size:"small",type:"info"},{default:s(()=>[i(o(F.uploadRequestTopic||"topic Êú™ÁîüÊàê"),1)]),_:1})])]),default:s(()=>[F.uploadRequestPayload?(y(),h("pre",Iu,o(Ye(F.uploadRequestPayload)),1)):(y(),h("div",Ju,"Â∞öÊú™ÂèëÈÄÅ‰∏ä‰º†ËØ∑Ê±Ç"))]),_:1})]),_:1}),t(d(Ds),{span:12},{default:s(()=>[F.uploadReplyPayload?(y(),Xt(d(ns),{key:0,shadow:"never"},{header:s(()=>[e("div",Eu,[r[28]||(r[28]=e("span",null,"‰∏ä‰º†ÂìçÂ∫îÔºàupÔºâ",-1)),t(d(ke),{size:"small",type:"success"},{default:s(()=>[i(o(F.uploadReplyTopic||"ÂìçÂ∫î‰∏ªÈ¢ò"),1)]),_:1})])]),default:s(()=>[We.value.length>0?(y(),h("div",qu,[r[29]||(r[29]=e("div",{style:{"margin-bottom":"10px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ‰∏ä‰º†ÊâßË°åÁªìÊûú ",-1)),t(d(ys),{data:We.value,size:"small",height:"200",border:"",stripe:"",style:{"margin-bottom":"15px"}},{default:s(()=>[t(d(re),{prop:"result",label:"ËøîÂõûÁ†Å",width:"80"},{default:s(g=>[t(d(ke),{type:g.row.result===0?"success":"danger",size:"small"},{default:s(()=>[i(o(g.row.result),1)]),_:2},1032,["type"])]),_:1}),t(d(re),{prop:"result_text",label:"ÊâßË°åÁä∂ÊÄÅ",width:"100"},{default:s(g=>[t(d(ke),{type:g.row.result===0?"success":"danger",size:"small"},{default:s(()=>[i(o(g.row.result_text),1)]),_:2},1032,["type"])]),_:1}),t(d(re),{prop:"bid",label:"‰∏öÂä°ID",width:"200"},{default:s(g=>[e("span",Bu,o(g.row.bid),1)]),_:1}),t(d(re),{prop:"tid",label:"‰∫ãÂä°ID",width:"200"},{default:s(g=>[e("span",Qu,o(g.row.tid),1)]),_:1}),t(d(re),{prop:"timestamp",label:"ÂìçÂ∫îÊó∂Èó¥",width:"180"},{default:s(g=>[i(o(he(g.row.timestamp)),1)]),_:1}),t(d(re),{prop:"method",label:"ÊñπÊ≥ï",width:"120"},{default:s(g=>[t(d(ke),{size:"small",type:"info"},{default:s(()=>[i(o(g.row.method),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])])):L("",!0),r[30]||(r[30]=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},[e("span",{style:{color:"var(--el-text-color-regular)","font-size":"13px"}},"ÂéüÂßãÂìçÂ∫îÊï∞ÊçÆ")],-1)),e("pre",Gu,o(Ye(F.uploadReplyPayload)),1)]),_:1})):(y(),Xt(d(ns),{key:1,shadow:"never"},{header:s(()=>[e("div",Zu,[r[31]||(r[31]=e("span",null,"‰∏ä‰º†ÂìçÂ∫îÔºàupÔºâ",-1)),t(d(ke),{size:"small",type:Oe.value?"warning":"info"},{default:s(()=>[i(o(Oe.value?"Á≠âÂæÖÂìçÂ∫î‚Ä¶":"Êú™Êî∂Âà∞ÂìçÂ∫î"),1)]),_:1},8,["type"])])]),default:s(()=>[e("div",Ku,o(Oe.value?"Ê≠£Âú®Á≠âÂæÖËÆæÂ§áÂìçÂ∫î‚Ä¶":"ËØ∑ÂÖàÂèëÈÄÅ‰∏ä‰º†ËØ∑Ê±Ç"),1)]),_:1}))]),_:1})]),_:1},512),[[us,!n.value]])]),_:1}),t(d(Xs),{modelValue:T.value,"onUpdate:modelValue":r[6]||(r[6]=g=>T.value=g),title:"ÂìçÂ∫îÊï∞ÊçÆËØ¶ÁªÜË°®Ê†º",width:"80%","before-close":b},{footer:s(()=>[t(d(St),{onClick:r[5]||(r[5]=g=>T.value=!1)},{default:s(()=>[...r[32]||(r[32]=[i("ÂÖ≥Èó≠",-1)])]),_:1}),t(d(St),{type:"primary",onClick:$},{default:s(()=>[...r[33]||(r[33]=[i("ÂØºÂá∫CSV",-1)])]),_:1})]),default:s(()=>[et.value.length>0?(y(),h("div",Wu,[e("div",Yu," ÂÖ±ÊâæÂà∞ "+o(et.value.length)+" ‰∏™ËÆæÂ§áÁöÑÊï∞ÊçÆ ",1),t(d(ys),{data:et.value,size:"small",height:"500",border:"",stripe:""},{default:s(()=>[t(d(re),{prop:"device_sn",label:"ËÆæÂ§áSN",width:"180"}),t(d(re),{prop:"module",label:"Ê®°Âùó",width:"100"},{default:s(g=>[t(d(ke),{size:"small",type:"info",title:`Ê®°ÂùóID: ${g.row.module}`},{default:s(()=>[i(o(l(g.row.module)),1)]),_:2},1032,["title"])]),_:1}),t(d(re),{prop:"result",label:"ÁªìÊûú",width:"80"},{default:s(g=>[t(d(ke),{type:g.row.result===0?"success":"danger",size:"small"},{default:s(()=>[i(o(g.row.result===0?"ÊàêÂäü":"Â§±Ë¥•"),1)]),_:2},1032,["type"])]),_:1}),t(d(re),{prop:"file_count",label:"Êñá‰ª∂Êï∞Èáè",width:"100"}),t(d(re),{prop:"total_size",label:"ÊÄªÂ§ßÂ∞è",width:"120"},{default:s(g=>[i(o(D(g.row.total_size)),1)]),_:1}),t(d(re),{prop:"time_range",label:"Êó∂Èó¥ËåÉÂõ¥","min-width":"200"},{default:s(g=>[i(o(g.row.time_range),1)]),_:1})]),_:1},8,["data"]),t(d(Ws),{style:{"margin-top":"20px"}},{default:s(()=>[(y(!0),h(gs,null,ms(et.value,(g,S)=>(y(),Xt(d(Ys),{key:S,title:`ËÆæÂ§á ${g.device_sn} (${l(g.module)}) - ${g.file_count} ‰∏™Êñá‰ª∂`,name:S},{default:s(()=>[t(d(ys),{data:g.file_list,size:"small",border:"",stripe:""},{default:s(()=>[t(d(re),{prop:"boot_index",label:"ÂêØÂä®Á¥¢Âºï",width:"120"}),t(d(re),{prop:"start_time",label:"ÂºÄÂßãÊó∂Èó¥",width:"180"},{default:s(R=>[i(o(he(R.row.start_time)),1)]),_:1}),t(d(re),{prop:"end_time",label:"ÁªìÊùüÊó∂Èó¥",width:"180"},{default:s(R=>[i(o(he(R.row.end_time)),1)]),_:1}),t(d(re),{prop:"size",label:"Êñá‰ª∂Â§ßÂ∞è",width:"120"},{default:s(R=>[i(o(D(R.row.size)),1)]),_:1}),t(d(re),{prop:"duration",label:"ÊåÅÁª≠Êó∂Èó¥",width:"120"},{default:s(R=>[i(o(z(R.row.start_time,R.row.end_time)),1)]),_:1})]),_:1},8,["data"])]),_:2},1032,["title","name"]))),128))]),_:1})])):(y(),h("div",Xu," ÊöÇÊó†Êï∞ÊçÆÊàñÊï∞ÊçÆÊ†ºÂºè‰∏çÊ≠£Á°Æ "))]),_:1},8,["modelValue"]),t(d(ns),{style:{"margin-top":"15px"}},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:Ot},[e("div",ep,[t(d(ps),{style:es({transform:Z.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),r[35]||(r[35]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"3. ‰∏ä‰º†Áä∂ÊÄÅÊõ¥Êñ∞",-1)),Z.value?L("",!0):(y(),Xt(d(Ns),{key:0,content:"ÁÇπÂáªÂ±ïÂºÄÈÖçÁΩÆÂå∫ÂüüÔºåÁºñËæëÁä∂ÊÄÅÊõ¥Êñ∞ÂèÇÊï∞",placement:"top"},{default:s(()=>[t(d(ke),{size:"small",type:"info",style:{cursor:"help"}},{default:s(()=>[...r[34]||(r[34]=[i("ÈÖçÁΩÆÂèÇÊï∞",-1)])]),_:1})]),_:1}))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",tp,[e("div",sp,[r[36]||(r[36]=e("span",null,"Áä∂ÊÄÅÊõ¥Êñ∞ÂèÇÊï∞ (JSONÊ†ºÂºè)",-1)),t(d(St),{size:"small",type:"primary",text:"",onClick:Fe,style:{padding:"0","font-size":"12px",color:"var(--el-color-primary)"}},{default:s(()=>[i(o(fe.value?"ÈöêËóè":"ÊòæÁ§∫")+"Â≠óÊÆµËØ¥Êòé ",1)]),_:1})]),t(d(rs),null,{default:s(()=>[ds(e("div",op,[...r[37]||(r[37]=[e("div",{style:{color:"var(--el-text-color-regular)","font-size":"12px","line-height":"1.6"}},[e("div",null,[e("strong",null,"Â≠óÊÆµËØ¥ÊòéÔºö")]),e("div",null,[e("strong",null,"status:"),i(' ‰∏ä‰º†Áä∂ÊÄÅ (enum_string) - "cancel": ÂèñÊ∂à')]),e("div",null,[e("strong",null,"module_list:"),i(" Êó•ÂøóÊâÄÂ±ûÊ®°ÂùóÂàóË°® (array) - Ê®°ÂùóIDÊï∞ÁªÑ")])],-1)])],512),[[us,fe.value]])]),_:1}),t(d(Hs),{modelValue:ue.value,"onUpdate:modelValue":r[7]||(r[7]=g=>ue.value=g),type:"textarea",rows:8,placeholder:`ËØ∑ËæìÂÖ•JSONÊ†ºÂºèÁöÑÁä∂ÊÄÅÊõ¥Êñ∞ÂèÇÊï∞

Á§∫‰æãÔºö
{
  "status": "cancel",
  "module_list": ["0", "3"]
}`,style:{"font-family":"monospace","font-size":"12px"}},null,8,["modelValue"])]),e("div",ap,[t(d(St),{type:"primary",loading:nt.value,onClick:se},{default:s(()=>[...r[38]||(r[38]=[i(" ÂèëÈÄÅÁä∂ÊÄÅÊõ¥Êñ∞ ",-1)])]),_:1},8,["loading"]),t(d(St),{onClick:Le},{default:s(()=>[...r[39]||(r[39]=[i(" ÈáçÁΩÆ ",-1)])]),_:1}),t(d(St),{onClick:ut},{default:s(()=>[...r[40]||(r[40]=[i(" Âä†ËΩΩÈ¢ÑËÆæ ",-1)])]),_:1})])],512),[[us,!Z.value]])]),_:1})]),_:1}),t(d(ns),{style:{"margin-top":"15px"}},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:Wt},[e("div",lp,[t(d(ps),{style:es({transform:be.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),r[45]||(r[45]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"4. Êñá‰ª∂‰∏ä‰º†ËøõÂ∫¶ÈÄöÁü•",-1)),be.value?L("",!0):(y(),h("div",np,[t(d(ke),{size:"small",type:"success"},{default:s(()=>[...r[41]||(r[41]=[i("ÂÆûÊó∂ÁõëÊéß",-1)])]),_:1}),t(d(ke),{size:"small",type:"info"},{default:s(()=>[...r[42]||(r[42]=[i("Topic: thing/product/{gateway_sn}/events",-1)])]),_:1}),t(d(ke),{size:"small",type:"warning"},{default:s(()=>[...r[43]||(r[43]=[i("Direction: up",-1)])]),_:1}),t(d(ke),{size:"small",type:"primary"},{default:s(()=>[...r[44]||(r[44]=[i("Method: fileupload_progress",-1)])]),_:1})]))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",ip,[e("div",rp,[r[47]||(r[47]=e("div",{style:{"margin-bottom":"8px"}},[e("strong",null,"ÊñπÊ≥ïËØ¥ÊòéÔºö")],-1)),r[48]||(r[48]=e("div",null,[e("strong",null,"Topic:"),i(" thing/product/{gateway_sn}/events")],-1)),r[49]||(r[49]=e("div",null,[e("strong",null,"Direction:"),i(" up (ËÆæÂ§áÁ´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅ)")],-1)),r[50]||(r[50]=e("div",null,[e("strong",null,"Method:"),i(" fileupload_progress")],-1)),r[51]||(r[51]=e("div",{style:{"margin-top":"8px",color:"var(--el-text-color-placeholder)","font-size":"12px"}}," ËØ∑ÊâãÂä®ËÆ¢ÈòÖÊ≠§TopicÊù•Êé•Êî∂ÂÆûÊó∂ÁöÑÊñá‰ª∂‰∏ä‰º†ËøõÂ∫¶ÈÄöÁü• ",-1)),e("div",dp,[t(d(St),{type:"success",onClick:ts,loading:lt.value,size:"small"},{default:s(()=>[t(d(ps),null,{default:s(()=>[t(d(Ps))]),_:1}),r[46]||(r[46]=i(" ÊâãÂä®ËÆ¢ÈòÖËøõÂ∫¶ÈÄöÁü• ",-1))]),_:1},8,["loading"])])])]),Mt.value.length>0?(y(),h("div",up,[t(d(ys),{data:Mt.value,style:{width:"100%"},size:"small"},{default:s(()=>[t(d(re),{prop:"device_sn",label:"ËÆæÂ§áSN",width:"120"}),t(d(re),{prop:"module",label:"Ê®°Âùó",width:"80"},{default:s(g=>[i(o(l(g.row.module)),1)]),_:1}),t(d(re),{prop:"key",label:"Â≠òÂÇ®Key","show-overflow-tooltip":""}),t(d(re),{prop:"size",label:"Êñá‰ª∂Â§ßÂ∞è",width:"100"},{default:s(g=>[i(o(D(g.row.size)),1)]),_:1}),t(d(re),{prop:"progress.progress",label:"ËøõÂ∫¶",width:"120"},{default:s(g=>{var S,R;return[e("div",pp,[t(d(eo),{percentage:((S=g.row.progress)==null?void 0:S.progress)||0,status:Ie(g.row.progress),"stroke-width":6,style:{flex:"1"}},null,8,["percentage","status"]),e("span",cp,o(((R=g.row.progress)==null?void 0:R.progress)||0)+"% ",1)])]}),_:1}),t(d(re),{prop:"progress.status",label:"Áä∂ÊÄÅ",width:"80"},{default:s(g=>{var S;return[t(d(ke),{type:K((S=g.row.progress)==null?void 0:S.status),size:"small"},{default:s(()=>{var R;return[i(o(((R=g.row.progress)==null?void 0:R.status)||"Êú™Áü•"),1)]}),_:2},1032,["type"])]}),_:1}),t(d(re),{prop:"progress.upload_rate",label:"‰∏ä‰º†ÈÄüÁéá",width:"100"},{default:s(g=>{var S;return[i(o(oe((S=g.row.progress)==null?void 0:S.upload_rate)),1)]}),_:1}),t(d(re),{prop:"progress.finish_time",label:"ÂÆåÊàêÊó∂Èó¥",width:"120"},{default:s(g=>{var S;return[i(o(B((S=g.row.progress)==null?void 0:S.finish_time)),1)]}),_:1}),t(d(re),{prop:"progress.current_step",label:"Ê≠•È™§",width:"100"},{default:s(g=>{var S,R;return[e("div",vp,o(((S=g.row.progress)==null?void 0:S.current_step)||0)+"/"+o(((R=g.row.progress)==null?void 0:R.total_step)||0),1)]}),_:1}),t(d(re),{prop:"result",label:"ËøîÂõûÁ†Å",width:"120"},{default:s(g=>[g.row.result!==null&&g.row.result!==void 0?(y(),h("div",gp,[t(d(ke),{type:g.row.result===0?"success":"danger",size:"small"},{default:s(()=>[i(o(g.row.result),1)]),_:2},1032,["type"]),g.row.result!==0?(y(),h("div",mp," ‰∏ä‰º†Â§±Ë¥• ")):L("",!0)])):(y(),h("div",fp," -- "))]),_:1})]),_:1},8,["data"])])):(y(),h("div",yp,[e("div",_p,[t(d(ps),{size:"48",color:"var(--el-color-info)"},{default:s(()=>[t(d(Qs))]),_:1})]),r[52]||(r[52]=e("div",{style:{"font-size":"14px","margin-bottom":"8px"}},"ÊöÇÊó†‰∏ä‰º†ËøõÂ∫¶Êï∞ÊçÆ",-1)),r[53]||(r[53]=e("div",{style:{"font-size":"12px",color:"var(--el-text-color-placeholder)"}}," ËØ∑ÂÖàÂèëËµ∑Êñá‰ª∂‰∏ä‰º†ÔºåÁ≥ªÁªüÂ∞ÜËá™Âä®Êé•Êî∂ËøõÂ∫¶ÈÄöÁü• ",-1))])),F.allEventsMessages.length>0?(y(),h("div",xp,[r[57]||(r[57]=e("div",{style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ÊúÄÊñ∞Êñá‰ª∂‰∏ä‰º†ËøõÂ∫¶Ê∂àÊÅØÔºö ",-1)),(y(!0),h(gs,null,ms(F.allEventsMessages,(g,S)=>(y(),h("div",{key:S,style:{"margin-bottom":"10px",padding:"8px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},[e("div",bp,[r[54]||(r[54]=e("strong",null,"ÊñπÊ≥ï:",-1)),i(" "+o(g.method||"Êú™Áü•")+" | ",1),r[55]||(r[55]=e("strong",null,"Êó∂Èó¥:",-1)),i(" "+o(B(g.timestamp))+" | ",1),r[56]||(r[56]=e("strong",null,"ÁΩëÂÖ≥:",-1)),i(" "+o(g.gateway||"Êú™Áü•"),1)]),e("pre",hp,o(Ye(g)),1)]))),128))])):L("",!0),e("div",wp,[r[58]||(r[58]=e("div",{style:{"font-size":"12px",color:"var(--el-text-color-regular)","margin-bottom":"8px"}},[e("strong",null,"Ë∞ÉËØï‰ø°ÊÅØÔºö")],-1)),e("div",zp,[e("div",null,"progressPayload: "+o(F.progressPayload?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"ÊúÄÊñ∞ËøõÂ∫¶Ê∂àÊÅØ: "+o(F.allEventsMessages.length)+"Êù°",1),e("div",null,"progressData: "+o(Mt.value.length)+"Êù°",1),F.progressPayload?(y(),h("div",$p,"progressPayloadÁ±ªÂûã: "+o(typeof F.progressPayload),1)):L("",!0)])]),!F.progressPayload&&F.allEventsMessages.length===0?(y(),h("div",kp," Á≠âÂæÖÊé•Êî∂events‰∏ªÈ¢òÊ∂àÊÅØ... ")):L("",!0)],512),[[us,!be.value]])]),_:1})]),_:1})])]))}},Tp=_s(Sp,[["__scopeId","data-v-a2b463a0"]]);const Mp={class:"remote-upgrade-container"},Dp={class:"card-header"},Cp={class:"firmware-info"},Op={class:"info-tip",style:{"margin-bottom":"15px",padding:"12px",background:"var(--el-color-info-light-9)","border-radius":"6px","border-left":"4px solid var(--el-color-info)"}},Pp={style:{display:"flex","align-items":"flex-start",gap:"8px",color:"var(--el-color-info)","font-size":"13px"}},Np={class:"info-section"},Hp={class:"info-item"},Rp={class:"value"},jp={class:"info-item",style:{background:"var(--el-color-warning-light-9)",padding:"8px","border-radius":"4px",border:"1px solid var(--el-color-warning-light-7)"}},Ap={class:"info-item"},Lp={class:"value"},Vp={class:"info-item"},Up={class:"value"},Fp={class:"info-section"},Ip={class:"info-item"},Jp={class:"value"},Ep={class:"info-item",style:{background:"var(--el-color-warning-light-9)",padding:"8px","border-radius":"4px",border:"1px solid var(--el-color-warning-light-7)"}},qp={class:"info-item"},Bp={class:"value"},Qp={class:"info-item"},Gp={class:"value"},Zp={class:"info-section"},Kp={class:"info-item"},Wp={class:"info-item"},Yp={class:"info-item"},Xp={class:"info-item"},e1={class:"value"},t1={class:"info-item",style:{"margin-top":"10px",padding:"8px",background:"var(--el-color-primary-light-9)","border-radius":"4px",border:"1px solid var(--el-color-primary-light-7)"}},s1={class:"value",style:{color:"var(--el-color-primary-dark-2)"}},o1={class:"card-header"},a1={class:"upgrade-actions"},l1={class:"card-header"},n1={class:"status-monitor"},i1={key:0,class:"status-info"},r1={class:"status-item"},d1={class:"status-item"},u1={class:"status-item"},p1={class:"value"},c1={key:0,class:"error-info",style:{"margin-top":"15px"}},v1={key:1,class:"no-status"},g1={class:"card-header"},m1={class:"upgrade-history"},f1={class:"debug-info",style:{"margin-top":"20px"}},y1={style:{padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px"}},_1={style:{"margin-bottom":"10px"}},x1={style:{"margin-bottom":"10px"}},b1={style:{"margin-bottom":"10px"}},h1={key:0,style:{"margin-top":"10px"}},w1={style:{background:"var(--el-bg-color)",padding:"10px","border-radius":"4px","font-size":"11px","max-height":"200px","overflow-y":"auto"}},z1={__name:"RemoteUpgradeTab",props:{deviceSn:{type:String,required:!0},osdData:{type:Object,default:null},upgradeStatus:{type:Object,default:null},upgradeStatusPayload:{type:Object,default:null}},emits:["subscribeUpgrade","startUpgrade","checkStatus"],setup(F,{emit:Tt}){const k=F,De=Tt,T=M(!1),me=M(!1),n=M([]),m=M({deviceType:"aircraft",type:"firmware",fileUrl:"",fileName:"",productVersion:"",fileSize:"",md5:"",firmwareUpgradeType:2}),Z=Ke(()=>{var A,p,C,se,Le;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.aircraft)==null?void 0:C.firmware_version)||((Le=(se=k.osdData)==null?void 0:se.data)==null?void 0:Le.firmware_version)||"--"}),fe=Ke(()=>{var A,p,C,se,Le;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.aircraft)==null?void 0:C.compatible_status)||((Le=(se=k.osdData)==null?void 0:se.data)==null?void 0:Le.compatible_status)||!1}),be=Ke(()=>{var A,p,C;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.sub_device)==null?void 0:C.device_model_key)||"--"}),Pe=Ke(()=>{var A,p,C;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.sub_device)==null?void 0:C.device_sn)||"--"}),de=Ke(()=>{var p,C,se;return((se=(C=(p=k.osdData)==null?void 0:p.data)==null?void 0:C.sub_device)==null?void 0:se.device_online_status)===1}),ue=Ke(()=>{var A,p,C;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.dock)==null?void 0:C.firmware_version)||"--"}),Oe=Ke(()=>{var A,p,C;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.dock)==null?void 0:C.compatible_status)||!1}),nt=Ke(()=>{var A,p,C;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.dock)==null?void 0:C.device_model_key)||"--"}),lt=Ke(()=>{var A,p,C;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.dock)==null?void 0:C.device_sn)||k.deviceSn||"--"}),We=Ke(()=>{var A,p,C;return((C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.dock)==null?void 0:C.device_online_status)||!0}),Ve=Ke(()=>{var p,C,se;return((se=(C=(p=k.osdData)==null?void 0:p.data)==null?void 0:C.sub_device)==null?void 0:se.device_paired)===1}),Xe=Ke(()=>{var A;return(A=k.osdData)!=null&&A.timestamp?new Date(k.osdData.timestamp).toLocaleString():"--"}),_=async()=>{var A,p,C;if(!m.value.fileUrl){V.warning("ËØ∑ËæìÂÖ•Âõ∫‰ª∂Êñá‰ª∂URL");return}if(!m.value.fileName){V.warning("ËØ∑ËæìÂÖ•Âõ∫‰ª∂Êñá‰ª∂Âêç");return}if(!m.value.productVersion){V.warning("ËØ∑ËæìÂÖ•Âõ∫‰ª∂ÁâàÊú¨");return}if(!m.value.deviceType){V.warning("ËØ∑ÈÄâÊã©ËÆæÂ§áÁ±ªÂûã");return}T.value=!0;try{const se={sn:m.value.deviceType==="aircraft"?(C=(p=(A=k.osdData)==null?void 0:A.data)==null?void 0:p.sub_device)==null?void 0:C.device_sn:k.deviceSn,product_version:m.value.productVersion,firmware_upgrade_type:m.value.firmwareUpgradeType};m.value.deviceType==="aircraft"&&m.value.fileUrl&&(se.file_url=m.value.fileUrl,se.file_name=m.value.fileName,m.value.md5&&(se.md5=m.value.md5),m.value.fileSize&&(se.file_size=parseInt(m.value.fileSize))),De("startUpgrade",{method:"ota_create",data:{devices:[se]}}),V.success(`${m.value.deviceType==="aircraft"?"È£ûÊú∫":"Êú∫Âú∫"}OTAÂçáÁ∫ßËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅ`)}catch(se){V.error("ÂçáÁ∫ßËØ∑Ê±ÇÂèëÈÄÅÂ§±Ë¥•: "+se.message)}finally{T.value=!1}},x=()=>{m.value={deviceType:"aircraft",type:"firmware",fileUrl:"",fileName:"",productVersion:"",fileSize:"",md5:"",firmwareUpgradeType:2}},O=()=>{De("checkStatus"),V.info("Áä∂ÊÄÅÊ£ÄÊü•ËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅ")},q=()=>{me.value=!0,De("subscribeUpgrade"),setTimeout(()=>{me.value=!1},2e3)},Ue=()=>{n.value=[{timestamp:Date.now()-36e5,deviceType:"aircraft",type:"Âõ∫‰ª∂ÂçáÁ∫ß",version:"1.0.0",status:"completed",result:0,error:""},{timestamp:Date.now()-72e5,deviceType:"dock",type:"Â∫îÁî®ÂçáÁ∫ß",version:"2.1.0",status:"failed",result:1,error:"ÂçáÁ∫ßË∂ÖÊó∂"},{timestamp:Date.now()-108e5,deviceType:"aircraft",type:"Á≥ªÁªüÂçáÁ∫ß",version:"1.5.0",status:"completed",result:0,error:""}],V.success("ÂéÜÂè≤ËÆ∞ÂΩïÂ∑≤Âà∑Êñ∞")},it=A=>({sent:"info",in_progress:"primary",ok:"success",failed:"danger",canceled:"warning",paused:"warning",rejected:"danger",timeout:"danger",pending:"info",downloading:"primary",installing:"warning",completed:"success",cancelled:"info"})[A]||"info",Ot=A=>({sent:"Â∑≤‰∏ãÂèë",in_progress:"ÊâßË°å‰∏≠",ok:"ÊâßË°åÊàêÂäü",failed:"Â§±Ë¥•",canceled:"ÂèñÊ∂àÊàñÁªàÊ≠¢",paused:"ÊöÇÂÅú",rejected:"ÊãíÁªù",timeout:"Ë∂ÖÊó∂",pending:"Á≠âÂæÖ‰∏≠",downloading:"‰∏ãËΩΩ‰∏≠",installing:"ÂÆâË£Ö‰∏≠",completed:"Â∑≤ÂÆåÊàê",cancelled:"Â∑≤ÂèñÊ∂à"})[A]||"Êú™Áü•",Fe=A=>A==="failed"||A==="rejected"||A==="timeout"?"exception":A==="completed"||A==="ok"?"success":"",Wt=A=>A?new Date(A).toLocaleString():"--",ts=()=>{if(!k.upgradeStatusPayload)return"";try{const A=typeof k.upgradeStatusPayload=="string"?JSON.parse(k.upgradeStatusPayload):k.upgradeStatusPayload;return JSON.stringify(A,null,2)}catch{return String(k.upgradeStatusPayload)}};return xs(()=>{Ue()}),(A,p)=>{const C=E("el-icon"),se=E("el-tag"),Le=E("el-col"),dt=E("el-row"),Mt=E("el-card"),ut=E("el-option"),et=E("el-select"),c=E("el-form-item"),b=E("el-input"),z=E("el-button"),$=E("el-form"),N=E("el-progress"),le=E("el-alert"),f=E("el-empty"),l=E("el-table-column"),w=E("el-table"),D=E("el-collapse-item"),oe=E("el-collapse");return y(),h("div",Mp,[t(Mt,{class:"upgrade-card",shadow:"hover",style:{"margin-bottom":"20px"}},{header:s(()=>[e("div",Dp,[t(C,null,{default:s(()=>[t(d(to))]),_:1}),p[9]||(p[9]=e("span",null,"Âõ∫‰ª∂Â±ûÊÄß‰∏äÊä•",-1)),t(se,{type:"info",size:"small",style:{"margin-left":"auto"}},{default:s(()=>[...p[8]||(p[8]=[i(" Topic: thing/product/{gateway_sn}/osd ",-1)])]),_:1})])]),default:s(()=>[e("div",Cp,[e("div",Op,[e("div",Pp,[t(C,{style:{"margin-top":"2px"}},{default:s(()=>[t(d(so))]),_:1}),p[10]||(p[10]=e("div",null,[e("div",{style:{"font-weight":"600","margin-bottom":"4px"}},"Âõ∫‰ª∂Â±ûÊÄß‰∏äÊä•ËØ¥ÊòéÔºö"),e("div",{style:{"line-height":"1.5"}},[i(" ‚Ä¢ Âõ∫‰ª∂‰ø°ÊÅØÂè™ÊúâÂú®ËÆæÂ§áÂèòÂä®Êó∂Êâç‰ºöÊòæÁ§∫"),e("br"),i(" ‚Ä¢ ‰∏ªË¶ÅÂÖ≥Ê≥®"),e("strong",null,"Âõ∫‰ª∂‰∏ÄËá¥ÊÄßÁä∂ÊÄÅ"),i("ÔºåÁî®‰∫éÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÂçáÁ∫ß"),e("br"),i(" ‚Ä¢ È£ûÊú∫ÂºÄÊú∫Áä∂ÊÄÅË°®Á§∫Êú∫Âú∫ÂÅúÊú∫Âù™‰∏äÁöÑÈ£ûË°åÂô®ÊòØÂê¶ÂºÄÊú∫"),e("br"),i(" ‚Ä¢ ÂØπÈ¢ëÁä∂ÊÄÅË°®Á§∫È£ûË°åÂô®ÊòØÂê¶‰∏éÊú∫Âú∫ÂÆåÊàêÂØπÈ¢ëËøûÊé•"),e("br"),i(" ‚Ä¢ Âõ∫‰ª∂ÁâàÊú¨‰ø°ÊÅØ‰Ωú‰∏∫ÂèÇËÄÉÔºåÂÆûÈôÖÂçáÁ∫ß‰ª•‰∏ÄËá¥ÊÄßÁä∂ÊÄÅ‰∏∫ÂáÜ ")])],-1))])]),t(dt,{gutter:20},{default:s(()=>[t(Le,{span:8},{default:s(()=>[e("div",Np,[p[15]||(p[15]=e("h4",null,"È£ûÊú∫Âõ∫‰ª∂‰ø°ÊÅØ",-1)),e("div",Hp,[p[11]||(p[11]=e("span",{class:"label"},"Âõ∫‰ª∂ÁâàÊú¨:",-1)),e("span",Rp,o(Z.value||"--"),1)]),e("div",jp,[p[12]||(p[12]=e("span",{class:"label",style:{"font-weight":"600",color:"var(--el-color-warning-dark-2)"}},"Âõ∫‰ª∂‰∏ÄËá¥ÊÄß:",-1)),t(se,{type:fe.value?"warning":"success",size:"small",style:{"font-weight":"600"}},{default:s(()=>[i(o(fe.value?"ÈúÄË¶ÅÂçáÁ∫ß":"Ê≠£Â∏∏"),1)]),_:1},8,["type"])]),e("div",Ap,[p[13]||(p[13]=e("span",{class:"label"},"ËÆæÂ§áÂûãÂè∑:",-1)),e("span",Lp,o(be.value||"--"),1)]),e("div",Vp,[p[14]||(p[14]=e("span",{class:"label"},"ËÆæÂ§áÂ∫èÂàóÂè∑:",-1)),e("span",Up,o(Pe.value||"--"),1)])])]),_:1}),t(Le,{span:8},{default:s(()=>[e("div",Fp,[p[20]||(p[20]=e("h4",null,"Êú∫Âú∫Âõ∫‰ª∂‰ø°ÊÅØ",-1)),e("div",Ip,[p[16]||(p[16]=e("span",{class:"label"},"Âõ∫‰ª∂ÁâàÊú¨:",-1)),e("span",Jp,o(ue.value||"--"),1)]),e("div",Ep,[p[17]||(p[17]=e("span",{class:"label",style:{"font-weight":"600",color:"var(--el-color-warning-dark-2)"}},"Âõ∫‰ª∂‰∏ÄËá¥ÊÄß:",-1)),t(se,{type:Oe.value?"warning":"success",size:"small",style:{"font-weight":"600"}},{default:s(()=>[i(o(Oe.value?"ÈúÄË¶ÅÂçáÁ∫ß":"Ê≠£Â∏∏"),1)]),_:1},8,["type"])]),e("div",qp,[p[18]||(p[18]=e("span",{class:"label"},"ËÆæÂ§áÂûãÂè∑:",-1)),e("span",Bp,o(nt.value||"--"),1)]),e("div",Qp,[p[19]||(p[19]=e("span",{class:"label"},"ËÆæÂ§áÂ∫èÂàóÂè∑:",-1)),e("span",Gp,o(lt.value||"--"),1)])])]),_:1}),t(Le,{span:8},{default:s(()=>[e("div",Zp,[p[26]||(p[26]=e("h4",null,"Á≥ªÁªüÁä∂ÊÄÅ",-1)),e("div",Kp,[p[21]||(p[21]=e("span",{class:"label"},"È£ûÊú∫ÂºÄÊú∫Áä∂ÊÄÅ:",-1)),t(se,{type:de.value?"success":"danger",size:"small"},{default:s(()=>[i(o(de.value?"ÂºÄÊú∫":"ÂÖ≥Êú∫"),1)]),_:1},8,["type"])]),e("div",Wp,[p[22]||(p[22]=e("span",{class:"label"},"Êú∫Âú∫Âú®Á∫ø:",-1)),t(se,{type:We.value?"success":"danger",size:"small"},{default:s(()=>[i(o(We.value?"Âú®Á∫ø":"Á¶ªÁ∫ø"),1)]),_:1},8,["type"])]),e("div",Yp,[p[23]||(p[23]=e("span",{class:"label"},"ÂØπÈ¢ëÁä∂ÊÄÅ:",-1)),t(se,{type:Ve.value?"success":"warning",size:"small"},{default:s(()=>[i(o(Ve.value?"Â∑≤ÂØπÈ¢ë":"Êú™ÂØπÈ¢ë"),1)]),_:1},8,["type"])]),e("div",Xp,[p[24]||(p[24]=e("span",{class:"label"},"ÊúÄÂêéÊõ¥Êñ∞:",-1)),e("span",e1,o(Xe.value||"--"),1)]),e("div",t1,[p[25]||(p[25]=e("span",{class:"label",style:{"font-weight":"600",color:"var(--el-color-primary-dark-2)"}},"ÂçáÁ∫ßÂª∫ËÆÆ:",-1)),e("span",s1,o(fe.value||Oe.value?"Ê£ÄÊµãÂà∞ËÆæÂ§áÈúÄË¶ÅÂçáÁ∫ß":"ÊâÄÊúâËÆæÂ§áÂõ∫‰ª∂Ê≠£Â∏∏"),1)])])]),_:1})]),_:1})])]),_:1}),t(Mt,{class:"upgrade-card",shadow:"hover",style:{"margin-bottom":"20px"}},{header:s(()=>[e("div",o1,[t(C,null,{default:s(()=>[t(d(oo))]),_:1}),p[28]||(p[28]=e("span",null,"Âõ∫‰ª∂ÂçáÁ∫ßÊìç‰Ωú",-1)),t(se,{type:"primary",size:"small",style:{"margin-left":"auto"}},{default:s(()=>[...p[27]||(p[27]=[i(" Topic: thing/product/{gateway_sn}/services | Method: ota_create ",-1)])]),_:1})])]),default:s(()=>[e("div",a1,[t($,{model:m.value,"label-width":"120px",size:"small"},{default:s(()=>[t(c,{label:"ËÆæÂ§áÁ±ªÂûã"},{default:s(()=>[t(et,{modelValue:m.value.deviceType,"onUpdate:modelValue":p[0]||(p[0]=B=>m.value.deviceType=B),placeholder:"ÈÄâÊã©ËÆæÂ§áÁ±ªÂûã",style:{width:"200px"}},{default:s(()=>[t(ut,{label:"È£ûÊú∫Âõ∫‰ª∂",value:"aircraft"}),t(ut,{label:"Êú∫Âú∫Âõ∫‰ª∂",value:"dock"})]),_:1},8,["modelValue"])]),_:1}),t(c,{label:"ÂçáÁ∫ßÁ±ªÂûã"},{default:s(()=>[t(et,{modelValue:m.value.type,"onUpdate:modelValue":p[1]||(p[1]=B=>m.value.type=B),placeholder:"ÈÄâÊã©ÂçáÁ∫ßÁ±ªÂûã",style:{width:"200px"}},{default:s(()=>[t(ut,{label:"Âõ∫‰ª∂ÂçáÁ∫ß",value:"firmware"}),t(ut,{label:"Â∫îÁî®ÂçáÁ∫ß",value:"application"}),t(ut,{label:"Á≥ªÁªüÂçáÁ∫ß",value:"system"})]),_:1},8,["modelValue"])]),_:1}),t(c,{label:"Âõ∫‰ª∂Êñá‰ª∂URL"},{default:s(()=>[t(b,{modelValue:m.value.fileUrl,"onUpdate:modelValue":p[2]||(p[2]=B=>m.value.fileUrl=B),placeholder:"Âõ∫‰ª∂Êñá‰ª∂‰∏ãËΩΩÂú∞ÂùÄ",style:{width:"400px"}},null,8,["modelValue"])]),_:1}),t(c,{label:"Âõ∫‰ª∂Êñá‰ª∂Âêç"},{default:s(()=>[t(b,{modelValue:m.value.fileName,"onUpdate:modelValue":p[3]||(p[3]=B=>m.value.fileName=B),placeholder:"Âõ∫‰ª∂Êñá‰ª∂ÂêçÁß∞",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),t(c,{label:"Âõ∫‰ª∂ÁâàÊú¨"},{default:s(()=>[t(b,{modelValue:m.value.productVersion,"onUpdate:modelValue":p[4]||(p[4]=B=>m.value.productVersion=B),placeholder:"Âõ∫‰ª∂ÁâàÊú¨Âè∑",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(c,{label:"Êñá‰ª∂Â§ßÂ∞è"},{default:s(()=>[t(b,{modelValue:m.value.fileSize,"onUpdate:modelValue":p[5]||(p[5]=B=>m.value.fileSize=B),placeholder:"Êñá‰ª∂Â§ßÂ∞è(Â≠óËäÇ)",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(c,{label:"MD5Ê†°È™å"},{default:s(()=>[t(b,{modelValue:m.value.md5,"onUpdate:modelValue":p[6]||(p[6]=B=>m.value.md5=B),placeholder:"Êñá‰ª∂MD5ÂÄº",style:{width:"300px"}},null,8,["modelValue"])]),_:1}),t(c,{label:"ÂçáÁ∫ßÁ±ªÂûã"},{default:s(()=>[t(et,{modelValue:m.value.firmwareUpgradeType,"onUpdate:modelValue":p[7]||(p[7]=B=>m.value.firmwareUpgradeType=B),placeholder:"ÈÄâÊã©ÂçáÁ∫ßÁ±ªÂûã",style:{width:"200px"}},{default:s(()=>[t(ut,{label:"‰∏ÄËá¥ÊÄßÂçáÁ∫ß",value:2}),t(ut,{label:"ÊôÆÈÄöÂçáÁ∫ß",value:3})]),_:1},8,["modelValue"])]),_:1}),t(c,null,{default:s(()=>[t(z,{type:"primary",loading:T.value,onClick:_,disabled:!m.value.firmwareUrl},{default:s(()=>[...p[29]||(p[29]=[i(" ÂºÄÂßãÂçáÁ∫ß ",-1)])]),_:1},8,["loading","disabled"]),t(z,{onClick:x},{default:s(()=>[...p[30]||(p[30]=[i("ÈáçÁΩÆ",-1)])]),_:1}),t(z,{type:"warning",onClick:O},{default:s(()=>[...p[31]||(p[31]=[i("Ê£ÄÊü•Áä∂ÊÄÅ",-1)])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),t(Mt,{class:"upgrade-card",shadow:"hover",style:{"margin-bottom":"20px"}},{header:s(()=>[e("div",l1,[t(C,null,{default:s(()=>[t(d(Js))]),_:1}),p[34]||(p[34]=e("span",null,"ÂçáÁ∫ßÁä∂ÊÄÅÁõëÊéß",-1)),t(se,{type:"info",size:"small",style:{"margin-left":"auto","margin-right":"10px"}},{default:s(()=>[...p[32]||(p[32]=[i(" Topic: thing/product/{gateway_sn}/services_reply | Method: ota_create ",-1)])]),_:1}),t(z,{type:"primary",size:"small",loading:me.value,onClick:q},{default:s(()=>[...p[33]||(p[33]=[i(" ÊâãÂä®ËÆ¢ÈòÖÁä∂ÊÄÅ ",-1)])]),_:1},8,["loading"])])]),default:s(()=>[e("div",n1,[k.upgradeStatus?(y(),h("div",i1,[t(dt,{gutter:20},{default:s(()=>[t(Le,{span:8},{default:s(()=>[e("div",r1,[p[35]||(p[35]=e("span",{class:"label"},"ÂçáÁ∫ßÁä∂ÊÄÅ:",-1)),t(se,{type:it(k.upgradeStatus.status),size:"small"},{default:s(()=>[i(o(Ot(k.upgradeStatus.status)),1)]),_:1},8,["type"])])]),_:1}),t(Le,{span:8},{default:s(()=>[e("div",d1,[p[36]||(p[36]=e("span",{class:"label"},"ËøõÂ∫¶:",-1)),t(N,{percentage:k.upgradeStatus.progress||0,status:Fe(k.upgradeStatus.status),style:{width:"150px"}},null,8,["percentage","status"])])]),_:1}),t(Le,{span:8},{default:s(()=>[e("div",u1,[p[37]||(p[37]=e("span",{class:"label"},"Ââ©‰ΩôÊó∂Èó¥:",-1)),e("span",p1,o(k.upgradeStatus.remainingTime||"--"),1)])]),_:1})]),_:1}),k.upgradeStatus.error?(y(),h("div",c1,[t(le,{title:k.upgradeStatus.error,type:"error",closable:!1,"show-icon":""},null,8,["title"])])):L("",!0)])):(y(),h("div",v1,[t(f,{description:"Á≠âÂæÖÂçáÁ∫ßÁä∂ÊÄÅÊï∞ÊçÆ...","image-size":80})]))])]),_:1}),t(Mt,{class:"upgrade-card",shadow:"hover"},{header:s(()=>[e("div",g1,[t(C,null,{default:s(()=>[t(d(Qs))]),_:1}),p[39]||(p[39]=e("span",null,"ÂçáÁ∫ßÂéÜÂè≤ËÆ∞ÂΩï",-1)),t(z,{type:"primary",size:"small",onClick:Ue,style:{"margin-left":"auto"}},{default:s(()=>[...p[38]||(p[38]=[i(" Âà∑Êñ∞ËÆ∞ÂΩï ",-1)])]),_:1})])]),default:s(()=>[e("div",m1,[t(w,{data:n.value,size:"small",height:"300",border:""},{default:s(()=>[t(l,{prop:"timestamp",label:"Êó∂Èó¥",width:"180"},{default:s(B=>[i(o(Wt(B.row.timestamp)),1)]),_:1}),t(l,{prop:"deviceType",label:"ËÆæÂ§áÁ±ªÂûã",width:"100"},{default:s(B=>[t(se,{type:B.row.deviceType==="aircraft"?"primary":"info",size:"small"},{default:s(()=>[i(o(B.row.deviceType==="aircraft"?"È£ûÊú∫":"Êú∫Âú∫"),1)]),_:2},1032,["type"])]),_:1}),t(l,{prop:"type",label:"ÂçáÁ∫ßÁ±ªÂûã",width:"100"}),t(l,{prop:"version",label:"ÁâàÊú¨",width:"120"}),t(l,{prop:"status",label:"Áä∂ÊÄÅ",width:"100"},{default:s(B=>[t(se,{type:it(B.row.status),size:"small"},{default:s(()=>[i(o(Ot(B.row.status)),1)]),_:2},1032,["type"])]),_:1}),t(l,{prop:"result",label:"ÁªìÊûú",width:"100"},{default:s(B=>[t(se,{type:B.row.result===0?"success":"danger",size:"small"},{default:s(()=>[i(o(B.row.result===0?"ÊàêÂäü":"Â§±Ë¥•"),1)]),_:2},1032,["type"])]),_:1}),t(l,{prop:"error",label:"ÈîôËØØ‰ø°ÊÅØ"})]),_:1},8,["data"])])]),_:1}),e("div",f1,[t(oe,null,{default:s(()=>[t(D,{title:"Ë∞ÉËØï‰ø°ÊÅØ",name:"debug"},{default:s(()=>[e("div",y1,[e("div",_1,[p[40]||(p[40]=e("strong",null,"Âõ∫‰ª∂Êï∞ÊçÆÁä∂ÊÄÅ:",-1)),i(" "+o(F.osdData?"Â∑≤Êé•Êî∂":"Êú™Êé•Êî∂"),1)]),e("div",x1,[p[41]||(p[41]=e("strong",null,"ÂçáÁ∫ßÁä∂ÊÄÅÊï∞ÊçÆ:",-1)),i(" "+o(k.upgradeStatus?"Â∑≤Êé•Êî∂":"Êú™Êé•Êî∂"),1)]),e("div",b1,[p[42]||(p[42]=e("strong",null,"ÂéÜÂè≤ËÆ∞ÂΩïÊï∞Èáè:",-1)),i(" "+o(n.value.length),1)]),k.upgradeStatusPayload?(y(),h("div",h1,[p[43]||(p[43]=e("div",{style:{"margin-bottom":"5px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ÊúÄÊñ∞ÂçáÁ∫ßÁä∂ÊÄÅÊï∞ÊçÆÔºö ",-1)),e("pre",w1,o(ts()),1)])):L("",!0)])]),_:1})]),_:1})])])}}},$1=_s(z1,[["__scopeId","data-v-50743dea"]]),k1={style:{padding:"8px 0",color:"var(--el-text-color-regular)","font-size":"13px",display:"flex","flex-direction":"column",gap:"10px"}},S1={style:{display:"flex","align-items":"center",gap:"8px"}},T1={key:0,style:{display:"flex","align-items":"center",gap:"8px"}},M1={style:{"margin-bottom":"15px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},D1={style:{color:"var(--el-text-color-regular)","font-size":"13px","line-height":"1.6"}},C1={style:{"margin-top":"10px"}},O1={style:{"margin-bottom":"15px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},P1={style:{"margin-bottom":"8px"}},N1={style:{color:"var(--el-text-color-regular)","font-size":"13px","font-weight":"600"}},H1={style:{display:"flex",gap:"15px","font-size":"12px"}},R1={style:{color:"var(--el-color-danger)","font-weight":"600"}},j1={key:0,style:{"margin-bottom":"15px"}},A1={style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px"}},L1=["onClick"],V1={style:{"font-family":"monospace",color:"var(--el-text-color-regular)","margin-bottom":"2px"}},U1={style:{color:"var(--el-text-color-primary)","font-weight":"500"}},F1={style:{"font-size":"12px"}},I1={style:{"font-size":"11px"}},J1={style:{"font-size":"11px",color:"var(--el-text-color-regular)"}},E1={style:{"margin-top":"15px",padding:"10px",background:"var(--el-bg-color-page)","border-radius":"4px",border:"1px solid var(--el-border-color-light)"}},q1={style:{"font-size":"11px",color:"var(--el-text-color-placeholder)","line-height":"1.4"}},B1={key:0},Q1={key:1,style:{"margin-top":"15px"}},G1={style:{background:"var(--el-bg-color-page)",padding:"10px","border-radius":"4px",border:"1px solid var(--el-border-color-light)","font-size":"11px","max-height":"300px","overflow-y":"auto"}},Z1={key:2,style:{"margin-top":"15px","text-align":"center",padding:"20px",color:"var(--el-text-color-regular)","font-size":"12px"}},K1={style:{"margin-bottom":"10px"}},W1={key:3,style:{"margin-top":"15px","text-align":"center",padding:"20px",color:"var(--el-text-color-placeholder)","font-size":"12px"}},Y1={__name:"HmsTab",props:{airportSn:String,hmsPayload:[Object,String],hmsData:Array},emits:["subscribeHms"],setup(F,{emit:Tt}){const k=F,De=Tt,T=M(!1),me=M(!1),n=M({}),m=()=>{T.value=!T.value},Z=async()=>{try{const _=await fetch("/docs/hms.json");_.ok?(n.value=await _.json(),console.log("‚úÖ HMSÂëäË≠¶Á†ÅÊò†Â∞ÑÊï∞ÊçÆÂä†ËΩΩÊàêÂäü")):console.error("‚ùå Âä†ËΩΩHMSÊò†Â∞ÑÊï∞ÊçÆÂ§±Ë¥•:",_.status)}catch(_){console.error("‚ùå Âä†ËΩΩHMSÊò†Â∞ÑÊï∞ÊçÆÂ§±Ë¥•:",_)}};xs(()=>{Z()});const fe=async()=>{try{me.value=!0;const _=k.airportSn;if(!_||_==="--"){V.error("Áº∫Â∞ëÁΩëÂÖ≥SNÔºàÊú∫Âú∫SNÔºâ");return}if(!Ts().isConnected){V.error("MQTTÊú™ËøûÊé•ÔºåËØ∑ÂÖàËøûÊé•MQTTÊúçÂä°");return}const O=`thing/product/${_}/events`;console.log("=== ÊâãÂä®ËÆ¢ÈòÖHMSÂëäË≠¶Topic ==="),console.log("Topic:",O),console.log("Gateway SN:",_),De("subscribeHms",{topic:O,gatewaySn:_}),V.success("Â∑≤ÂèëÈÄÅËÆ¢ÈòÖËØ∑Ê±ÇÔºåËØ∑Êü•ÁúãÊéßÂà∂Âè∞Á°ÆËÆ§ËÆ¢ÈòÖÁªìÊûú"),console.log("üì° ËÆ¢ÈòÖËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅÔºåÁ≠âÂæÖÁà∂ÁªÑ‰ª∂Â§ÑÁêÜ...")}catch(_){console.error("ËÆ¢ÈòÖHMSÂëäË≠¶Â§±Ë¥•:",_),V.error("ËÆ¢ÈòÖÂ§±Ë¥•: "+((_==null?void 0:_.message)||"Êú™Áü•ÈîôËØØ"))}finally{me.value=!1}},be=_=>({0:"info",1:"warning",2:"danger"})[_]||"info",Pe=_=>({0:"ÈÄöÁü•",1:"ÊèêÈÜí",2:"Ë≠¶Âëä"})[_]||"Êú™Áü•",de=_=>({0:"primary",1:"success",2:"warning",3:"info"})[_]||"info",ue=_=>({0:"È£ûË°å‰ªªÂä°",1:"ËÆæÂ§áÁÆ°ÁêÜ",2:"Â™í‰Ωì",3:"HMS"})[_]||"Êú™Áü•",Oe=()=>{if(k.hmsPayload)try{const _=typeof k.hmsPayload=="string"?JSON.parse(k.hmsPayload):k.hmsPayload;if(_.timestamp)return new Date(_.timestamp).toLocaleString()}catch(_){console.error("Ëß£ÊûêHMSÊï∞ÊçÆÂ§±Ë¥•:",_)}return"Êú™Ê£ÄÊµã"},nt=_=>{if(!_||!n.value)return null;const x=[_,`dock_tip_${_}`,`aircraft_tip_${_}`,`payload_tip_${_}`,`remote_controller_tip_${_}`];for(const O of x)if(n.value[O])return n.value[O];return null},lt=_=>{const x=nt(_);return x&&(x.zh||x.en)||"Êú™Áü•ÂëäË≠¶"},We=()=>{if(!k.hmsPayload)return"";try{const _=typeof k.hmsPayload=="string"?JSON.parse(k.hmsPayload):k.hmsPayload;return JSON.stringify(_,null,2)}catch(_){return console.error("Ê†ºÂºèÂåñHMSÊ∂àÊÅØÂ§±Ë¥•:",_),String(k.hmsPayload)}},Ve=_=>{if(!_)return"--";try{if(typeof _=="number")return new Date(_).toLocaleString();if(typeof _=="string"){const x=parseInt(_);if(!isNaN(x))return new Date(x).toLocaleString()}return"--"}catch(x){return console.error("Ê†ºÂºèÂåñÂëäË≠¶Êó∂Èó¥Â§±Ë¥•:",x),"--"}},Xe=_=>{const x=nt(_.code);x?V({message:`ÂëäË≠¶Á†Å: ${_.code}
‰∏≠ÊñáÊèèËø∞: ${x.zh||"Êó†"}
Ëã±ÊñáÊèèËø∞: ${x.en||"Êó†"}`,type:"info",duration:5e3,showClose:!0}):V.warning("Êú™ÊâæÂà∞ËØ•ÂëäË≠¶Á†ÅÁöÑËØ¶ÁªÜ‰ø°ÊÅØ")};return(_,x)=>(y(),h("div",k1,[t(d(ns),{shadow:"never"},{header:s(()=>[e("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",cursor:"pointer"},onClick:m},[e("div",S1,[t(d(ps),{style:es({transform:T.value?"rotate(0deg)":"rotate(90deg)",transition:"transform 0.3s"})},{default:s(()=>[t(d(Ss))]),_:1},8,["style"]),x[4]||(x[4]=e("span",{style:{"font-weight":"600","font-size":"14px"}},"HMSÂÅ•Â∫∑ÂëäË≠¶ÁõëÊéß",-1)),T.value?L("",!0):(y(),h("div",T1,[t(d(ke),{size:"small",type:"success"},{default:s(()=>[...x[0]||(x[0]=[i("ÂÆûÊó∂ÁõëÊéß",-1)])]),_:1}),t(d(ke),{size:"small",type:"info"},{default:s(()=>[...x[1]||(x[1]=[i("Topic: thing/product/{gateway_sn}/events",-1)])]),_:1}),t(d(ke),{size:"small",type:"warning"},{default:s(()=>[...x[2]||(x[2]=[i("Direction: up",-1)])]),_:1}),t(d(ke),{size:"small",type:"primary"},{default:s(()=>[...x[3]||(x[3]=[i("Method: hms",-1)])]),_:1})]))])])]),default:s(()=>[t(d(rs),null,{default:s(()=>[ds(e("div",null,[e("div",M1,[e("div",D1,[x[6]||(x[6]=e("div",{style:{"margin-bottom":"8px"}},[e("strong",null,"ÊñπÊ≥ïËØ¥ÊòéÔºö")],-1)),x[7]||(x[7]=e("div",null,[e("strong",null,"Topic:"),i(" thing/product/{gateway_sn}/events")],-1)),x[8]||(x[8]=e("div",null,[e("strong",null,"Direction:"),i(" up (ËÆæÂ§áÁ´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅ)")],-1)),x[9]||(x[9]=e("div",null,[e("strong",null,"Method:"),i(" hms")],-1)),x[10]||(x[10]=e("div",{style:{"margin-top":"8px",color:"var(--el-text-color-placeholder)","font-size":"12px"}}," ËØ∑ÊâãÂä®ËÆ¢ÈòÖÊ≠§TopicÊù•Êé•Êî∂ÂÆûÊó∂ÁöÑÂÅ•Â∫∑ÂëäË≠¶ÈÄöÁü• ",-1)),e("div",C1,[t(d(St),{type:"success",onClick:fe,loading:me.value,size:"small"},{default:s(()=>[t(d(ps),null,{default:s(()=>[t(d(Ps))]),_:1}),x[5]||(x[5]=i(" ÊâãÂä®ËÆ¢ÈòÖHMSÂëäË≠¶ ",-1))]),_:1},8,["loading"])])])]),e("div",O1,[e("div",P1,[e("div",N1," ÂÅ•Â∫∑Ê£ÄÊµãÁä∂ÊÄÅ - ÊúÄÊñ∞Ê£ÄÊµã: "+o(Oe()),1)]),e("div",H1,[e("div",null,[x[11]||(x[11]=e("span",{style:{color:"var(--el-text-color-regular)"}},"ÂëäË≠¶Êï∞Èáè:",-1)),e("span",R1,o(F.hmsData.length),1)]),e("div",null,[x[12]||(x[12]=e("span",{style:{color:"var(--el-text-color-regular)"}},"Ê£ÄÊµãÁä∂ÊÄÅ:",-1)),t(d(ke),{type:F.hmsData.length>0?"danger":"success",size:"small"},{default:s(()=>[i(o(F.hmsData.length>0?"ÊúâÂëäË≠¶":"Ê≠£Â∏∏"),1)]),_:1},8,["type"])])])]),F.hmsData.length>0?(y(),h("div",j1,[e("div",A1," ÂÅ•Â∫∑ÂëäË≠¶ÂàóË°® ("+o(F.hmsData.length)+"Êù°)Ôºö ",1),t(d(ys),{data:F.hmsData,size:"small",height:"300",border:"",stripe:"",style:{"margin-bottom":"15px"}},{default:s(()=>[t(d(re),{prop:"level",label:"ÂëäË≠¶Á≠âÁ∫ß",width:"100"},{default:s(O=>[t(d(ke),{type:be(O.row.level),size:"small"},{default:s(()=>[i(o(Pe(O.row.level)),1)]),_:2},1032,["type"])]),_:1}),t(d(re),{prop:"module",label:"‰∫ã‰ª∂Ê®°Âùó",width:"100"},{default:s(O=>[t(d(ke),{type:de(O.row.module),size:"small"},{default:s(()=>[i(o(ue(O.row.module)),1)]),_:2},1032,["type"])]),_:1}),t(d(re),{prop:"in_the_sky",label:"È£ûË°åÁä∂ÊÄÅ",width:"100"},{default:s(O=>[t(d(ke),{type:O.row.in_the_sky?"warning":"info",size:"small"},{default:s(()=>[i(o(O.row.in_the_sky?"Âú®Â§©‰∏ä":"Âú®Âú∞‰∏ä"),1)]),_:2},1032,["type"])]),_:1}),t(d(re),{prop:"code",label:"ÂëäË≠¶Á†Å",width:"200"},{default:s(O=>[e("div",{style:{"font-size":"12px",cursor:"pointer"},onClick:q=>Xe(O.row)},[e("div",V1,o(O.row.code),1),e("div",U1,o(lt(O.row.code)),1),x[13]||(x[13]=e("div",{style:{color:"var(--el-text-color-placeholder)","font-size":"10px","margin-top":"2px"}}," ÁÇπÂáªÊü•ÁúãËØ¶ÊÉÖ ",-1))],8,L1)]),_:1}),t(d(re),{prop:"device_type",label:"ËÆæÂ§áÁ±ªÂûã",width:"120"},{default:s(O=>[e("span",F1,o(O.row.device_type),1)]),_:1}),t(d(re),{prop:"imminent",label:"ÂèäÊó∂ÊÄß",width:"80"},{default:s(O=>[t(d(ke),{type:O.row.imminent?"danger":"success",size:"small"},{default:s(()=>[i(o(O.row.imminent?"ÊòØ":"Âê¶"),1)]),_:2},1032,["type"])]),_:1}),t(d(re),{prop:"args",label:"ÂèÇÊï∞",width:"120"},{default:s(O=>{var q,Ue;return[e("div",I1,[e("div",null,"ÁªÑ‰ª∂: "+o(((q=O.row.args)==null?void 0:q.component_index)||"--"),1),e("div",null,"‰º†ÊÑüÂô®: "+o(((Ue=O.row.args)==null?void 0:Ue.sensor_index)||"--"),1)])]}),_:1}),t(d(re),{prop:"timestamp",label:"ÂëäË≠¶Êó∂Èó¥",width:"150"},{default:s(O=>[e("div",J1,o(Ve(O.row.timestamp)),1)]),_:1})]),_:1},8,["data"])])):L("",!0),e("div",E1,[x[14]||(x[14]=e("div",{style:{"font-size":"12px",color:"var(--el-text-color-regular)","margin-bottom":"8px"}},[e("strong",null,"Ë∞ÉËØï‰ø°ÊÅØÔºö")],-1)),e("div",q1,[e("div",null,"hmsPayload: "+o(F.hmsPayload?"ÊúâÊï∞ÊçÆ":"Êó†Êï∞ÊçÆ"),1),e("div",null,"ÂëäË≠¶Êï∞ÊçÆ: "+o(F.hmsData.length)+"Êù°",1),F.hmsPayload?(y(),h("div",B1,"hmsPayloadÁ±ªÂûã: "+o(typeof F.hmsPayload),1)):L("",!0)])]),F.hmsPayload&&F.hmsData.length>0?(y(),h("div",Q1,[x[15]||(x[15]=e("div",{style:{"margin-bottom":"8px",color:"var(--el-text-color-regular)","font-size":"13px"}}," ÂÆåÊï¥HMSÊ∂àÊÅØÔºö ",-1)),e("pre",G1,o(We()),1)])):L("",!0),F.hmsPayload&&F.hmsData.length===0?(y(),h("div",Z1,[e("div",K1,[t(d(ps),{size:"48",color:"var(--el-color-success)"},{default:s(()=>[t(d(ao))]),_:1})]),x[16]||(x[16]=e("div",{style:{"font-size":"14px","margin-bottom":"8px",color:"var(--el-color-success)"}},"Á≥ªÁªüÂÅ•Â∫∑Áä∂ÊÄÅÊ≠£Â∏∏",-1)),x[17]||(x[17]=e("div",{style:{color:"var(--el-text-color-placeholder)"}},"ÊöÇÊó†ÂÅ•Â∫∑ÂëäË≠¶",-1))])):L("",!0),F.hmsPayload?L("",!0):(y(),h("div",W1," Á≠âÂæÖÊé•Êî∂HMSÂÅ•Â∫∑Ê£ÄÊµãÊï∞ÊçÆ... "))],512),[[us,!T.value]])]),_:1})]),_:1})]))}};const X1={class:"aircraft-detail"},ec={class:"header-left"},tc={class:"header-right"},sc={style:{padding:"8px 0",display:"flex","justify-content":"space-between","align-items":"center"}},oc={style:{display:"flex",gap:"8px"}},ac={style:{"font-family":"monospace"}},lc={__name:"AircraftDetail",setup(F){const Tt=lo(),k=no(),De=Ts(),T=js(),me=M(Tt.params.deviceSn||Tt.params.aircraftSn||"--"),n=M("airport-detail"),m=M(null),Z=M(null),fe=M(null),be=M(null),Pe=M([]),de=M(!1),ue=M(""),Oe=M(""),nt=M(null),lt=M(null),We=M(!1),Ve=M(""),Xe=M(""),_=M(null),x=M(null),O=M(null),q=M([]),Ue=M([]),it=()=>{k.go(-1)},Ot=()=>{var D;return Tt.params.airportSn||((D=T.currentDevice)==null?void 0:D.airport_sn)||me.value||"--"},Fe=()=>Tt.params.aircraftSn||me.value||"--",Wt=Ke(()=>T.deviceList),ts=Ke(()=>Wt.value.filter(w=>w.type==="airport"||w.airport_sn)),A=Ke(()=>Wt.value.filter(w=>w.type==="aircraft"&&w.airport_sn)),p=w=>{console.log("Êú∫Âú∫Êï∞ÊçÆÊé•Êî∂‰∫ã‰ª∂:",w),m.value=w},C=w=>{console.log("Êú∫Âú∫ËÆ¢ÈòÖÁä∂ÊÄÅ‰∫ã‰ª∂:",w)},se=w=>{console.log("È£ûÊú∫Êï∞ÊçÆÊé•Êî∂‰∫ã‰ª∂:",w)},Le=w=>{console.log("È£ûÊú∫ËÆ¢ÈòÖÁä∂ÊÄÅ‰∫ã‰ª∂:",w)},dt=()=>{console.log("ËÆ¢ÈòÖHMS‰∫ã‰ª∂")},Mt=()=>{console.log("ËÆ¢ÈòÖÂçáÁ∫ß‰∫ã‰ª∂")},ut=()=>{console.log("ÂºÄÂßãÂçáÁ∫ß‰∫ã‰ª∂")},et=()=>{console.log("Ê£ÄÊü•ÂçáÁ∫ßÁä∂ÊÄÅ‰∫ã‰ª∂")},c=()=>{console.log("Âø´ÈÄüËé∑ÂèñÊñá‰ª∂ÂàóË°®")},b=()=>{console.log("Êñá‰ª∂‰∏ä‰º†‰∫ã‰ª∂")},z=()=>{console.log("Áä∂ÊÄÅÊõ¥Êñ∞‰∫ã‰ª∂")},$=()=>{console.log("ËÆ¢ÈòÖËøõÂ∫¶‰∫ã‰ª∂")},N=()=>{console.log("Âà∑Êñ∞‰ªªÂä°ËÆ∞ÂΩï")},le=w=>w?new Date(w).toLocaleString():"--",f=w=>w?JSON.stringify(w).substring(0,50)+"...":"--";xs(async()=>{console.log("AircraftDetailÈ°µÈù¢Â∑≤ÊåÇËΩΩ");try{if(await T.loadDevices(),console.log("ËÆæÂ§áÂàóË°®Â∑≤Âä†ËΩΩ:",T.deviceList.length,"‰∏™ËÆæÂ§á"),!De.isConnected){console.log("MQTTÊú™ËøûÊé•ÔºåÂ∞ùËØï‰ΩøÁî®ÈªòËÆ§ËøûÊé•");try{await De.connect(),console.log("MQTTÈªòËÆ§ËøûÊé•ÊàêÂäü")}catch(w){console.error("MQTTÈªòËÆ§ËøûÊé•Â§±Ë¥•:",w),V.warning("MQTTËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•")}}setTimeout(async()=>{await l()},1e3)}catch(w){console.error("È°µÈù¢ÂàùÂßãÂåñÂ§±Ë¥•:",w)}});const l=async()=>{try{if(!De.isConnected){console.log("Á≠âÂæÖMQTTËøûÊé•...");return}const w=ts.value[0];if(w){console.log("Ëá™Âä®ËÆ¢ÈòÖÈ¶ñ‰∏™Êú∫Âú∫:",w.sn);try{const oe=`thing/product/${w.sn}/osd`;await De.subscribeToTopics(oe,1),console.log("Êú∫Âú∫OSDËÆ¢ÈòÖÊàêÂäü:",oe)}catch(oe){console.error("Êú∫Âú∫OSDËÆ¢ÈòÖÂ§±Ë¥•:",oe)}}const D=A.value[0];if(D){console.log("Ëá™Âä®ËÆ¢ÈòÖÈ¶ñ‰∏™È£ûÊú∫:",D.sn);try{const oe=`thing/product/${D.sn}/osd`;await De.subscribeToTopics(oe,1),console.log("È£ûÊú∫OSDËÆ¢ÈòÖÊàêÂäü:",oe)}catch(oe){console.error("È£ûÊú∫OSDËÆ¢ÈòÖÂ§±Ë¥•:",oe)}}me.value==="--"&&D&&(me.value=D.sn,console.log("Ëá™Âä®ËÆæÁΩÆÂΩìÂâçËÆæÂ§áSN:",D.sn)),(w||D)&&V.success("Â∑≤Ëá™Âä®ËÆ¢ÈòÖÈ¶ñ‰∏™ËÆæÂ§áÊï∞ÊçÆ")}catch(w){console.error("Ëá™Âä®ËÆ¢ÈòÖËÆæÂ§áÂ§±Ë¥•:",w),V.warning("Ëá™Âä®ËÆ¢ÈòÖËÆæÂ§áÂ§±Ë¥•ÔºåËØ∑ÊâãÂä®ËÆ¢ÈòÖ")}};return(w,D)=>{const oe=E("el-button"),B=E("el-tag"),Ie=E("el-header"),K=E("el-tab-pane"),he=E("el-table-column"),Ye=E("el-table"),v=E("el-tabs"),r=E("el-card"),g=E("el-main"),S=E("el-container");return y(),h("div",X1,[t(S,{style:{height:"100vh"}},{default:s(()=>[t(Ie,{class:"detail-header"},{default:s(()=>[e("div",ec,[t(oe,{type:"primary",icon:d(io),onClick:it,style:{"margin-right":"16px"}},{default:s(()=>[...D[1]||(D[1]=[i(" ËøîÂõû ",-1)])]),_:1},8,["icon"]),e("h2",null,"È£ûÊú∫‰ø°ÊÅØËØ¶ÊÉÖ - "+o(me.value),1)]),e("div",tc,[t(B,{type:d(De).isConnected?"success":"danger",size:"large"},{default:s(()=>[i(o(d(De).isConnected?"Â∑≤ËøûÊé•":"Êú™ËøûÊé•"),1)]),_:1},8,["type"])])]),_:1}),t(g,{class:"detail-main"},{default:s(()=>[t(r,{shadow:"never",style:{"margin-bottom":"12px"}},{default:s(()=>[t(v,{modelValue:n.value,"onUpdate:modelValue":D[0]||(D[0]=R=>n.value=R),type:"border-card"},{default:s(()=>[t(K,{label:"Êú∫Âú∫‰ø°ÊÅØ",name:"airport-detail"},{default:s(()=>[n.value==="airport-detail"?(y(),Xt(ri,{key:0,"device-sn":me.value,"airport-sn":Ot(),onDataReceived:p,onSubscriptionStatus:C},null,8,["device-sn","airport-sn"])):L("",!0)]),_:1}),t(K,{label:"È£ûÊú∫‰ø°ÊÅØ",name:"aircraft-detail"},{default:s(()=>[n.value==="aircraft-detail"?(y(),Xt(bu,{key:0,"device-sn":me.value,"aircraft-sn":Fe(),onDataReceived:se,onSubscriptionStatus:Le},null,8,["device-sn","aircraft-sn"])):L("",!0)]),_:1}),t(K,{label:"Áõ¥Êí≠‰ø°ÊÅØ",name:"live-stream"},{default:s(()=>[n.value==="live-stream"?(y(),Xt(uo,{key:0,"airport-sn":Ot(),"aircraft-sn":Fe()},null,8,["airport-sn","aircraft-sn"])):L("",!0)]),_:1}),t(K,{label:"ËøúÁ®ãÊó•Âøó",name:"remote-log"},{default:s(()=>[t(Tp,{sending:de.value,airportSn:Ot(),requestTopic:ue.value,replyTopic:Oe.value,requestPayload:nt.value,replyPayload:lt.value,uploadSending:We.value,uploadRequestTopic:Ve.value,uploadReplyTopic:Xe.value,uploadRequestPayload:_.value,uploadReplyPayload:x.value,progressPayload:O.value,allEventsMessages:q.value,onRequest:c,onUpload:b,onStatusUpdate:z,onSubscribeProgress:$},null,8,["sending","airportSn","requestTopic","replyTopic","requestPayload","replyPayload","uploadSending","uploadRequestTopic","uploadReplyTopic","uploadRequestPayload","uploadReplyPayload","progressPayload","allEventsMessages"])]),_:1}),t(K,{label:"ËÆ°ÂàíÂ∫ì‰ªªÂä°ËÆ∞ÂΩï",name:"task-records"},{default:s(()=>[e("div",sc,[D[3]||(D[3]=e("div",{style:{color:"var(--el-text-color-regular)","font-size":"13px"}},"‰ªªÂä°‰∏ãÂèëÂêéÁöÑÊú¨Âú∞ËÆ∞ÂΩïÔºàÂêéÁ´ØÊé•ÂÖ•ÂêéÂèØÊõøÊç¢‰∏∫ÁúüÂÆûÊï∞ÊçÆÔºâ",-1)),e("div",oc,[t(oe,{size:"small",onClick:N},{default:s(()=>[...D[2]||(D[2]=[i("Âà∑Êñ∞ËÆ∞ÂΩï",-1)])]),_:1})])]),t(Ye,{data:Ue.value,size:"small",height:"360",border:""},{default:s(()=>[t(he,{prop:"taskId",label:"‰ªªÂä°ID",width:"160"}),t(he,{prop:"method",label:"ÊñπÊ≥ï",width:"140"}),t(he,{prop:"tid",label:"TID",width:"220"}),t(he,{prop:"gatewaySn",label:"Êú∫Âú∫SN",width:"160"}),t(he,{label:"ËØ∑Ê±ÇÂèÇÊï∞"},{default:s(R=>[e("span",ac,o(f(R.row.payload)),1)]),_:1}),t(he,{prop:"result",label:"ÁªìÊûúÁ†Å",width:"100"}),t(he,{label:"Êó∂Èó¥",width:"180"},{default:s(R=>[i(o(le(R.row.createdAt)),1)]),_:1})]),_:1},8,["data"])]),_:1}),t(K,{label:"ËøúÁ®ãÂçáÁ∫ßÂäüËÉΩ",name:"remote-upgrade"},{default:s(()=>[t($1,{"device-sn":me.value,"osd-data":m.value,"upgrade-status":Z.value,"upgrade-status-payload":fe.value,onSubscribeUpgrade:Mt,onStartUpgrade:ut,onCheckStatus:et},null,8,["device-sn","osd-data","upgrade-status","upgrade-status-payload"])]),_:1}),t(K,{label:"HMS ÂäüËÉΩ",name:"hms"},{default:s(()=>[t(Y1,{airportSn:Ot(),hmsPayload:be.value,hmsData:Pe.value,onSubscribeHms:dt},null,8,["airportSn","hmsPayload","hmsData"])]),_:1}),t(K,{label:"ËøúÁ®ãË∞ÉËØï",name:"remote-debug"},{default:s(()=>[...D[4]||(D[4]=[e("div",{style:{padding:"8px 0",color:"var(--el-text-color-regular)","font-size":"13px"}}," Âú®Ê≠§Â§ÑÈõÜÊàêËøúÁ®ãË∞ÉËØïÊìç‰ΩúÔºàËøúÁ®ãÊéßÂà∂„ÄÅÂèÇÊï∞Êü•ËØ¢/ËÆæÁΩÆÁ≠âÔºâ„ÄÇ ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])}}},dc=_s(lc,[["__scopeId","data-v-91f381b1"]]);export{dc as default};
